function e(e,t){for(var n=0;n<t.length;n++){const r=t[n];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(r,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var r={exports:{}},i={},o={exports:{}},a={},s=Symbol.for("react.element"),l=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,w={};function S(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||b}function E(){}function k(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||b}S.prototype.isReactComponent={},S.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},S.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},E.prototype=S.prototype;var _=k.prototype=new E;_.constructor=k,x(_,S.prototype),_.isPureReactComponent=!0;var O=Array.isArray,T=Object.prototype.hasOwnProperty,j={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,n){var r,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)T.call(t,r)&&!C.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:s,type:e,key:o,ref:a,props:i,_owner:j.current}}function P(e){return"object"==typeof e&&null!==e&&e.$$typeof===s}var A=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function M(e,t,n,r,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var a=!1;if(null===e)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case s:case l:a=!0}}if(a)return i=i(a=e),e=""===r?"."+I(a,0):r,O(i)?(n="",null!=e&&(n=e.replace(A,"$&/")+"/"),M(i,t,n,"",function(e){return e})):null!=i&&(P(i)&&(i=function(e,t){return{$$typeof:s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(A,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=""===r?".":r+":",O(e))for(var c=0;c<e.length;c++){var u=r+I(o=e[c],c);a+=M(o,t,n,u,i)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=v&&e[v]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)a+=M(o=o.value,t,n,u=r+I(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function D(e,t,n){if(null==e)return e;var r=[],i=0;return M(e,r,"","",function(e){return t.call(n,e,i++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},F={transition:null},U={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:F,ReactCurrentOwner:j};function z(){throw Error("act(...) is not supported in production builds of React.")}a.Children={map:D,forEach:function(e,t,n){D(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return D(e,function(){t++}),t},toArray:function(e){return D(e,function(e){return e})||[]},only:function(e){if(!P(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},a.Component=S,a.Fragment=c,a.Profiler=h,a.PureComponent=k,a.StrictMode=u,a.Suspense=m,a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,a.act=z,a.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=x({},e.props),i=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=j.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)T.call(t,c)&&!C.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:s,type:e.type,key:i,ref:o,props:r,_owner:a}},a.createContext=function(e){return(e={$$typeof:f,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:d,_context:e},e.Consumer=e},a.createElement=N,a.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},a.createRef=function(){return{current:null}},a.forwardRef=function(e){return{$$typeof:p,render:e}},a.isValidElement=P,a.lazy=function(e){return{$$typeof:g,_payload:{_status:-1,_result:e},_init:R}},a.memo=function(e,t){return{$$typeof:y,type:e,compare:void 0===t?null:t}},a.startTransition=function(e){var t=F.transition;F.transition={};try{e()}finally{F.transition=t}},a.unstable_act=z,a.useCallback=function(e,t){return L.current.useCallback(e,t)},a.useContext=function(e){return L.current.useContext(e)},a.useDebugValue=function(){},a.useDeferredValue=function(e){return L.current.useDeferredValue(e)},a.useEffect=function(e,t){return L.current.useEffect(e,t)},a.useId=function(){return L.current.useId()},a.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},a.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},a.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},a.useMemo=function(e,t){return L.current.useMemo(e,t)},a.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},a.useRef=function(e){return L.current.useRef(e)},a.useState=function(e){return L.current.useState(e)},a.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},a.useTransition=function(){return L.current.useTransition()},a.version="18.3.1",o.exports=a;var B=o.exports;const V=n(B),$=e({__proto__:null,default:V},[B]);
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var q=B,H=Symbol.for("react.element"),W=Symbol.for("react.fragment"),G=Object.prototype.hasOwnProperty,K=q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Y={key:!0,ref:!0,__self:!0,__source:!0};function X(e,t,n){var r,i={},o=null,a=null;for(r in void 0!==n&&(o=""+n),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(a=t.ref),t)G.call(t,r)&&!Y.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:H,type:e,key:o,ref:a,props:i,_owner:K.current}}i.Fragment=W,i.jsx=X,i.jsxs=X,r.exports=i;var Q=r.exports,J={},Z={exports:{}},ee={},te={exports:{}},ne={};
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,h=null,d=3,f=!1,p=!1,m=!1,y="function"==typeof setTimeout?setTimeout:null,g="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(c);null!==i;){if(null===i.callback)r(c);else{if(!(i.startTime<=e))break;r(c),i.sortIndex=i.expirationTime,t(l,i)}i=n(c)}}function x(e){if(m=!1,b(e),!p)if(null!==n(l))p=!0,A(w);else{var t=n(c);null!==t&&I(x,t.startTime-e)}}function w(t,i){p=!1,m&&(m=!1,g(_),_=-1),f=!0;var o=d;try{for(b(i),h=n(l);null!==h&&(!(h.expirationTime>i)||t&&!j());){var a=h.callback;if("function"==typeof a){h.callback=null,d=h.priorityLevel;var s=a(h.expirationTime<=i);i=e.unstable_now(),"function"==typeof s?h.callback=s:h===n(l)&&r(l),b(i)}else r(l);h=n(l)}if(null!==h)var u=!0;else{var y=n(c);null!==y&&I(x,y.startTime-i),u=!1}return u}finally{h=null,d=o,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,k=null,_=-1,O=5,T=-1;function j(){return!(e.unstable_now()-T<O)}function C(){if(null!==k){var t=e.unstable_now();T=t;var n=!0;try{n=k(!0,t)}finally{n?S():(E=!1,k=null)}}else E=!1}if("function"==typeof v)S=function(){v(C)};else if("undefined"!=typeof MessageChannel){var N=new MessageChannel,P=N.port2;N.port1.onmessage=C,S=function(){P.postMessage(null)}}else S=function(){y(C,0)};function A(e){k=e,E||(E=!0,S())}function I(t,n){_=y(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,A(w))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},e.unstable_scheduleCallback=function(r,i,o){var a=e.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?a+o:a:o=a,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return r={id:u++,callback:i,priorityLevel:r,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(r.sortIndex=o,t(c,r),null===n(l)&&r===n(c)&&(m?(g(_),_=-1):m=!0,I(x,o-a))):(r.sortIndex=s,t(l,r),p||f||(p=!0,A(w))),r},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}}(ne),te.exports=ne;var re=te.exports,ie=B,oe=re;
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function ae(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var se=new Set,le={};function ce(e,t){ue(e,t),ue(e+"Capture",t)}function ue(e,t){for(le[e]=t,e=0;e<t.length;e++)se.add(t[e])}var he=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),de=Object.prototype.hasOwnProperty,fe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pe={},me={};function ye(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ge[e]=new ye(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ge[t]=new ye(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ge[e]=new ye(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ge[e]=new ye(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ge[e]=new ye(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){ge[e]=new ye(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){ge[e]=new ye(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){ge[e]=new ye(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){ge[e]=new ye(e,5,!1,e.toLowerCase(),null,!1,!1)});var ve=/[\-:]([a-z])/g;function be(e){return e[1].toUpperCase()}function xe(e,t,n,r){var i=ge.hasOwnProperty(t)?ge[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!de.call(me,e)||!de.call(pe,e)&&(fe.test(e)?me[e]=!0:(pe[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ve,be);ge[t]=new ye(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ve,be);ge[t]=new ye(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ve,be);ge[t]=new ye(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){ge[e]=new ye(e,1,!1,e.toLowerCase(),null,!1,!1)}),ge.xlinkHref=new ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){ge[e]=new ye(e,1,!1,e.toLowerCase(),null,!0,!0)});var we=ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Se=Symbol.for("react.element"),Ee=Symbol.for("react.portal"),ke=Symbol.for("react.fragment"),_e=Symbol.for("react.strict_mode"),Oe=Symbol.for("react.profiler"),Te=Symbol.for("react.provider"),je=Symbol.for("react.context"),Ce=Symbol.for("react.forward_ref"),Ne=Symbol.for("react.suspense"),Pe=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),Ie=Symbol.for("react.lazy"),Me=Symbol.for("react.offscreen"),De=Symbol.iterator;function Re(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=De&&e[De]||e["@@iterator"])?e:null}var Le,Fe=Object.assign;function Ue(e){if(void 0===Le)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Le=t&&t[1]||""}return"\n"+Le+e}var ze=!1;function Be(e,t){if(!e||ze)return"";ze=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Qd){var r=Qd}Reflect.construct(e,[],t)}else{try{t.call()}catch(Qd){r=Qd}e.call(t.prototype)}else{try{throw Error()}catch(Qd){r=Qd}e()}}catch(Qd){if(Qd&&r&&"string"==typeof Qd.stack){for(var i=Qd.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{ze=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ue(e):""}function Ve(e){switch(e.tag){case 5:return Ue(e.type);case 16:return Ue("Lazy");case 13:return Ue("Suspense");case 19:return Ue("SuspenseList");case 0:case 2:case 15:return e=Be(e.type,!1);case 11:return e=Be(e.type.render,!1);case 1:return e=Be(e.type,!0);default:return""}}function $e(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ke:return"Fragment";case Ee:return"Portal";case Oe:return"Profiler";case _e:return"StrictMode";case Ne:return"Suspense";case Pe:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case je:return(e.displayName||"Context")+".Consumer";case Te:return(e._context.displayName||"Context")+".Provider";case Ce:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Ae:return null!==(t=e.displayName||null)?t:$e(e.type)||"Memo";case Ie:t=e._payload,e=e._init;try{return $e(e(t))}catch(n){}}return null}function qe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $e(t);case 8:return t===_e?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function He(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function We(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ge(e){e._valueTracker||(e._valueTracker=function(e){var t=We(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ke(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=We(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Ye(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Xe(e,t){var n=t.checked;return Fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Qe(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=He(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Je(e,t){null!=(t=t.checked)&&xe(e,"checked",t,!1)}function Ze(e,t){Je(e,t);var n=He(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?tt(e,t.type,n):t.hasOwnProperty("defaultValue")&&tt(e,t.type,He(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function et(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function tt(e,t,n){"number"===t&&Ye(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var nt=Array.isArray;function rt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+He(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function it(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(ae(91));return Fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ot(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(ae(92));if(nt(n)){if(1<n.length)throw Error(ae(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:He(n)}}function at(e,t){var n=He(t.value),r=He(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function st(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function lt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ct(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?lt(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ut,ht,dt=(ht=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ut=ut||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ut.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ht(e,t)})}:ht);function ft(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mt=["Webkit","ms","Moz","O"];function yt(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||pt.hasOwnProperty(e)&&pt[e]?(""+t).trim():t+"px"}function gt(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=yt(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pt).forEach(function(e){mt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pt[t]=pt[e]})});var vt=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bt(e,t){if(t){if(vt[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(ae(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(ae(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(ae(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(ae(62))}}function xt(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wt=null;function St(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Et=null,kt=null,_t=null;function Ot(e){if(e=wo(e)){if("function"!=typeof Et)throw Error(ae(280));var t=e.stateNode;t&&(t=Eo(t),Et(e.stateNode,e.type,t))}}function Tt(e){kt?_t?_t.push(e):_t=[e]:kt=e}function jt(){if(kt){var e=kt,t=_t;if(_t=kt=null,Ot(e),t)for(e=0;e<t.length;e++)Ot(t[e])}}function Ct(e,t){return e(t)}function Nt(){}var Pt=!1;function At(e,t,n){if(Pt)return e(t,n);Pt=!0;try{return Ct(e,t,n)}finally{Pt=!1,(null!==kt||null!==_t)&&(Nt(),jt())}}function It(e,t){var n=e.stateNode;if(null===n)return null;var r=Eo(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(ae(231,t,typeof n));return n}var Mt=!1;if(he)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){Mt=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch(ht){Mt=!1}function Rt(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Lt=!1,Ft=null,Ut=!1,zt=null,Bt={onError:function(e){Lt=!0,Ft=e}};function Vt(e,t,n,r,i,o,a,s,l){Lt=!1,Ft=null,Rt.apply(Bt,arguments)}function $t(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ht(e){if($t(e)!==e)throw Error(ae(188))}function Wt(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=$t(e)))throw Error(ae(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ht(i),e;if(o===r)return Ht(i),t;o=o.sibling}throw Error(ae(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(ae(189))}}if(n.alternate!==r)throw Error(ae(190))}if(3!==n.tag)throw Error(ae(188));return n.stateNode.current===n?e:t}(e))?Gt(e):null}function Gt(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Gt(e);if(null!==t)return t;e=e.sibling}return null}var Kt=oe.unstable_scheduleCallback,Yt=oe.unstable_cancelCallback,Xt=oe.unstable_shouldYield,Qt=oe.unstable_requestPaint,Jt=oe.unstable_now,Zt=oe.unstable_getCurrentPriorityLevel,en=oe.unstable_ImmediatePriority,tn=oe.unstable_UserBlockingPriority,nn=oe.unstable_NormalPriority,rn=oe.unstable_LowPriority,on=oe.unstable_IdlePriority,an=null,sn=null;var ln=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(cn(e)/un|0)|0},cn=Math.log,un=Math.LN2;var hn=64,dn=4194304;function fn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pn(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=fn(s):0!==(o&=a)&&(r=fn(o))}else 0!==(a=n&~i)?r=fn(a):0!==o&&(r=fn(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&4194240&o))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ln(t)),r|=e[n],t&=~i;return r}function mn(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function yn(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gn(){var e=hn;return!(4194240&(hn<<=1))&&(hn=64),e}function vn(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bn(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ln(t)]=n}function xn(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ln(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wn=0;function Sn(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var En,kn,_n,On,Tn,jn=!1,Cn=[],Nn=null,Pn=null,An=null,In=new Map,Mn=new Map,Dn=[],Rn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ln(e,t){switch(e){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":In.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mn.delete(t.pointerId)}}function Fn(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=wo(t))&&kn(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Un(e){var t=xo(e.target);if(null!==t){var n=$t(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qt(n)))return e.blockedOn=t,void Tn(e.priority,function(){_n(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zn(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wo(n))&&kn(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);wt=r,n.target.dispatchEvent(r),wt=null,t.shift()}return!0}function Bn(e,t,n){zn(e)&&n.delete(t)}function Vn(){jn=!1,null!==Nn&&zn(Nn)&&(Nn=null),null!==Pn&&zn(Pn)&&(Pn=null),null!==An&&zn(An)&&(An=null),In.forEach(Bn),Mn.forEach(Bn)}function $n(e,t){e.blockedOn===t&&(e.blockedOn=null,jn||(jn=!0,oe.unstable_scheduleCallback(oe.unstable_NormalPriority,Vn)))}function qn(e){function t(t){return $n(t,e)}if(0<Cn.length){$n(Cn[0],e);for(var n=1;n<Cn.length;n++){var r=Cn[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nn&&$n(Nn,e),null!==Pn&&$n(Pn,e),null!==An&&$n(An,e),In.forEach(t),Mn.forEach(t),n=0;n<Dn.length;n++)(r=Dn[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dn.length&&null===(n=Dn[0]).blockedOn;)Un(n),null===n.blockedOn&&Dn.shift()}var Hn=we.ReactCurrentBatchConfig,Wn=!0;function Gn(e,t,n,r){var i=wn,o=Hn.transition;Hn.transition=null;try{wn=1,Yn(e,t,n,r)}finally{wn=i,Hn.transition=o}}function Kn(e,t,n,r){var i=wn,o=Hn.transition;Hn.transition=null;try{wn=4,Yn(e,t,n,r)}finally{wn=i,Hn.transition=o}}function Yn(e,t,n,r){if(Wn){var i=Qn(e,t,n,r);if(null===i)Hi(e,t,r,Xn,n),Ln(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nn=Fn(Nn,e,t,n,r,i),!0;case"dragenter":return Pn=Fn(Pn,e,t,n,r,i),!0;case"mouseover":return An=Fn(An,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return In.set(o,Fn(In.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Mn.set(o,Fn(Mn.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ln(e,r),4&t&&-1<Rn.indexOf(e)){for(;null!==i;){var o=wo(i);if(null!==o&&En(o),null===(o=Qn(e,t,n,r))&&Hi(e,t,r,Xn,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Hi(e,t,r,null,n)}}var Xn=null;function Qn(e,t,n,r){if(Xn=null,null!==(e=xo(e=St(r))))if(null===(t=$t(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qt(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xn=e,null}function Jn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zt()){case en:return 1;case tn:return 4;case nn:case rn:return 16;case on:return 536870912;default:return 16}default:return 16}}var Zn=null,er=null,tr=null;function nr(){if(tr)return tr;var e,t,n=er,r=n.length,i="value"in Zn?Zn.value:Zn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return tr=i.slice(e,1<t?1-t:void 0)}function rr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ir(){return!0}function or(){return!1}function ar(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?ir:or,this.isPropagationStopped=or,this}return Fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ir)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ir)},persist:function(){},isPersistent:ir}),t}var sr,lr,cr,ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hr=ar(ur),dr=Fe({},ur,{view:0,detail:0}),fr=ar(dr),pr=Fe({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Or,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cr&&(cr&&"mousemove"===e.type?(sr=e.screenX-cr.screenX,lr=e.screenY-cr.screenY):lr=sr=0,cr=e),sr)},movementY:function(e){return"movementY"in e?e.movementY:lr}}),mr=ar(pr),yr=ar(Fe({},pr,{dataTransfer:0})),gr=ar(Fe({},dr,{relatedTarget:0})),vr=ar(Fe({},ur,{animationName:0,elapsedTime:0,pseudoElement:0})),br=Fe({},ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xr=ar(br),wr=ar(Fe({},ur,{data:0})),Sr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Er={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _r(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kr[e])&&!!t[e]}function Or(){return _r}var Tr=Fe({},dr,{key:function(e){if(e.key){var t=Sr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Er[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Or,charCode:function(e){return"keypress"===e.type?rr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),jr=ar(Tr),Cr=ar(Fe({},pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nr=ar(Fe({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Or})),Pr=ar(Fe({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ar=Fe({},pr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ir=ar(Ar),Mr=[9,13,27,32],Dr=he&&"CompositionEvent"in window,Rr=null;he&&"documentMode"in document&&(Rr=document.documentMode);var Lr=he&&"TextEvent"in window&&!Rr,Fr=he&&(!Dr||Rr&&8<Rr&&11>=Rr),Ur=String.fromCharCode(32),zr=!1;function Br(e,t){switch(e){case"keyup":return-1!==Mr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var $r=!1;var qr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qr[e.type]:"textarea"===t}function Wr(e,t,n,r){Tt(r),0<(t=Gi(t,"onChange")).length&&(n=new hr("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gr=null,Kr=null;function Yr(e){Ui(e,0)}function Xr(e){if(Ke(So(e)))return e}function Qr(e,t){if("change"===e)return t}var Jr=!1;if(he){var Zr;if(he){var ei="oninput"in document;if(!ei){var ti=document.createElement("div");ti.setAttribute("oninput","return;"),ei="function"==typeof ti.oninput}Zr=ei}else Zr=!1;Jr=Zr&&(!document.documentMode||9<document.documentMode)}function ni(){Gr&&(Gr.detachEvent("onpropertychange",ri),Kr=Gr=null)}function ri(e){if("value"===e.propertyName&&Xr(Kr)){var t=[];Wr(t,Kr,e,St(e)),At(Yr,t)}}function ii(e,t,n){"focusin"===e?(ni(),Kr=n,(Gr=t).attachEvent("onpropertychange",ri)):"focusout"===e&&ni()}function oi(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xr(Kr)}function ai(e,t){if("click"===e)return Xr(t)}function si(e,t){if("input"===e||"change"===e)return Xr(t)}var li="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function ci(e,t){if(li(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!de.call(t,i)||!li(e[i],t[i]))return!1}return!0}function ui(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hi(e,t){var n,r=ui(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ui(r)}}function di(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?di(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fi(){for(var e=window,t=Ye();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Ye((e=t.contentWindow).document)}return t}function pi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mi(e){var t=fi(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&di(n.ownerDocument.documentElement,n)){if(null!==r&&pi(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=hi(n,o);var a=hi(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yi=he&&"documentMode"in document&&11>=document.documentMode,gi=null,vi=null,bi=null,xi=!1;function wi(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xi||null==gi||gi!==Ye(r)||("selectionStart"in(r=gi)&&pi(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},bi&&ci(bi,r)||(bi=r,0<(r=Gi(vi,"onSelect")).length&&(t=new hr("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gi)))}function Si(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ei={animationend:Si("Animation","AnimationEnd"),animationiteration:Si("Animation","AnimationIteration"),animationstart:Si("Animation","AnimationStart"),transitionend:Si("Transition","TransitionEnd")},ki={},_i={};function Oi(e){if(ki[e])return ki[e];if(!Ei[e])return e;var t,n=Ei[e];for(t in n)if(n.hasOwnProperty(t)&&t in _i)return ki[e]=n[t];return e}he&&(_i=document.createElement("div").style,"AnimationEvent"in window||(delete Ei.animationend.animation,delete Ei.animationiteration.animation,delete Ei.animationstart.animation),"TransitionEvent"in window||delete Ei.transitionend.transition);var Ti=Oi("animationend"),ji=Oi("animationiteration"),Ci=Oi("animationstart"),Ni=Oi("transitionend"),Pi=new Map,Ai="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ii(e,t){Pi.set(e,t),ce(t,[e])}for(var Mi=0;Mi<Ai.length;Mi++){var Di=Ai[Mi];Ii(Di.toLowerCase(),"on"+(Di[0].toUpperCase()+Di.slice(1)))}Ii(Ti,"onAnimationEnd"),Ii(ji,"onAnimationIteration"),Ii(Ci,"onAnimationStart"),Ii("dblclick","onDoubleClick"),Ii("focusin","onFocus"),Ii("focusout","onBlur"),Ii(Ni,"onTransitionEnd"),ue("onMouseEnter",["mouseout","mouseover"]),ue("onMouseLeave",["mouseout","mouseover"]),ue("onPointerEnter",["pointerout","pointerover"]),ue("onPointerLeave",["pointerout","pointerover"]),ce("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ce("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ce("onBeforeInput",["compositionend","keypress","textInput","paste"]),ce("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ce("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ce("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Li=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ri));function Fi(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,s,l){if(Vt.apply(this,arguments),Lt){if(!Lt)throw Error(ae(198));var c=Ft;Lt=!1,Ft=null,Ut||(Ut=!0,zt=c)}}(r,t,void 0,e),e.currentTarget=null}function Ui(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Fi(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Fi(i,s,c),o=l}}}if(Ut)throw e=zt,Ut=!1,zt=null,e}function zi(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(qi(t,e,2,!1),n.add(r))}function Bi(e,t,n){var r=0;t&&(r|=4),qi(n,e,r,t)}var Vi="_reactListening"+Math.random().toString(36).slice(2);function $i(e){if(!e[Vi]){e[Vi]=!0,se.forEach(function(t){"selectionchange"!==t&&(Li.has(t)||Bi(t,!1,e),Bi(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vi]||(t[Vi]=!0,Bi("selectionchange",!1,t))}}function qi(e,t,n,r){switch(Jn(t)){case 1:var i=Gn;break;case 4:i=Kn;break;default:i=Yn}n=i.bind(null,t,n,e),i=void 0,!Mt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hi(e,t,n,r,i){var o=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=xo(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}At(function(){var r=o,i=St(n),a=[];e:{var s=Pi.get(e);if(void 0!==s){var l=hr,c=e;switch(e){case"keypress":if(0===rr(n))break e;case"keydown":case"keyup":l=jr;break;case"focusin":c="focus",l=gr;break;case"focusout":c="blur",l=gr;break;case"beforeblur":case"afterblur":l=gr;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=yr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nr;break;case Ti:case ji:case Ci:l=vr;break;case Ni:l=Pr;break;case"scroll":l=fr;break;case"wheel":l=Ir;break;case"copy":case"cut":case"paste":l=xr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cr}var u=!!(4&t),h=!u&&"scroll"===e,d=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=It(p,d))&&u.push(Wi(p,m,f)))),h)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===wt||!(c=n.relatedTarget||n.fromElement)||!xo(c)&&!c[yo])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?xo(c):null)&&(c!==(h=$t(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=mr,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cr,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?s:So(l),f=null==c?s:So(c),(s=new u(m,p+"leave",l,n,i)).target=h,s.relatedTarget=f,m=null,xo(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Ki(f))p++;for(f=0,m=d;m;m=Ki(m))f++;for(;0<p-f;)u=Ki(u),p--;for(;0<f-p;)d=Ki(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Ki(u),d=Ki(d)}u=null}else u=null;null!==l&&Yi(a,s,l,u,!1),null!==c&&null!==h&&Yi(a,h,c,u,!0)}if("select"===(l=(s=r?So(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var y=Qr;else if(Hr(s))if(Jr)y=si;else{y=oi;var g=ii}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=ai);switch(y&&(y=y(e,r))?Wr(a,y,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&tt(s,"number",s.value)),g=r?So(r):window,e){case"focusin":(Hr(g)||"true"===g.contentEditable)&&(gi=g,vi=r,bi=null);break;case"focusout":bi=vi=gi=null;break;case"mousedown":xi=!0;break;case"contextmenu":case"mouseup":case"dragend":xi=!1,wi(a,n,i);break;case"selectionchange":if(yi)break;case"keydown":case"keyup":wi(a,n,i)}var v;if(Dr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else $r?Br(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fr&&"ko"!==n.locale&&($r||"onCompositionStart"!==b?"onCompositionEnd"===b&&$r&&(v=nr()):(er="value"in(Zn=i)?Zn.value:Zn.textContent,$r=!0)),0<(g=Gi(r,b)).length&&(b=new wr(b,e,null,n,i),a.push({event:b,listeners:g}),v?b.data=v:null!==(v=Vr(n))&&(b.data=v))),(v=Lr?function(e,t){switch(e){case"compositionend":return Vr(t);case"keypress":return 32!==t.which?null:(zr=!0,Ur);case"textInput":return(e=t.data)===Ur&&zr?null:e;default:return null}}(e,n):function(e,t){if($r)return"compositionend"===e||!Dr&&Br(e,t)?(e=nr(),tr=er=Zn=null,$r=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fr&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gi(r,"onBeforeInput")).length&&(i=new wr("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Ui(a,t)})}function Wi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gi(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=It(e,n))&&r.unshift(Wi(e,o,i)),null!=(o=It(e,t))&&r.push(Wi(e,o,i))),e=e.return}return r}function Ki(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yi(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=It(n,o))&&a.unshift(Wi(n,l,s)):i||null!=(l=It(n,o))&&a.push(Wi(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Xi=/\r\n?/g,Qi=/\u0000|\uFFFD/g;function Ji(e){return("string"==typeof e?e:""+e).replace(Xi,"\n").replace(Qi,"")}function Zi(e,t,n){if(t=Ji(t),Ji(e)!==t&&n)throw Error(ae(425))}function eo(){}var to=null,no=null;function ro(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var io="function"==typeof setTimeout?setTimeout:void 0,oo="function"==typeof clearTimeout?clearTimeout:void 0,ao="function"==typeof Promise?Promise:void 0,so="function"==typeof queueMicrotask?queueMicrotask:void 0!==ao?function(e){return ao.resolve(null).then(e).catch(lo)}:io;function lo(e){setTimeout(function(){throw e})}function co(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qn(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qn(t)}function uo(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ho(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),po="__reactFiber$"+fo,mo="__reactProps$"+fo,yo="__reactContainer$"+fo,go="__reactEvents$"+fo,vo="__reactListeners$"+fo,bo="__reactHandles$"+fo;function xo(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yo]||n[po]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ho(e);null!==e;){if(n=e[po])return n;e=ho(e)}return t}n=(e=n).parentNode}return null}function wo(e){return!(e=e[po]||e[yo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function So(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(ae(33))}function Eo(e){return e[mo]||null}var ko=[],_o=-1;function Oo(e){return{current:e}}function To(e){0>_o||(e.current=ko[_o],ko[_o]=null,_o--)}function jo(e,t){_o++,ko[_o]=e.current,e.current=t}var Co={},No=Oo(Co),Po=Oo(!1),Ao=Co;function Io(e,t){var n=e.type.contextTypes;if(!n)return Co;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Mo(e){return null!=(e=e.childContextTypes)}function Do(){To(Po),To(No)}function Ro(e,t,n){if(No.current!==Co)throw Error(ae(168));jo(No,t),jo(Po,n)}function Lo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(ae(108,qe(e)||"Unknown",i));return Fe({},n,r)}function Fo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Co,Ao=No.current,jo(No,e),jo(Po,Po.current),!0}function Uo(e,t,n){var r=e.stateNode;if(!r)throw Error(ae(169));n?(e=Lo(e,t,Ao),r.__reactInternalMemoizedMergedChildContext=e,To(Po),To(No),jo(No,e)):To(Po),jo(Po,n)}var zo=null,Bo=!1,Vo=!1;function $o(e){null===zo?zo=[e]:zo.push(e)}function qo(){if(!Vo&&null!==zo){Vo=!0;var e=0,t=wn;try{var n=zo;for(wn=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zo=null,Bo=!1}catch(Kd){throw null!==zo&&(zo=zo.slice(e+1)),Kt(en,qo),Kd}finally{wn=t,Vo=!1}}return null}var Ho=[],Wo=0,Go=null,Ko=0,Yo=[],Xo=0,Qo=null,Jo=1,Zo="";function ea(e,t){Ho[Wo++]=Ko,Ho[Wo++]=Go,Go=e,Ko=t}function ta(e,t,n){Yo[Xo++]=Jo,Yo[Xo++]=Zo,Yo[Xo++]=Qo,Qo=e;var r=Jo;e=Zo;var i=32-ln(r)-1;r&=~(1<<i),n+=1;var o=32-ln(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Jo=1<<32-ln(t)+i|n<<i|r,Zo=o+e}else Jo=1<<o|n<<i|r,Zo=e}function na(e){null!==e.return&&(ea(e,1),ta(e,1,0))}function ra(e){for(;e===Go;)Go=Ho[--Wo],Ho[Wo]=null,Ko=Ho[--Wo],Ho[Wo]=null;for(;e===Qo;)Qo=Yo[--Xo],Yo[Xo]=null,Zo=Yo[--Xo],Yo[Xo]=null,Jo=Yo[--Xo],Yo[Xo]=null}var ia=null,oa=null,aa=!1,sa=null;function la(e,t){var n=Au(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ca(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ia=e,oa=uo(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ia=e,oa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qo?{id:Jo,overflow:Zo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Au(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ia=e,oa=null,!0);default:return!1}}function ua(e){return!(!(1&e.mode)||128&e.flags)}function ha(e){if(aa){var t=oa;if(t){var n=t;if(!ca(e,t)){if(ua(e))throw Error(ae(418));t=uo(n.nextSibling);var r=ia;t&&ca(e,t)?la(r,n):(e.flags=-4097&e.flags|2,aa=!1,ia=e)}}else{if(ua(e))throw Error(ae(418));e.flags=-4097&e.flags|2,aa=!1,ia=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ia=e}function fa(e){if(e!==ia)return!1;if(!aa)return da(e),aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ro(e.type,e.memoizedProps)),t&&(t=oa)){if(ua(e))throw pa(),Error(ae(418));for(;t;)la(e,t),t=uo(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(ae(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oa=uo(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oa=null}}else oa=ia?uo(e.stateNode.nextSibling):null;return!0}function pa(){for(var e=oa;e;)e=uo(e.nextSibling)}function ma(){oa=ia=null,aa=!1}function ya(e){null===sa?sa=[e]:sa.push(e)}var ga=we.ReactCurrentBatchConfig;function va(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(ae(309));var r=n.stateNode}if(!r)throw Error(ae(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(ae(284));if(!n._owner)throw Error(ae(290,e))}return e}function ba(e,t){throw e=Object.prototype.toString.call(t),Error(ae(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xa(e){return(0,e._init)(e._payload)}function wa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Mu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var o=n.type;return o===ke?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===Ie&&xa(o)===t.type)?((r=i(t,n.props)).ref=va(e,t,n),r.return=e,r):((r=Du(n.type,n.key,n.props,null,e.mode,r)).ref=va(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function u(e,t,n,r,o){return null===t||7!==t.tag?((t=Ru(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Fu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Se:return(n=Du(t.type,t.key,t.props,null,e.mode,n)).ref=va(e,null,t),n.return=e,n;case Ee:return(t=Uu(t,e.mode,n)).return=e,t;case Ie:return h(e,(0,t._init)(t._payload),n)}if(nt(t)||Re(t))return(t=Ru(t,e.mode,n,null)).return=e,t;ba(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Se:return n.key===i?l(e,t,n,r):null;case Ee:return n.key===i?c(e,t,n,r):null;case Ie:return d(e,t,(i=n._init)(n._payload),r)}if(nt(n)||Re(n))return null!==i?null:u(e,t,n,r,null);ba(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Se:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case Ee:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case Ie:return f(e,t,n,(0,r._init)(r._payload),i)}if(nt(r)||Re(r))return u(t,e=e.get(n)||null,r,i,null);ba(t,r)}return null}return function s(l,c,u,p){if("object"==typeof u&&null!==u&&u.type===ke&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case Se:e:{for(var m=u.key,y=c;null!==y;){if(y.key===m){if((m=u.type)===ke){if(7===y.tag){n(l,y.sibling),(c=i(y,u.props.children)).return=l,l=c;break e}}else if(y.elementType===m||"object"==typeof m&&null!==m&&m.$$typeof===Ie&&xa(m)===y.type){n(l,y.sibling),(c=i(y,u.props)).ref=va(l,y,u),c.return=l,l=c;break e}n(l,y);break}t(l,y),y=y.sibling}u.type===ke?((c=Ru(u.props.children,l.mode,p,u.key)).return=l,l=c):((p=Du(u.type,u.key,u.props,null,l.mode,p)).ref=va(l,c,u),p.return=l,l=p)}return a(l);case Ee:e:{for(y=u.key;null!==c;){if(c.key===y){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(c=i(c,u.children||[])).return=l,l=c;break e}n(l,c);break}t(l,c),c=c.sibling}(c=Uu(u,l.mode,p)).return=l,l=c}return a(l);case Ie:return s(l,c,(y=u._init)(u._payload),p)}if(nt(u))return function(i,a,s,l){for(var c=null,u=null,p=a,m=a=0,y=null;null!==p&&m<s.length;m++){p.index>m?(y=p,p=null):y=p.sibling;var g=d(i,p,s[m],l);if(null===g){null===p&&(p=y);break}e&&p&&null===g.alternate&&t(i,p),a=o(g,a,m),null===u?c=g:u.sibling=g,u=g,p=y}if(m===s.length)return n(i,p),aa&&ea(i,m),c;if(null===p){for(;m<s.length;m++)null!==(p=h(i,s[m],l))&&(a=o(p,a,m),null===u?c=p:u.sibling=p,u=p);return aa&&ea(i,m),c}for(p=r(i,p);m<s.length;m++)null!==(y=f(p,i,m,s[m],l))&&(e&&null!==y.alternate&&p.delete(null===y.key?m:y.key),a=o(y,a,m),null===u?c=y:u.sibling=y,u=y);return e&&p.forEach(function(e){return t(i,e)}),aa&&ea(i,m),c}(l,c,u,p);if(Re(u))return function(i,a,s,l){var c=Re(s);if("function"!=typeof c)throw Error(ae(150));if(null==(s=c.call(s)))throw Error(ae(151));for(var u=c=null,p=a,m=a=0,y=null,g=s.next();null!==p&&!g.done;m++,g=s.next()){p.index>m?(y=p,p=null):y=p.sibling;var v=d(i,p,g.value,l);if(null===v){null===p&&(p=y);break}e&&p&&null===v.alternate&&t(i,p),a=o(v,a,m),null===u?c=v:u.sibling=v,u=v,p=y}if(g.done)return n(i,p),aa&&ea(i,m),c;if(null===p){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,l))&&(a=o(g,a,m),null===u?c=g:u.sibling=g,u=g);return aa&&ea(i,m),c}for(p=r(i,p);!g.done;m++,g=s.next())null!==(g=f(p,i,m,g.value,l))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),a=o(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&p.forEach(function(e){return t(i,e)}),aa&&ea(i,m),c}(l,c,u,p);ba(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(c=i(c,u)).return=l,l=c):(n(l,c),(c=Fu(u,l.mode,p)).return=l,l=c),a(l)):n(l,c)}}var Sa=wa(!0),Ea=wa(!1),ka=Oo(null),_a=null,Oa=null,Ta=null;function ja(){Ta=Oa=_a=null}function Ca(e){var t=ka.current;To(ka),e._currentValue=t}function Na(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pa(e,t){_a=e,Ta=Oa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xl=!0),e.firstContext=null)}function Aa(e){var t=e._currentValue;if(Ta!==e)if(e={context:e,memoizedValue:t,next:null},null===Oa){if(null===_a)throw Error(ae(308));Oa=e,_a.dependencies={lanes:0,firstContext:e}}else Oa=Oa.next=e;return t}var Ia=null;function Ma(e){null===Ia?Ia=[e]:Ia.push(e)}function Da(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ma(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ra(e,r)}function Ra(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var La=!1;function Fa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ua(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function za(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ba(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Cc){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ra(e,n)}return null===(i=r.interleaved)?(t.next=t,Ma(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ra(e,n)}function Va(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xn(e,n)}}function $a(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qa(e,t,n,r){var i=e.updateQueue;La=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(a=0,u=c=l=null,s=o;;){var d=s.lane,f=s.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(d=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(d="function"==typeof(p=m.payload)?p.call(f,h,d):p))break e;h=Fe({},h,d);break e;case 2:La=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else f={eventTime:f,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,a|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Lc|=a,e.lanes=a,e.memoizedState=h}}function Ha(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(ae(191,i));i.call(r)}}}var Wa={},Ga=Oo(Wa),Ka=Oo(Wa),Ya=Oo(Wa);function Xa(e){if(e===Wa)throw Error(ae(174));return e}function Qa(e,t){switch(jo(Ya,t),jo(Ka,e),jo(Ga,Wa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ct(null,"");break;default:t=ct(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}To(Ga),jo(Ga,t)}function Ja(){To(Ga),To(Ka),To(Ya)}function Za(e){Xa(Ya.current);var t=Xa(Ga.current),n=ct(t,e.type);t!==n&&(jo(Ka,e),jo(Ga,n))}function es(e){Ka.current===e&&(To(Ga),To(Ka))}var ts=Oo(0);function ns(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rs=[];function is(){for(var e=0;e<rs.length;e++)rs[e]._workInProgressVersionPrimary=null;rs.length=0}var os=we.ReactCurrentDispatcher,as=we.ReactCurrentBatchConfig,ss=0,ls=null,cs=null,us=null,hs=!1,ds=!1,fs=0,ps=0;function ms(){throw Error(ae(321))}function ys(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!li(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,i,o){if(ss=o,ls=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,os.current=null===e||null===e.memoizedState?el:tl,e=n(r,i),ds){o=0;do{if(ds=!1,fs=0,25<=o)throw Error(ae(301));o+=1,us=cs=null,t.updateQueue=null,os.current=nl,e=n(r,i)}while(ds)}if(os.current=Zs,t=null!==cs&&null!==cs.next,ss=0,us=cs=ls=null,hs=!1,t)throw Error(ae(300));return e}function vs(){var e=0!==fs;return fs=0,e}function bs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===us?ls.memoizedState=us=e:us=us.next=e,us}function xs(){if(null===cs){var e=ls.alternate;e=null!==e?e.memoizedState:null}else e=cs.next;var t=null===us?ls.memoizedState:us.next;if(null!==t)us=t,cs=e;else{if(null===e)throw Error(ae(310));e={memoizedState:(cs=e).memoizedState,baseState:cs.baseState,baseQueue:cs.baseQueue,queue:cs.queue,next:null},null===us?ls.memoizedState=us=e:us=us.next=e}return us}function ws(e,t){return"function"==typeof t?t(e):t}function Ss(e){var t=xs(),n=t.queue;if(null===n)throw Error(ae(311));n.lastRenderedReducer=e;var r=cs,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=a=null,l=null,c=o;do{var u=c.lane;if((ss&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(s=l=h,a=r):l=l.next=h,ls.lanes|=u,Lc|=u}c=c.next}while(null!==c&&c!==o);null===l?a=r:l.next=s,li(r,t.memoizedState)||(xl=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,ls.lanes|=o,Lc|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Es(e){var t=xs(),n=t.queue;if(null===n)throw Error(ae(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);li(o,t.memoizedState)||(xl=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ks(){}function _s(e,t){var n=ls,r=xs(),i=t(),o=!li(r.memoizedState,i);if(o&&(r.memoizedState=i,xl=!0),r=r.queue,Ls(js.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==us&&1&us.memoizedState.tag){if(n.flags|=2048,As(9,Ts.bind(null,n,r,i,t),void 0,null),null===Nc)throw Error(ae(349));30&ss||Os(n,t,i)}return i}function Os(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ls.updateQueue)?(t={lastEffect:null,stores:null},ls.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ts(e,t,n,r){t.value=n,t.getSnapshot=r,Cs(t)&&Ns(e)}function js(e,t,n){return n(function(){Cs(t)&&Ns(e)})}function Cs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!li(e,n)}catch(r){return!0}}function Ns(e){var t=Ra(e,1);null!==t&&ru(t,e,1,-1)}function Ps(e){var t=bs();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=Ys.bind(null,ls,e),[t.memoizedState,e]}function As(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ls.updateQueue)?(t={lastEffect:null,stores:null},ls.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Is(){return xs().memoizedState}function Ms(e,t,n,r){var i=bs();ls.flags|=e,i.memoizedState=As(1|t,n,void 0,void 0===r?null:r)}function Ds(e,t,n,r){var i=xs();r=void 0===r?null:r;var o=void 0;if(null!==cs){var a=cs.memoizedState;if(o=a.destroy,null!==r&&ys(r,a.deps))return void(i.memoizedState=As(t,n,o,r))}ls.flags|=e,i.memoizedState=As(1|t,n,o,r)}function Rs(e,t){return Ms(8390656,8,e,t)}function Ls(e,t){return Ds(2048,8,e,t)}function Fs(e,t){return Ds(4,2,e,t)}function Us(e,t){return Ds(4,4,e,t)}function zs(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bs(e,t,n){return n=null!=n?n.concat([e]):null,Ds(4,4,zs.bind(null,t,e),n)}function Vs(){}function $s(e,t){var n=xs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ys(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qs(e,t){var n=xs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ys(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hs(e,t,n){return 21&ss?(li(n,t)||(n=gn(),ls.lanes|=n,Lc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xl=!0),e.memoizedState=n)}function Ws(e,t){var n=wn;wn=0!==n&&4>n?n:4,e(!0);var r=as.transition;as.transition={};try{e(!1),t()}finally{wn=n,as.transition=r}}function Gs(){return xs().memoizedState}function Ks(e,t,n){var r=nu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xs(e))Qs(t,n);else if(null!==(n=Da(e,t,n,r))){ru(n,e,r,tu()),Js(n,t,r)}}function Ys(e,t,n){var r=nu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xs(e))Qs(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,li(s,a)){var l=t.interleaved;return null===l?(i.next=i,Ma(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(Qd){}null!==(n=Da(e,t,i,r))&&(ru(n,e,r,i=tu()),Js(n,t,r))}}function Xs(e){var t=e.alternate;return e===ls||null!==t&&t===ls}function Qs(e,t){ds=hs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Js(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xn(e,n)}}var Zs={readContext:Aa,useCallback:ms,useContext:ms,useEffect:ms,useImperativeHandle:ms,useInsertionEffect:ms,useLayoutEffect:ms,useMemo:ms,useReducer:ms,useRef:ms,useState:ms,useDebugValue:ms,useDeferredValue:ms,useTransition:ms,useMutableSource:ms,useSyncExternalStore:ms,useId:ms,unstable_isNewReconciler:!1},el={readContext:Aa,useCallback:function(e,t){return bs().memoizedState=[e,void 0===t?null:t],e},useContext:Aa,useEffect:Rs,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ms(4194308,4,zs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ms(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ms(4,2,e,t)},useMemo:function(e,t){var n=bs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ks.bind(null,ls,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bs().memoizedState=e},useState:Ps,useDebugValue:Vs,useDeferredValue:function(e){return bs().memoizedState=e},useTransition:function(){var e=Ps(!1),t=e[0];return e=Ws.bind(null,e[1]),bs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ls,i=bs();if(aa){if(void 0===n)throw Error(ae(407));n=n()}else{if(n=t(),null===Nc)throw Error(ae(349));30&ss||Os(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Rs(js.bind(null,r,o,e),[e]),r.flags|=2048,As(9,Ts.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=bs(),t=Nc.identifierPrefix;if(aa){var n=Zo;t=":"+t+"R"+(n=(Jo&~(1<<32-ln(Jo)-1)).toString(32)+n),0<(n=fs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ps++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},tl={readContext:Aa,useCallback:$s,useContext:Aa,useEffect:Ls,useImperativeHandle:Bs,useInsertionEffect:Fs,useLayoutEffect:Us,useMemo:qs,useReducer:Ss,useRef:Is,useState:function(){return Ss(ws)},useDebugValue:Vs,useDeferredValue:function(e){return Hs(xs(),cs.memoizedState,e)},useTransition:function(){return[Ss(ws)[0],xs().memoizedState]},useMutableSource:ks,useSyncExternalStore:_s,useId:Gs,unstable_isNewReconciler:!1},nl={readContext:Aa,useCallback:$s,useContext:Aa,useEffect:Ls,useImperativeHandle:Bs,useInsertionEffect:Fs,useLayoutEffect:Us,useMemo:qs,useReducer:Es,useRef:Is,useState:function(){return Es(ws)},useDebugValue:Vs,useDeferredValue:function(e){var t=xs();return null===cs?t.memoizedState=e:Hs(t,cs.memoizedState,e)},useTransition:function(){return[Es(ws)[0],xs().memoizedState]},useMutableSource:ks,useSyncExternalStore:_s,useId:Gs,unstable_isNewReconciler:!1};function rl(e,t){if(e&&e.defaultProps){for(var n in t=Fe({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function il(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:Fe({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ol={isMounted:function(e){return!!(e=e._reactInternals)&&$t(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),o=za(r,i);o.payload=t,null!=n&&(o.callback=n),null!==(t=Ba(e,o,i))&&(ru(t,e,i,r),Va(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),o=za(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=Ba(e,o,i))&&(ru(t,e,i,r),Va(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tu(),r=nu(e),i=za(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Ba(e,i,r))&&(ru(t,e,r,n),Va(t,e,r))}};function al(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ci(n,r)||!ci(i,o))}function sl(e,t,n){var r=!1,i=Co,o=t.contextType;return"object"==typeof o&&null!==o?o=Aa(o):(i=Mo(t)?Ao:No.current,o=(r=null!=(r=t.contextTypes))?Io(e,i):Co),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ol,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ll(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ol.enqueueReplaceState(t,t.state,null)}function cl(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Fa(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=Aa(o):(o=Mo(t)?Ao:No.current,i.context=Io(e,o)),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(il(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ol.enqueueReplaceState(i,i.state,null),qa(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function ul(e,t){try{var n="",r=t;do{n+=Ve(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function hl(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function dl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fl="function"==typeof WeakMap?WeakMap:Map;function pl(e,t,n){(n=za(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hc||(Hc=!0,Wc=r),dl(0,t)},n}function ml(e,t,n){(n=za(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){dl(0,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){dl(0,t),"function"!=typeof r&&(null===Gc?Gc=new Set([this]):Gc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function yl(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fl;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ou.bind(null,e,t,n),t.then(e,e))}function gl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vl(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=za(-1,1)).tag=2,Ba(n,t,1))),n.lanes|=1),e)}var bl=we.ReactCurrentOwner,xl=!1;function wl(e,t,n,r){t.child=null===e?Ea(t,null,n,r):Sa(t,e.child,n,r)}function Sl(e,t,n,r,i){n=n.render;var o=t.ref;return Pa(t,i),r=gs(e,t,n,r,o,i),n=vs(),null===e||xl?(aa&&n&&na(t),t.flags|=1,wl(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hl(e,t,i))}function El(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||Iu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Du(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,kl(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ci)(a,r)&&e.ref===t.ref)return Hl(e,t,i)}return t.flags|=1,(e=Mu(o,r)).ref=t.ref,e.return=t,t.child=e}function kl(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ci(o,r)&&e.ref===t.ref){if(xl=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Hl(e,t,i);131072&e.flags&&(xl=!0)}}return Tl(e,t,n,r,i)}function _l(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,jo(Mc,Ic),Ic|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,jo(Mc,Ic),Ic|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},jo(Mc,Ic),Ic|=n;else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,jo(Mc,Ic),Ic|=r;return wl(e,t,i,n),t.child}function Ol(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tl(e,t,n,r,i){var o=Mo(n)?Ao:No.current;return o=Io(t,o),Pa(t,i),n=gs(e,t,n,r,o,i),r=vs(),null===e||xl?(aa&&r&&na(t),t.flags|=1,wl(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hl(e,t,i))}function jl(e,t,n,r,i){if(Mo(n)){var o=!0;Fo(t)}else o=!1;if(Pa(t,i),null===t.stateNode)ql(e,t),sl(t,n,r),cl(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=Aa(c):c=Io(t,c=Mo(n)?Ao:No.current);var u=n.getDerivedStateFromProps,h="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&ll(t,a,r,c),La=!1;var d=t.memoizedState;a.state=d,qa(t,r,a,i),l=t.memoizedState,s!==r||d!==l||Po.current||La?("function"==typeof u&&(il(t,n,u,r),l=t.memoizedState),(s=La||al(t,n,s,r,d,l,c))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ua(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:rl(t.type,s),a.props=c,h=t.pendingProps,d=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=Aa(l):l=Io(t,l=Mo(n)?Ao:No.current);var f=n.getDerivedStateFromProps;(u="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==h||d!==l)&&ll(t,a,r,l),La=!1,d=t.memoizedState,a.state=d,qa(t,r,a,i);var p=t.memoizedState;s!==h||d!==p||Po.current||La?("function"==typeof f&&(il(t,n,f,r),p=t.memoizedState),(c=La||al(t,n,c,r,d,p,l)||!1)?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Cl(e,t,n,r,o,i)}function Cl(e,t,n,r,i,o){Ol(e,t);var a=!!(128&t.flags);if(!r&&!a)return i&&Uo(t,n,!1),Hl(e,t,o);r=t.stateNode,bl.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Sa(t,e.child,null,o),t.child=Sa(t,null,s,o)):wl(e,t,s,o),t.memoizedState=r.state,i&&Uo(t,n,!0),t.child}function Nl(e){var t=e.stateNode;t.pendingContext?Ro(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ro(0,t.context,!1),Qa(e,t.containerInfo)}function Pl(e,t,n,r,i){return ma(),ya(i),t.flags|=256,wl(e,t,n,r),t.child}var Al,Il,Ml,Dl,Rl={dehydrated:null,treeContext:null,retryLane:0};function Ll(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fl(e,t,n){var r,i=t.pendingProps,o=ts.current,a=!1,s=!!(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&!!(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),jo(ts,1&o),null===e)return ha(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=i.children,e=i.fallback,a?(i=t.mode,a=t.child,s={mode:"hidden",children:s},1&i||null===a?a=Lu(s,i,0,null):(a.childLanes=0,a.pendingProps=s),e=Ru(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ll(n),t.memoizedState=Rl,e):Ul(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,zl(e,t,a,r=hl(Error(ae(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lu({mode:"visible",children:r.children},i,0,null),(o=Ru(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,1&t.mode&&Sa(t,e.child,null,a),t.child.memoizedState=Ll(a),t.memoizedState=Rl,o);if(!(1&t.mode))return zl(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,zl(e,t,a,r=hl(o=Error(ae(419)),r,void 0))}if(s=0!==(a&e.childLanes),xl||s){if(null!==(r=Nc)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ra(e,i),ru(r,e,i,-1))}return yu(),zl(e,t,a,r=hl(Error(ae(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=ju.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,oa=uo(i.nextSibling),ia=t,aa=!0,sa=null,null!==e&&(Yo[Xo++]=Jo,Yo[Xo++]=Zo,Yo[Xo++]=Qo,Jo=e.id,Zo=e.overflow,Qo=t),t=Ul(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(a){a=i.fallback,s=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 1&s||t.child===o?(i=Mu(o,l)).subtreeFlags=14680064&o.subtreeFlags:((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null),null!==r?a=Mu(r,a):(a=Ru(a,s,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,s=null===(s=e.child.memoizedState)?Ll(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=Rl,i}return e=(a=e.child).sibling,i=Mu(a,{mode:"visible",children:i.children}),!(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ul(e,t){return(t=Lu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zl(e,t,n,r){return null!==r&&ya(r),Sa(t,e.child,null,n),(e=Ul(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Na(e.return,t,n)}function Vl(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function $l(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(wl(e,t,r.children,n),2&(r=ts.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bl(e,n,t);else if(19===e.tag)Bl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(jo(ts,r),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ns(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vl(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ns(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vl(t,!0,n,null,o);break;case"together":Vl(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function ql(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(ae(153));if(null!==t.child){for(n=Mu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wl(e,t){if(!aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Kl(e,t,n){var r=t.pendingProps;switch(ra(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gl(t),null;case 1:case 17:return Mo(t.type)&&Do(),Gl(t),null;case 3:return r=t.stateNode,Ja(),To(Po),To(No),is(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==sa&&(su(sa),sa=null))),Il(e,t),Gl(t),null;case 5:es(t);var i=Xa(Ya.current);if(n=t.type,null!==e&&null!=t.stateNode)Ml(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(ae(166));return Gl(t),null}if(e=Xa(Ga.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[po]=t,r[mo]=o,e=!!(1&t.mode),n){case"dialog":zi("cancel",r),zi("close",r);break;case"iframe":case"object":case"embed":zi("load",r);break;case"video":case"audio":for(i=0;i<Ri.length;i++)zi(Ri[i],r);break;case"source":zi("error",r);break;case"img":case"image":case"link":zi("error",r),zi("load",r);break;case"details":zi("toggle",r);break;case"input":Qe(r,o),zi("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},zi("invalid",r);break;case"textarea":ot(r,o),zi("invalid",r)}for(var a in bt(n,o),i=null,o)if(o.hasOwnProperty(a)){var s=o[a];"children"===a?"string"==typeof s?r.textContent!==s&&(!0!==o.suppressHydrationWarning&&Zi(r.textContent,s,e),i=["children",s]):"number"==typeof s&&r.textContent!==""+s&&(!0!==o.suppressHydrationWarning&&Zi(r.textContent,s,e),i=["children",""+s]):le.hasOwnProperty(a)&&null!=s&&"onScroll"===a&&zi("scroll",r)}switch(n){case"input":Ge(r),et(r,o,!0);break;case"textarea":Ge(r),st(r);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(r.onclick=eo)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{a=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=lt(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),"select"===n&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[po]=t,e[mo]=r,Al(e,t,!1,!1),t.stateNode=e;e:{switch(a=xt(n,r),n){case"dialog":zi("cancel",e),zi("close",e),i=r;break;case"iframe":case"object":case"embed":zi("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ri.length;i++)zi(Ri[i],e);i=r;break;case"source":zi("error",e),i=r;break;case"img":case"image":case"link":zi("error",e),zi("load",e),i=r;break;case"details":zi("toggle",e),i=r;break;case"input":Qe(e,r),i=Xe(e,r),zi("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Fe({},r,{value:void 0}),zi("invalid",e);break;case"textarea":ot(e,r),i=it(e,r),zi("invalid",e)}for(o in bt(n,i),s=i)if(s.hasOwnProperty(o)){var l=s[o];"style"===o?gt(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&dt(e,l):"children"===o?"string"==typeof l?("textarea"!==n||""!==l)&&ft(e,l):"number"==typeof l&&ft(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(le.hasOwnProperty(o)?null!=l&&"onScroll"===o&&zi("scroll",e):null!=l&&xe(e,o,l,a))}switch(n){case"input":Ge(e),et(e,r,!1);break;case"textarea":Ge(e),st(e);break;case"option":null!=r.value&&e.setAttribute("value",""+He(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?rt(e,!!r.multiple,o,!1):null!=r.defaultValue&&rt(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=eo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gl(t),null;case 6:if(e&&null!=t.stateNode)Dl(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(ae(166));if(n=Xa(Ya.current),Xa(Ga.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[po]=t,(o=r.nodeValue!==n)&&null!==(e=ia))switch(e.tag){case 3:Zi(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zi(r.nodeValue,n,!!(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=t,t.stateNode=r}return Gl(t),null;case 13:if(To(ts),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(aa&&null!==oa&&1&t.mode&&!(128&t.flags))pa(),ma(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(ae(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(ae(317));o[po]=t}else ma(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gl(t),o=!1}else null!==sa&&(su(sa),sa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ts.current?0===Dc&&(Dc=3):yu())),null!==t.updateQueue&&(t.flags|=4),Gl(t),null);case 4:return Ja(),Il(e,t),null===e&&$i(t.stateNode.containerInfo),Gl(t),null;case 10:return Ca(t.type._context),Gl(t),null;case 19:if(To(ts),null===(o=t.memoizedState))return Gl(t),null;if(r=!!(128&t.flags),null===(a=o.rendering))if(r)Wl(o,!1);else{if(0!==Dc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(a=ns(e))){for(t.flags|=128,Wl(o,!1),null!==(r=a.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(a=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return jo(ts,1&ts.current|2),t.child}e=e.sibling}null!==o.tail&&Jt()>$c&&(t.flags|=128,r=!0,Wl(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ns(a))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wl(o,!0),null===o.tail&&"hidden"===o.tailMode&&!a.alternate&&!aa)return Gl(t),null}else 2*Jt()-o.renderingStartTime>$c&&1073741824!==n&&(t.flags|=128,r=!0,Wl(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=o.last)?n.sibling=a:t.child=a,o.last=a)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Jt(),t.sibling=null,n=ts.current,jo(ts,r?1&n|2:1&n),t):(Gl(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Ic)&&(Gl(t),6&t.subtreeFlags&&(t.flags|=8192)):Gl(t),null;case 24:case 25:return null}throw Error(ae(156,t.tag))}function Yl(e,t){switch(ra(t),t.tag){case 1:return Mo(t.type)&&Do(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ja(),To(Po),To(No),is(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return es(t),null;case 13:if(To(ts),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(ae(340));ma()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return To(ts),null;case 4:return Ja(),null;case 10:return Ca(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Al=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Il=function(){},Ml=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xa(Ga.current);var o,a=null;switch(n){case"input":i=Xe(e,i),r=Xe(e,r),a=[];break;case"select":i=Fe({},i,{value:void 0}),r=Fe({},r,{value:void 0}),a=[];break;case"textarea":i=it(e,i),r=it(e,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=eo)}for(c in bt(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(le.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(s=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(null!=l||null!=s))if("style"===c)if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(a=a||[]).push(c,l)):"children"===c?"string"!=typeof l&&"number"!=typeof l||(a=a||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(le.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&zi("scroll",e),a||s===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Dl=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xl=!1,Ql=!1,Jl="function"==typeof WeakSet?WeakSet:Set,Zl=null;function ec(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(r){_u(e,t,r)}else n.current=null}function tc(e,t,n){try{n()}catch(r){_u(e,t,r)}}var nc=!1;function rc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tc(t,n,o)}i=i.next}while(i!==r)}}function ic(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function oc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function ac(e){var t=e.alternate;null!==t&&(e.alternate=null,ac(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[po],delete t[mo],delete t[go],delete t[vo],delete t[bo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sc(e){return 5===e.tag||3===e.tag||4===e.tag}function lc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=eo));else if(4!==r&&null!==(e=e.child))for(cc(e,t,n),e=e.sibling;null!==e;)cc(e,t,n),e=e.sibling}function uc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(uc(e,t,n),e=e.sibling;null!==e;)uc(e,t,n),e=e.sibling}var hc=null,dc=!1;function fc(e,t,n){for(n=n.child;null!==n;)pc(e,t,n),n=n.sibling}function pc(e,t,n){if(sn&&"function"==typeof sn.onCommitFiberUnmount)try{sn.onCommitFiberUnmount(an,n)}catch(s){}switch(n.tag){case 5:Ql||ec(n,t);case 6:var r=hc,i=dc;hc=null,fc(e,t,n),dc=i,null!==(hc=r)&&(dc?(e=hc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hc.removeChild(n.stateNode));break;case 18:null!==hc&&(dc?(e=hc,n=n.stateNode,8===e.nodeType?co(e.parentNode,n):1===e.nodeType&&co(e,n),qn(e)):co(hc,n.stateNode));break;case 4:r=hc,i=dc,hc=n.stateNode.containerInfo,dc=!0,fc(e,t,n),hc=r,dc=i;break;case 0:case 11:case 14:case 15:if(!Ql&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(2&o||4&o)&&tc(n,t,a),i=i.next}while(i!==r)}fc(e,t,n);break;case 1:if(!Ql&&(ec(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){_u(n,t,s)}fc(e,t,n);break;case 21:fc(e,t,n);break;case 22:1&n.mode?(Ql=(r=Ql)||null!==n.memoizedState,fc(e,t,n),Ql=r):fc(e,t,n);break;default:fc(e,t,n)}}function mc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jl),t.forEach(function(t){var r=Cu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function yc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;null!==s;){switch(s.tag){case 5:hc=s.stateNode,dc=!1;break e;case 3:case 4:hc=s.stateNode.containerInfo,dc=!0;break e}s=s.return}if(null===hc)throw Error(ae(160));pc(o,a,i),hc=null,dc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(Qd){_u(i,t,Qd)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gc(t,e),t=t.sibling}function gc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yc(t,e),vc(e),4&r){try{rc(3,e,e.return),ic(3,e)}catch(Yd){_u(e,e.return,Yd)}try{rc(5,e,e.return)}catch(Yd){_u(e,e.return,Yd)}}break;case 1:yc(t,e),vc(e),512&r&&null!==n&&ec(n,n.return);break;case 5:if(yc(t,e),vc(e),512&r&&null!==n&&ec(n,n.return),32&e.flags){var i=e.stateNode;try{ft(i,"")}catch(Yd){_u(e,e.return,Yd)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===s&&"radio"===o.type&&null!=o.name&&Je(i,o),xt(s,a);var c=xt(s,o);for(a=0;a<l.length;a+=2){var u=l[a],h=l[a+1];"style"===u?gt(i,h):"dangerouslySetInnerHTML"===u?dt(i,h):"children"===u?ft(i,h):xe(i,u,h,c)}switch(s){case"input":Ze(i,o);break;case"textarea":at(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?rt(i,!!o.multiple,f,!1):d!==!!o.multiple&&(null!=o.defaultValue?rt(i,!!o.multiple,o.defaultValue,!0):rt(i,!!o.multiple,o.multiple?[]:"",!1))}i[mo]=o}catch(Yd){_u(e,e.return,Yd)}}break;case 6:if(yc(t,e),vc(e),4&r){if(null===e.stateNode)throw Error(ae(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(Yd){_u(e,e.return,Yd)}}break;case 3:if(yc(t,e),vc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qn(t.containerInfo)}catch(Yd){_u(e,e.return,Yd)}break;case 4:default:yc(t,e),vc(e);break;case 13:yc(t,e),vc(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vc=Jt())),4&r&&mc(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Ql=(c=Ql)||u,yc(t,e),Ql=c):yc(t,e),vc(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!u&&1&e.mode)for(Zl=e,u=e.child;null!==u;){for(h=Zl=u;null!==Zl;){switch(f=(d=Zl).child,d.tag){case 0:case 11:case 14:case 15:rc(4,d,d.return);break;case 1:ec(d,d.return);var p=d.stateNode;if("function"==typeof p.componentWillUnmount){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(Yd){_u(r,n,Yd)}}break;case 5:ec(d,d.return);break;case 22:if(null!==d.memoizedState){Sc(h);continue}}null!==f?(f.return=d,Zl=f):Sc(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{i=h.stateNode,c?"function"==typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,a=null!=(l=h.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,s.style.display=yt("display",a))}catch(Yd){_u(e,e.return,Yd)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(Yd){_u(e,e.return,Yd)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yc(t,e),vc(e),4&r&&mc(e);case 21:}}function vc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sc(n)){var r=n;break e}n=n.return}throw Error(ae(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(ft(i,""),r.flags&=-33),uc(e,lc(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cc(e,lc(e),o);break;default:throw Error(ae(161))}}catch(a){_u(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bc(e,t,n){Zl=e,xc(e)}function xc(e,t,n){for(var r=!!(1&e.mode);null!==Zl;){var i=Zl,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Xl;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Ql;s=Xl;var c=Ql;if(Xl=a,(Ql=l)&&!c)for(Zl=i;null!==Zl;)l=(a=Zl).child,22===a.tag&&null!==a.memoizedState?Ec(i):null!==l?(l.return=a,Zl=l):Ec(i);for(;null!==o;)Zl=o,xc(o),o=o.sibling;Zl=i,Xl=s,Ql=c}wc(e)}else 8772&i.subtreeFlags&&null!==o?(o.return=i,Zl=o):wc(e)}}function wc(e){for(;null!==Zl;){var t=Zl;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Ql||ic(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ql)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:rl(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ha(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ha(t,a,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&qn(h)}}}break;default:throw Error(ae(163))}Ql||512&t.flags&&oc(t)}catch(Xd){_u(t,t.return,Xd)}}if(t===e){Zl=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zl=n;break}Zl=t.return}}function Sc(e){for(;null!==Zl;){var t=Zl;if(t===e){Zl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zl=n;break}Zl=t.return}}function Ec(e){for(;null!==Zl;){var t=Zl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ic(4,t)}catch(l){_u(t,n,l)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){_u(t,i,l)}}var o=t.return;try{oc(t)}catch(l){_u(t,o,l)}break;case 5:var a=t.return;try{oc(t)}catch(l){_u(t,a,l)}}}catch(l){_u(t,t.return,l)}if(t===e){Zl=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zl=s;break}Zl=t.return}}var kc,_c=Math.ceil,Oc=we.ReactCurrentDispatcher,Tc=we.ReactCurrentOwner,jc=we.ReactCurrentBatchConfig,Cc=0,Nc=null,Pc=null,Ac=0,Ic=0,Mc=Oo(0),Dc=0,Rc=null,Lc=0,Fc=0,Uc=0,zc=null,Bc=null,Vc=0,$c=1/0,qc=null,Hc=!1,Wc=null,Gc=null,Kc=!1,Yc=null,Xc=0,Qc=0,Jc=null,Zc=-1,eu=0;function tu(){return 6&Cc?Jt():-1!==Zc?Zc:Zc=Jt()}function nu(e){return 1&e.mode?2&Cc&&0!==Ac?Ac&-Ac:null!==ga.transition?(0===eu&&(eu=gn()),eu):0!==(e=wn)?e:e=void 0===(e=window.event)?16:Jn(e.type):1}function ru(e,t,n,r){if(50<Qc)throw Qc=0,Jc=null,Error(ae(185));bn(e,n,r),2&Cc&&e===Nc||(e===Nc&&(!(2&Cc)&&(Fc|=n),4===Dc&&lu(e,Ac)),iu(e,r),1===n&&0===Cc&&!(1&t.mode)&&($c=Jt()+500,Bo&&qo()))}function iu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-ln(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=mn(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=pn(e,e===Nc?Ac:0);if(0===r)null!==n&&Yt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Yt(n),1===t)0===e.tag?function(e){Bo=!0,$o(e)}(cu.bind(null,e)):$o(cu.bind(null,e)),so(function(){!(6&Cc)&&qo()}),n=null;else{switch(Sn(r)){case 1:n=en;break;case 4:n=tn;break;case 16:default:n=nn;break;case 536870912:n=on}n=Nu(n,ou.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ou(e,t){if(Zc=-1,eu=0,6&Cc)throw Error(ae(327));var n=e.callbackNode;if(Eu()&&e.callbackNode!==n)return null;var r=pn(e,e===Nc?Ac:0);if(0===r)return null;if(30&r||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var i=Cc;Cc|=2;var o=mu();for(Nc===e&&Ac===t||(qc=null,$c=Jt()+500,fu(e,t));;)try{bu();break}catch(s){pu(e,s)}ja(),Oc.current=o,Cc=i,null!==Pc?t=0:(Nc=null,Ac=0,t=Dc)}if(0!==t){if(2===t&&(0!==(i=yn(e))&&(r=i,t=au(e,i))),1===t)throw n=Rc,fu(e,0),lu(e,r),iu(e,Jt()),n;if(6===t)lu(e,r);else{if(i=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!li(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)||(t=gu(e,r),2===t&&(o=yn(e),0!==o&&(r=o,t=au(e,o))),1!==t)))throw n=Rc,fu(e,0),lu(e,r),iu(e,Jt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ae(345));case 2:case 5:Su(e,Bc,qc);break;case 3:if(lu(e,r),(130023424&r)===r&&10<(t=Vc+500-Jt())){if(0!==pn(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=io(Su.bind(null,e,Bc,qc),t);break}Su(e,Bc,qc);break;case 4:if(lu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ln(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Jt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_c(r/1960))-r)){e.timeoutHandle=io(Su.bind(null,e,Bc,qc),r);break}Su(e,Bc,qc);break;default:throw Error(ae(329))}}}return iu(e,Jt()),e.callbackNode===n?ou.bind(null,e):null}function au(e,t){var n=zc;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=Bc,Bc=n,null!==t&&su(t)),e}function su(e){null===Bc?Bc=e:Bc.push.apply(Bc,e)}function lu(e,t){for(t&=~Uc,t&=~Fc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ln(t),r=1<<n;e[n]=-1,t&=~r}}function cu(e){if(6&Cc)throw Error(ae(327));Eu();var t=pn(e,0);if(!(1&t))return iu(e,Jt()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=yn(e);0!==r&&(t=r,n=au(e,r))}if(1===n)throw n=Rc,fu(e,0),lu(e,t),iu(e,Jt()),n;if(6===n)throw Error(ae(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Su(e,Bc,qc),iu(e,Jt()),null}function uu(e,t){var n=Cc;Cc|=1;try{return e(t)}finally{0===(Cc=n)&&($c=Jt()+500,Bo&&qo())}}function hu(e){null!==Yc&&0===Yc.tag&&!(6&Cc)&&Eu();var t=Cc;Cc|=1;var n=jc.transition,r=wn;try{if(jc.transition=null,wn=1,e)return e()}finally{wn=r,jc.transition=n,!(6&(Cc=t))&&qo()}}function du(){Ic=Mc.current,To(Mc)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Pc)for(n=Pc.return;null!==n;){var r=n;switch(ra(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Do();break;case 3:Ja(),To(Po),To(No),is();break;case 5:es(r);break;case 4:Ja();break;case 13:case 19:To(ts);break;case 10:Ca(r.type._context);break;case 22:case 23:du()}n=n.return}if(Nc=e,Pc=e=Mu(e.current,null),Ac=Ic=t,Dc=0,Rc=null,Uc=Fc=Lc=0,Bc=zc=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Ia=null}return e}function pu(e,t){for(;;){var n=Pc;try{if(ja(),os.current=Zs,hs){for(var r=ls.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}hs=!1}if(ss=0,us=cs=ls=null,ds=!1,fs=0,Tc.current=null,null===n||null===n.return){Dc=1,Rc=t,Pc=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=Ac,s.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l,u=s,h=u.tag;if(!(1&u.mode||0!==h&&11!==h&&15!==h)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=gl(a);if(null!==f){f.flags&=-257,vl(f,a,s,0,t),1&f.mode&&yl(o,c,t),l=c;var p=(t=f).updateQueue;if(null===p){var m=new Set;m.add(l),t.updateQueue=m}else p.add(l);break e}if(!(1&t)){yl(o,c,t),yu();break e}l=Error(ae(426))}else if(aa&&1&s.mode){var y=gl(a);if(null!==y){!(65536&y.flags)&&(y.flags|=256),vl(y,a,s,0,t),ya(ul(l,s));break e}}o=l=ul(l,s),4!==Dc&&(Dc=2),null===zc?zc=[o]:zc.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,$a(o,pl(0,l,t));break e;case 1:s=l;var g=o.type,v=o.stateNode;if(!(128&o.flags||"function"!=typeof g.getDerivedStateFromError&&(null===v||"function"!=typeof v.componentDidCatch||null!==Gc&&Gc.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t,$a(o,ml(o,s,t));break e}}o=o.return}while(null!==o)}wu(n)}catch(b){t=b,Pc===n&&null!==n&&(Pc=n=n.return);continue}break}}function mu(){var e=Oc.current;return Oc.current=Zs,null===e?Zs:e}function yu(){0!==Dc&&3!==Dc&&2!==Dc||(Dc=4),null===Nc||!(268435455&Lc)&&!(268435455&Fc)||lu(Nc,Ac)}function gu(e,t){var n=Cc;Cc|=2;var r=mu();for(Nc===e&&Ac===t||(qc=null,fu(e,t));;)try{vu();break}catch(Kd){pu(e,Kd)}if(ja(),Cc=n,Oc.current=r,null!==Pc)throw Error(ae(261));return Nc=null,Ac=0,Dc}function vu(){for(;null!==Pc;)xu(Pc)}function bu(){for(;null!==Pc&&!Xt();)xu(Pc)}function xu(e){var t=kc(e.alternate,e,Ic);e.memoizedProps=e.pendingProps,null===t?wu(e):Pc=t,Tc.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Yl(n,t)))return n.flags&=32767,void(Pc=n);if(null===e)return Dc=6,void(Pc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Kl(n,t,Ic)))return void(Pc=n);if(null!==(t=t.sibling))return void(Pc=t);Pc=t=e}while(null!==t);0===Dc&&(Dc=5)}function Su(e,t,n){var r=wn,i=jc.transition;try{jc.transition=null,wn=1,function(e,t,n,r){do{Eu()}while(null!==Yc);if(6&Cc)throw Error(ae(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ae(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ln(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,o),e===Nc&&(Pc=Nc=null,Ac=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Kc||(Kc=!0,Nu(nn,function(){return Eu(),null})),o=!!(15990&n.flags),!!(15990&n.subtreeFlags)||o){o=jc.transition,jc.transition=null;var a=wn;wn=1;var s=Cc;Cc|=4,Tc.current=null,function(e,t){if(to=Wn,pi(e=fi())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var a=0,s=-1,l=-1,c=0,u=0,h=e,d=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(s=a+i),h!==o||0!==r&&3!==h.nodeType||(l=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(f=h.firstChild);)d=h,h=f;for(;;){if(h===e)break t;if(d===n&&++c===i&&(s=a),d===o&&++u===r&&(l=a),null!==(f=h.nextSibling))break;d=(h=d).parentNode}h=f}n=-1===s||-1===l?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(no={focusedElem:e,selectionRange:n},Wn=!1,Zl=t;null!==Zl;)if(e=(t=Zl).child,1028&t.subtreeFlags&&null!==e)e.return=t,Zl=e;else for(;null!==Zl;){t=Zl;try{var p=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var m=p.memoizedProps,y=p.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:rl(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(ae(163))}}catch(x){_u(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Zl=e;break}Zl=t.return}p=nc,nc=!1}(e,n),gc(n,e),mi(no),Wn=!!to,no=to=null,e.current=n,bc(n),Qt(),Cc=s,wn=a,jc.transition=o}else e.current=n;if(Kc&&(Kc=!1,Yc=e,Xc=i),o=e.pendingLanes,0===o&&(Gc=null),function(e){if(sn&&"function"==typeof sn.onCommitFiberRoot)try{sn.onCommitFiberRoot(an,e,void 0,!(128&~e.current.flags))}catch(t){}}(n.stateNode),iu(e,Jt()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hc)throw Hc=!1,e=Wc,Wc=null,e;!!(1&Xc)&&0!==e.tag&&Eu(),o=e.pendingLanes,1&o?e===Jc?Qc++:(Qc=0,Jc=e):Qc=0,qo()}(e,t,n,r)}finally{jc.transition=i,wn=r}return null}function Eu(){if(null!==Yc){var e=Sn(Xc),t=jc.transition,n=wn;try{if(jc.transition=null,wn=16>e?16:e,null===Yc)var r=!1;else{if(e=Yc,Yc=null,Xc=0,6&Cc)throw Error(ae(331));var i=Cc;for(Cc|=4,Zl=e.current;null!==Zl;){var o=Zl,a=o.child;if(16&Zl.flags){var s=o.deletions;if(null!==s){for(var l=0;l<s.length;l++){var c=s[l];for(Zl=c;null!==Zl;){var u=Zl;switch(u.tag){case 0:case 11:case 15:rc(8,u,o)}var h=u.child;if(null!==h)h.return=u,Zl=h;else for(;null!==Zl;){var d=(u=Zl).sibling,f=u.return;if(ac(u),u===c){Zl=null;break}if(null!==d){d.return=f,Zl=d;break}Zl=f}}}var p=o.alternate;if(null!==p){var m=p.child;if(null!==m){p.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zl=o}}if(2064&o.subtreeFlags&&null!==a)a.return=o,Zl=a;else e:for(;null!==Zl;){if(2048&(o=Zl).flags)switch(o.tag){case 0:case 11:case 15:rc(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zl=g;break e}Zl=o.return}}var v=e.current;for(Zl=v;null!==Zl;){var b=(a=Zl).child;if(2064&a.subtreeFlags&&null!==b)b.return=a,Zl=b;else e:for(a=v;null!==Zl;){if(2048&(s=Zl).flags)try{switch(s.tag){case 0:case 11:case 15:ic(9,s)}}catch(w){_u(s,s.return,w)}if(s===a){Zl=null;break e}var x=s.sibling;if(null!==x){x.return=s.return,Zl=x;break e}Zl=s.return}}if(Cc=i,qo(),sn&&"function"==typeof sn.onPostCommitFiberRoot)try{sn.onPostCommitFiberRoot(an,e)}catch(w){}r=!0}return r}finally{wn=n,jc.transition=t}}return!1}function ku(e,t,n){e=Ba(e,t=pl(0,t=ul(n,t),1),1),t=tu(),null!==e&&(bn(e,1,t),iu(e,t))}function _u(e,t,n){if(3===e.tag)ku(e,e,n);else for(;null!==t;){if(3===t.tag){ku(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Gc||!Gc.has(r))){t=Ba(t,e=ml(t,e=ul(n,e),1),1),e=tu(),null!==t&&(bn(t,1,e),iu(t,e));break}}t=t.return}}function Ou(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tu(),e.pingedLanes|=e.suspendedLanes&n,Nc===e&&(Ac&n)===n&&(4===Dc||3===Dc&&(130023424&Ac)===Ac&&500>Jt()-Vc?fu(e,0):Uc|=n),iu(e,t)}function Tu(e,t){0===t&&(1&e.mode?(t=dn,!(130023424&(dn<<=1))&&(dn=4194304)):t=1);var n=tu();null!==(e=Ra(e,t))&&(bn(e,t,n),iu(e,n))}function ju(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tu(e,n)}function Cu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ae(314))}null!==r&&r.delete(t),Tu(e,n)}function Nu(e,t){return Kt(e,t)}function Pu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Au(e,t,n,r){return new Pu(e,t,n,r)}function Iu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mu(e,t){var n=e.alternate;return null===n?((n=Au(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Du(e,t,n,r,i,o){var a=2;if(r=e,"function"==typeof e)Iu(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case ke:return Ru(n.children,i,o,t);case _e:a=8,i|=8;break;case Oe:return(e=Au(12,n,t,2|i)).elementType=Oe,e.lanes=o,e;case Ne:return(e=Au(13,n,t,i)).elementType=Ne,e.lanes=o,e;case Pe:return(e=Au(19,n,t,i)).elementType=Pe,e.lanes=o,e;case Me:return Lu(n,i,o,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Te:a=10;break e;case je:a=9;break e;case Ce:a=11;break e;case Ae:a=14;break e;case Ie:a=16,r=null;break e}throw Error(ae(130,null==e?e:typeof e,""))}return(t=Au(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ru(e,t,n,r){return(e=Au(7,e,r,t)).lanes=n,e}function Lu(e,t,n,r){return(e=Au(22,e,r,t)).elementType=Me,e.lanes=n,e.stateNode={isHidden:!1},e}function Fu(e,t,n){return(e=Au(6,e,null,t)).lanes=n,e}function Uu(e,t,n){return(t=Au(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vn(0),this.expirationTimes=vn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vn(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bu(e,t,n,r,i,o,a,s,l){return e=new zu(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Au(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fa(o),e}function Vu(e){if(!e)return Co;e:{if($t(e=e._reactInternals)!==e||1!==e.tag)throw Error(ae(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(ae(171))}if(1===e.tag){var n=e.type;if(Mo(n))return Lo(e,n,t)}return t}function $u(e,t,n,r,i,o,a,s,l){return(e=Bu(n,r,!0,e,0,o,0,s,l)).context=Vu(null),n=e.current,(o=za(r=tu(),i=nu(n))).callback=null!=t?t:null,Ba(n,o,i),e.current.lanes=i,bn(e,i,r),iu(e,r),e}function qu(e,t,n,r){var i=t.current,o=tu(),a=nu(i);return n=Vu(n),null===t.context?t.context=n:t.pendingContext=n,(t=za(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ba(i,t,a))&&(ru(e,i,a,o),Va(e,i,a)),a}function Hu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gu(e,t){Wu(e,t),(e=e.alternate)&&Wu(e,t)}kc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Po.current)xl=!0;else{if(0===(e.lanes&n)&&!(128&t.flags))return xl=!1,function(e,t,n){switch(t.tag){case 3:Nl(t),ma();break;case 5:Za(t);break;case 1:Mo(t.type)&&Fo(t);break;case 4:Qa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;jo(ka,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(jo(ts,1&ts.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fl(e,t,n):(jo(ts,1&ts.current),null!==(e=Hl(e,t,n))?e.sibling:null);jo(ts,1&ts.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return $l(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),jo(ts,ts.current),r)break;return null;case 22:case 23:return t.lanes=0,_l(e,t,n)}return Hl(e,t,n)}(e,t,n);xl=!!(131072&e.flags)}else xl=!1,aa&&1048576&t.flags&&ta(t,Ko,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ql(e,t),e=t.pendingProps;var i=Io(t,No.current);Pa(t,n),i=gs(null,t,r,e,i,n);var o=vs();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mo(r)?(o=!0,Fo(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Fa(t),i.updater=ol,t.stateNode=i,i._reactInternals=t,cl(t,r,e,n),t=Cl(null,t,r,!0,o,n)):(t.tag=0,aa&&o&&na(t),wl(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ql(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Iu(e)?1:0;if(null!=e){if((e=e.$$typeof)===Ce)return 11;if(e===Ae)return 14}return 2}(r),e=rl(r,e),i){case 0:t=Tl(null,t,r,e,n);break e;case 1:t=jl(null,t,r,e,n);break e;case 11:t=Sl(null,t,r,e,n);break e;case 14:t=El(null,t,r,rl(r.type,e),n);break e}throw Error(ae(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tl(e,t,r,i=t.elementType===r?i:rl(r,i),n);case 1:return r=t.type,i=t.pendingProps,jl(e,t,r,i=t.elementType===r?i:rl(r,i),n);case 3:e:{if(Nl(t),null===e)throw Error(ae(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ua(e,t),qa(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pl(e,t,r,n,i=ul(Error(ae(423)),t));break e}if(r!==i){t=Pl(e,t,r,n,i=ul(Error(ae(424)),t));break e}for(oa=uo(t.stateNode.containerInfo.firstChild),ia=t,aa=!0,sa=null,n=Ea(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ma(),r===i){t=Hl(e,t,n);break e}wl(e,t,r,n)}t=t.child}return t;case 5:return Za(t),null===e&&ha(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ro(r,i)?a=null:null!==o&&ro(r,o)&&(t.flags|=32),Ol(e,t),wl(e,t,a,n),t.child;case 6:return null===e&&ha(t),null;case 13:return Fl(e,t,n);case 4:return Qa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Sa(t,null,r,n):wl(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Sl(e,t,r,i=t.elementType===r?i:rl(r,i),n);case 7:return wl(e,t,t.pendingProps,n),t.child;case 8:case 12:return wl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,jo(ka,r._currentValue),r._currentValue=a,null!==o)if(li(o.value,a)){if(o.children===i.children&&!Po.current){t=Hl(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){a=o.child;for(var l=s.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=za(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var u=(c=c.shared).pending;null===u?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Na(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(ae(341));a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),Na(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}wl(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Pa(t,n),r=r(i=Aa(i)),t.flags|=1,wl(e,t,r,n),t.child;case 14:return i=rl(r=t.type,t.pendingProps),El(e,t,r,i=rl(r.type,i),n);case 15:return kl(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rl(r,i),ql(e,t),t.tag=1,Mo(r)?(e=!0,Fo(t)):e=!1,Pa(t,n),sl(t,r,i),cl(t,r,i,n),Cl(null,t,r,!0,e,n);case 19:return $l(e,t,n);case 22:return _l(e,t,n)}throw Error(ae(156,t.tag))};var Ku="function"==typeof reportError?reportError:function(e){console.error(e)};function Yu(e){this._internalRoot=e}function Xu(e){this._internalRoot=e}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zu(){}function eh(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"==typeof i){var s=i;i=function(){var e=Hu(a);s.call(e)}}qu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"==typeof r){var o=r;r=function(){var e=Hu(a);o.call(e)}}var a=$u(t,r,e,0,null,!1,0,"",Zu);return e._reactRootContainer=a,e[yo]=a.current,$i(8===e.nodeType?e.parentNode:e),hu(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var s=r;r=function(){var e=Hu(l);s.call(e)}}var l=Bu(e,0,!1,null,0,!1,0,"",Zu);return e._reactRootContainer=l,e[yo]=l.current,$i(8===e.nodeType?e.parentNode:e),hu(function(){qu(t,l,n,r)}),l}(n,t,e,i,r);return Hu(a)}Xu.prototype.render=Yu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(ae(409));qu(e,t,null,null)},Xu.prototype.unmount=Yu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hu(function(){qu(null,e,null,null)}),t[yo]=null}},Xu.prototype.unstable_scheduleHydration=function(e){if(e){var t=On();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dn.length&&0!==t&&t<Dn[n].priority;n++);Dn.splice(n,0,e),0===n&&Un(e)}},En=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=fn(t.pendingLanes);0!==n&&(xn(t,1|n),iu(t,Jt()),!(6&Cc)&&($c=Jt()+500,qo()))}break;case 13:hu(function(){var t=Ra(e,1);if(null!==t){var n=tu();ru(t,e,1,n)}}),Gu(e,1)}},kn=function(e){if(13===e.tag){var t=Ra(e,134217728);if(null!==t)ru(t,e,134217728,tu());Gu(e,134217728)}},_n=function(e){if(13===e.tag){var t=nu(e),n=Ra(e,t);if(null!==n)ru(n,e,t,tu());Gu(e,t)}},On=function(){return wn},Tn=function(e,t){var n=wn;try{return wn=e,t()}finally{wn=n}},Et=function(e,t,n){switch(t){case"input":if(Ze(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Eo(r);if(!i)throw Error(ae(90));Ke(r),Ze(r,i)}}}break;case"textarea":at(e,n);break;case"select":null!=(t=n.value)&&rt(e,!!n.multiple,t,!1)}},Ct=uu,Nt=hu;var th={usingClientEntryPoint:!1,Events:[wo,So,Eo,Tt,jt,uu]},nh={findFiberByHostInstance:xo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rh={bundleType:nh.bundleType,version:nh.version,rendererPackageName:nh.rendererPackageName,rendererConfig:nh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:we.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Wt(e))?null:e.stateNode},findFiberByHostInstance:nh.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{an=ih.inject(rh),sn=ih}catch(ht){}}ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=th,ee.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(t))throw Error(ae(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ee,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},ee.createRoot=function(e,t){if(!Qu(e))throw Error(ae(299));var n=!1,r="",i=Ku;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bu(e,1,!1,null,0,n,0,r,i),e[yo]=t.current,$i(8===e.nodeType?e.parentNode:e),new Yu(t)},ee.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(ae(188));throw e=Object.keys(e).join(","),Error(ae(268,e))}return e=null===(e=Wt(t))?null:e.stateNode},ee.flushSync=function(e){return hu(e)},ee.hydrate=function(e,t,n){if(!Ju(t))throw Error(ae(200));return eh(null,e,t,!0,n)},ee.hydrateRoot=function(e,t,n){if(!Qu(e))throw Error(ae(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Ku;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=$u(t,null,e,1,null!=n?n:null,i,0,o,a),e[yo]=t.current,$i(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xu(t)},ee.render=function(e,t,n){if(!Ju(t))throw Error(ae(200));return eh(null,e,t,!1,n)},ee.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(ae(40));return!!e._reactRootContainer&&(hu(function(){eh(null,null,e,!1,function(){e._reactRootContainer=null,e[yo]=null})}),!0)},ee.unstable_batchedUpdates=uu,ee.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ju(n))throw Error(ae(200));if(null==e||void 0===e._reactInternals)throw Error(ae(38));return eh(e,t,n,!1,r)},ee.version="18.3.1-next-f1338f8080-20240426",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),Z.exports=ee;var oh,ah,sh=Z.exports;
/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function lh(){return lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lh.apply(this,arguments)}J.createRoot=sh.createRoot,J.hydrateRoot=sh.hydrateRoot,(ah=oh||(oh={})).Pop="POP",ah.Push="PUSH",ah.Replace="REPLACE";const ch="popstate";function uh(e){return void 0===e&&(e={}),function(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=oh.Pop,l=null,c=u();null==c&&(c=0,a.replaceState(lh({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function h(){s=oh.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:s,location:m.location,delta:t})}function d(e,t){s=oh.Push;let r=ph(m.location,e,t);n&&n(r,e),c=u()+1;let h=fh(r,c),d=m.createHref(r);try{a.pushState(h,"",d)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(d)}o&&l&&l({action:s,location:m.location,delta:1})}function f(e,t){s=oh.Replace;let r=ph(m.location,e,t);n&&n(r,e),c=u();let i=fh(r,c),h=m.createHref(r);a.replaceState(i,"",h),o&&l&&l({action:s,location:m.location,delta:0})}function p(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"==typeof e?e:mh(e);return n=n.replace(/ $/,"%20"),hh(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}let m={get action(){return s},get location(){return e(i,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ch,h),l=e,()=>{i.removeEventListener(ch,h),l=null}},createHref:e=>t(i,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:d,replace:f,go:e=>a.go(e)};return m}(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return ph("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:mh(t)},null,e)}function hh(e,t){if(!1===e||null==e)throw new Error(t)}function dh(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(Kd){}}}function fh(e,t){return{usr:e.state,key:e.key,idx:t}}function ph(e,t,n,r){return void 0===n&&(n=null),lh({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?yh(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function mh(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function yh(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var gh,vh;function bh(e,t,n){return void 0===n&&(n="/"),function(e,t,n,r){let i="string"==typeof t?yh(t):t,o=Ih(i.pathname||"/",n);if(null==o)return null;let a=xh(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let s=null;for(let l=0;null==s&&l<a.length;++l){let e=Ah(o);s=Nh(a[l],e,r)}return s}(e,t,n,!1)}function xh(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(hh(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=Lh([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(hh(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),xh(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:Ch(s,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of wh(e.path))i(e,t,r);else i(e,t)}),t}function wh(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=wh(r.join("/")),s=[];return s.push(...a.map(e=>""===e?o:[o,e].join("/"))),i&&s.push(...a),s.map(t=>e.startsWith("/")&&""===t?"/":t)}(vh=gh||(gh={})).data="data",vh.deferred="deferred",vh.redirect="redirect",vh.error="error";const Sh=/^:[\w-]+$/,Eh=3,kh=2,_h=1,Oh=10,Th=-2,jh=e=>"*"===e;function Ch(e,t){let n=e.split("/"),r=n.length;return n.some(jh)&&(r+=Th),t&&(r+=kh),n.filter(e=>!jh(e)).reduce((e,t)=>e+(Sh.test(t)?Eh:""===t?_h:Oh),r)}function Nh(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=Ph({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=Ph({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:Lh([o,u.pathname]),pathnameBase:Fh(Lh([o,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(o=Lh([o,u.pathnameBase]))}return a}function Ph(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);dh("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:o,pathnameBase:a,pattern:e}}function Ah(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return dh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Ih(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Mh(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Dh(e,t){let n=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function Rh(e,t,n,r){let i;void 0===r&&(r=!1),"string"==typeof e?i=yh(e):(i=lh({},e),hh(!i.pathname||!i.pathname.includes("?"),Mh("?","pathname","search",i)),hh(!i.pathname||!i.pathname.includes("#"),Mh("#","pathname","hash",i)),hh(!i.search||!i.search.includes("#"),Mh("#","search","hash",i)));let o,a=""===e||""===i.pathname,s=a?"/":i.pathname;if(null==s)o=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof e?yh(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:Uh(r),hash:zh(i)}}(i,o),c=s&&"/"!==s&&s.endsWith("/"),u=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const Lh=e=>e.join("/").replace(/\/\/+/g,"/"),Fh=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Uh=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",zh=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";const Bh=["post","put","patch","delete"];new Set(Bh);const Vh=["get",...Bh];
/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function $h(){return $h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$h.apply(this,arguments)}new Set(Vh);const qh=B.createContext(null),Hh=B.createContext(null),Wh=B.createContext(null),Gh=B.createContext(null),Kh=B.createContext({outlet:null,matches:[],isDataRoute:!1}),Yh=B.createContext(null);function Xh(){return null!=B.useContext(Gh)}function Qh(){return Xh()||hh(!1),B.useContext(Gh).location}function Jh(e){B.useContext(Wh).static||B.useLayoutEffect(e)}function Zh(){let{isDataRoute:e}=B.useContext(Kh);return e?function(){let{router:e}=function(){let e=B.useContext(qh);return e||hh(!1),e}(ad.UseNavigateStable),t=ld(sd.UseNavigateStable),n=B.useRef(!1);return Jh(()=>{n.current=!0}),B.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"==typeof r?e.navigate(r):e.navigate(r,$h({fromRouteId:t},i)))},[e,t])}():function(){Xh()||hh(!1);let e=B.useContext(qh),{basename:t,future:n,navigator:r}=B.useContext(Wh),{matches:i}=B.useContext(Kh),{pathname:o}=Qh(),a=JSON.stringify(Dh(i,n.v7_relativeSplatPath)),s=B.useRef(!1);return Jh(()=>{s.current=!0}),B.useCallback(function(n,i){if(void 0===i&&(i={}),!s.current)return;if("number"==typeof n)return void r.go(n);let l=Rh(n,JSON.parse(a),o,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Lh([t,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)},[t,r,a,o,e])}()}function ed(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=B.useContext(Wh),{matches:i}=B.useContext(Kh),{pathname:o}=Qh(),a=JSON.stringify(Dh(i,r.v7_relativeSplatPath));return B.useMemo(()=>Rh(e,JSON.parse(a),o,"path"===n),[e,a,o,n])}function td(e,t){return function(e,t,n,r){Xh()||hh(!1);let{navigator:i}=B.useContext(Wh),{matches:o}=B.useContext(Kh),a=o[o.length-1],s=a?a.params:{};!a||a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c,u=Qh();if(t){var h;let e="string"==typeof t?yh(t):t;"/"===l||(null==(h=e.pathname)?void 0:h.startsWith(l))||hh(!1),c=e}else c=u;let d=c.pathname||"/",f=d;if("/"!==l){let e=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(e.length).join("/")}let p=bh(e,{pathname:f}),m=function(e,t,n,r){var i;void 0===t&&(t=[]);void 0===n&&(n=null);void 0===r&&(r=null);if(null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=r)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,s=null==(i=n)?void 0:i.errors;if(null!=s){let e=a.findIndex(e=>e.route.id&&void 0!==(null==s?void 0:s[e.route.id]));e>=0||hh(!1),a=a.slice(0,Math.min(a.length,e+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<a.length;u++){let e=a[u];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=u),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){l=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}return a.reduceRight((e,r,i)=>{let o,u=!1,h=null,d=null;var f;n&&(o=s&&r.route.id?s[r.route.id]:void 0,h=r.route.errorElement||rd,l&&(c<0&&0===i?(f="route-fallback",!1||cd[f]||(cd[f]=!0),u=!0,d=null):c===i&&(u=!0,d=r.route.hydrateFallbackElement||null)));let p=t.concat(a.slice(0,i+1)),m=()=>{let t;return t=o?h:u?d:r.route.Component?B.createElement(r.route.Component,null):r.route.element?r.route.element:e,B.createElement(od,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?B.createElement(id,{location:n.location,revalidation:n.revalidation,component:h,error:o,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}(p&&p.map(e=>Object.assign({},e,{params:Object.assign({},s,e.params),pathname:Lh([l,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:Lh([l,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,r);if(t&&m)return B.createElement(Gh.Provider,{value:{location:$h({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:oh.Pop}},m);return m}(e,t)}function nd(){let e=function(){var e;let t=B.useContext(Yh),n=function(){let e=B.useContext(Hh);return e||hh(!1),e}(sd.UseRouteError),r=ld(sd.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),n?B.createElement("pre",{style:r},n):null,null)}const rd=B.createElement(nd,null);class id extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?B.createElement(Kh.Provider,{value:this.props.routeContext},B.createElement(Yh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function od(e){let{routeContext:t,match:n,children:r}=e,i=B.useContext(qh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),B.createElement(Kh.Provider,{value:t},r)}var ad=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ad||{}),sd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(sd||{});function ld(e){let t=function(){let e=B.useContext(Kh);return e||hh(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||hh(!1),n.route.id}const cd={};function ud(e){hh(!1)}function hd(e){let{basename:t="/",children:n=null,location:r,navigationType:i=oh.Pop,navigator:o,static:a=!1,future:s}=e;Xh()&&hh(!1);let l=t.replace(/^\/*/,"/"),c=B.useMemo(()=>({basename:l,navigator:o,static:a,future:$h({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);"string"==typeof r&&(r=yh(r));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:p="default"}=r,m=B.useMemo(()=>{let e=Ih(u,l);return null==e?null:{location:{pathname:e,search:h,hash:d,state:f,key:p},navigationType:i}},[l,u,h,d,f,p,i]);return null==m?null:B.createElement(Wh.Provider,{value:c},B.createElement(Gh.Provider,{children:n,value:m}))}function dd(e){let{children:t,location:n}=e;return td(fd(t),n)}function fd(e,t){void 0===t&&(t=[]);let n=[];return B.Children.forEach(e,(e,r)=>{if(!B.isValidElement(e))return;let i=[...t,r];if(e.type===B.Fragment)return void n.push.apply(n,fd(e.props.children,i));e.type!==ud&&hh(!1),e.props.index&&e.props.children&&hh(!1);let o={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=fd(e.props.children,i)),n.push(o)}),n}
/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pd(){return pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pd.apply(this,arguments)}new Promise(()=>{});const md=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Kd){}const yd=$.startTransition;function gd(e){let{basename:t,children:n,future:r,window:i}=e,o=B.useRef();null==o.current&&(o.current=uh({window:i,v5Compat:!0}));let a=o.current,[s,l]=B.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},u=B.useCallback(e=>{c&&yd?yd(()=>l(e)):l(e)},[l,c]);return B.useLayoutEffect(()=>a.listen(u),[a,u]),B.useEffect(()=>{return null==(e=r)||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),void(t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation));var e,t},[r]),B.createElement(hd,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const vd="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,bd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xd=B.forwardRef(function(e,t){let n,{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:c,preventScrollReset:u,viewTransition:h}=e,d=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,md),{basename:f}=B.useContext(Wh),p=!1;if("string"==typeof c&&bd.test(c)&&(n=c,vd))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),n=Ih(t.pathname,f);t.origin===e.origin&&null!=n?c=n+t.search+t.hash:p=!0}catch(Kd){}let m=function(e,t){let{relative:n}=void 0===t?{}:t;Xh()||hh(!1);let{basename:r,navigator:i}=B.useContext(Wh),{hash:o,pathname:a,search:s}=ed(e,{relative:n}),l=a;return"/"!==r&&(l="/"===a?r:Lh([r,a])),i.createHref({pathname:l,search:s,hash:o})}(c,{relative:i}),y=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=void 0===t?{}:t,l=Zh(),c=Qh(),u=ed(e,{relative:a});return B.useCallback(t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,n)){t.preventDefault();let n=void 0!==r?r:mh(c)===mh(u);l(e,{replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[c,l,u,r,i,n,e,o,a,s])}(c,{replace:a,state:s,target:l,preventScrollReset:u,relative:i,viewTransition:h});return B.createElement("a",pd({},d,{href:n||m,onClick:p||o?r:function(e){r&&r(e),e.defaultPrevented||y(e)},ref:t,target:l}))});var wd,Sd,Ed,kd;(Sd=wd||(wd={})).UseScrollRestoration="useScrollRestoration",Sd.UseSubmit="useSubmit",Sd.UseSubmitFetcher="useSubmitFetcher",Sd.UseFetcher="useFetcher",Sd.useViewTransitionState="useViewTransitionState",(kd=Ed||(Ed={})).UseFetcher="useFetcher",kd.UseFetchers="useFetchers",kd.UseScrollRestoration="useScrollRestoration";let _d,Od,Td,jd={data:""},Cd=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Nd=/\/\*[^]*?\*\/|  +/g,Pd=/\n+/g,Ad=(e,t)=>{let n="",r="",i="";for(let o in e){let a=e[o];"@"==o[0]?"i"==o[1]?n=o+" "+a+";":r+="f"==o[1]?Ad(a,o):o+"{"+Ad(a,"k"==o[1]?"":t)+"}":"object"==typeof a?r+=Ad(a,t?t.replace(/([^,])+/g,e=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):o):null!=a&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ad.p?Ad.p(o,a):o+":"+a+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Id={},Md=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+Md(e[n]);return t}return e};function Dd(e){let t=this||{},n=e.call?e(t.p):e;return((e,t,n,r,i)=>{let o=Md(e),a=Id[o]||(Id[o]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(o));if(!Id[a]){let t=o!==e?e:(e=>{let t,n,r=[{}];for(;t=Cd.exec(e.replace(Nd,""));)t[4]?r.shift():t[3]?(n=t[3].replace(Pd," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(Pd," ").trim();return r[0]})(e);Id[a]=Ad(i?{["@keyframes "+a]:t}:t,n?"":"."+a)}let s=n&&Id.g?Id.g:null;return n&&(Id.g=Id[a]),l=Id[a],c=t,u=r,(h=s)?c.data=c.data.replace(h,l):-1===c.data.indexOf(l)&&(c.data=u?l+c.data:c.data+l),a;var l,c,u,h})(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,i)=>{let o=t[i];if(o&&o.call){let e=o(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;o=t?"."+t:e&&"object"==typeof e?e.props?"":Ad(e,""):!1===e?"":e}return e+r+(null==o?"":o)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,(r=t.target,"object"==typeof window?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||jd),t.g,t.o,t.k);var r}Dd.bind({g:1});let Rd=Dd.bind({k:1});function Ld(e,t){let n=this||{};return function(){let r=arguments;function i(o,a){let s=Object.assign({},o),l=s.className||i.className;n.p=Object.assign({theme:Od&&Od()},s),n.o=/ *go\d+/.test(l),s.className=Dd.apply(n,r)+(l?" "+l:""),t&&(s.ref=a);let c=e;return e[0]&&(c=s.as||e,delete s.as),Td&&c[0]&&Td(s),_d(c,s)}return t?t(i):i}}var Fd=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,Ud=(()=>{let e=0;return()=>(++e).toString()})(),zd=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Bd=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case 2:let{toast:n}=t;return Bd(e,{type:e.toasts.find(e=>e.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,dismissed:!0,visible:!1}:e)};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+i}))}}},Vd=[],$d={toasts:[],pausedAt:void 0},qd=e=>{$d=Bd($d,e),Vd.forEach(e=>{e($d)})},Hd={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Wd=e=>(t,n)=>{let r=((e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||Ud()}))(t,e,n);return qd({type:2,toast:r}),r.id},Gd=(e,t)=>Wd("blank")(e,t);Gd.error=Wd("error"),Gd.success=Wd("success"),Gd.loading=Wd("loading"),Gd.custom=Wd("custom"),Gd.dismiss=e=>{qd({type:3,toastId:e})},Gd.remove=e=>qd({type:4,toastId:e}),Gd.promise=(e,t,n)=>{let r=Gd.loading(t.loading,{...n,...null==n?void 0:n.loading});return"function"==typeof e&&(e=e()),e.then(e=>{let i=t.success?Fd(t.success,e):void 0;return i?Gd.success(i,{id:r,...n,...null==n?void 0:n.success}):Gd.dismiss(r),e}).catch(e=>{let i=t.error?Fd(t.error,e):void 0;i?Gd.error(i,{id:r,...n,...null==n?void 0:n.error}):Gd.dismiss(r)}),e};var Kd,Yd,Xd,Qd,Jd=(e,t)=>{qd({type:1,toast:{id:e,height:t}})},Zd=()=>{qd({type:5,time:Date.now()})},ef=new Map,tf=e=>{let{toasts:t,pausedAt:n}=((e={})=>{let[t,n]=B.useState($d),r=B.useRef($d);B.useEffect(()=>(r.current!==$d&&n($d),Vd.push(n),()=>{let e=Vd.indexOf(n);e>-1&&Vd.splice(e,1)}),[]);let i=t.toasts.map(t=>{var n,r,i;return{...e,...e[t.type],...t,removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||Hd[t.type],style:{...e.style,...null==(i=e[t.type])?void 0:i.style,...t.style}}});return{...t,toasts:i}})(e);B.useEffect(()=>{if(n)return;let e=Date.now(),r=t.map(t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout(()=>Gd.dismiss(t.id),n);t.visible&&Gd.dismiss(t.id)});return()=>{r.forEach(e=>e&&clearTimeout(e))}},[t,n]);let r=B.useCallback(()=>{n&&qd({type:6,time:Date.now()})},[n]),i=B.useCallback((e,n)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:o}=n||{},a=t.filter(t=>(t.position||o)===(e.position||o)&&t.height),s=a.findIndex(t=>t.id===e.id),l=a.filter((e,t)=>t<s&&e.visible).length;return a.filter(e=>e.visible).slice(...r?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+i,0)},[t]);return B.useEffect(()=>{t.forEach(e=>{if(e.dismissed)((e,t=1e3)=>{if(ef.has(e))return;let n=setTimeout(()=>{ef.delete(e),qd({type:4,toastId:e})},t);ef.set(e,n)})(e.id,e.removeDelay);else{let t=ef.get(e.id);t&&(clearTimeout(t),ef.delete(e.id))}})},[t]),{toasts:t,handlers:{updateHeight:Jd,startPause:Zd,endPause:r,calculateOffset:i}}},nf=Rd`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,rf=Rd`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,of=Rd`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,af=Ld("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${nf} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${rf} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${of} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,sf=Rd`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,lf=Ld("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${sf} 1s linear infinite;
`,cf=Rd`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,uf=Rd`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,hf=Ld("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${cf} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${uf} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,df=Ld("div")`
  position: absolute;
`,ff=Ld("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,pf=Rd`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,mf=Ld("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${pf} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,yf=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return void 0!==t?"string"==typeof t?B.createElement(mf,null,t):t:"blank"===n?null:B.createElement(ff,null,B.createElement(lf,{...r}),"loading"!==n&&B.createElement(df,null,"error"===n?B.createElement(af,{...r}):B.createElement(hf,{...r})))},gf=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,vf=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,bf=Ld("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,xf=Ld("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,wf=B.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=zd()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[gf(n),vf(n)];return{animation:t?`${Rd(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Rd(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(e.position||t||"top-center",e.visible):{opacity:0},o=B.createElement(yf,{toast:e}),a=B.createElement(xf,{...e.ariaProps},Fd(e.message,e));return B.createElement(bf,{className:e.className,style:{...i,...n,...e.style}},"function"==typeof r?r({icon:o,message:a}):B.createElement(B.Fragment,null,o,a))});Kd=B.createElement,Ad.p=Yd,_d=Kd,Od=Xd,Td=Qd;var Sf=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let o=B.useCallback(t=>{if(t){let n=()=>{let n=t.getBoundingClientRect().height;r(e,n)};n(),new MutationObserver(n).observe(t,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return B.createElement("div",{ref:o,className:t,style:n},i)},Ef=Dd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,kf=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,containerStyle:o,containerClassName:a})=>{let{toasts:s,handlers:l}=tf(n);return B.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...o},className:a,onMouseEnter:l.startPause,onMouseLeave:l.endPause},s.map(n=>{let o=n.position||t,a=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:zd()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}})(o,l.calculateOffset(n,{reverseOrder:e,gutter:r,defaultPosition:t}));return B.createElement(Sf,{id:n.id,key:n.id,onHeightUpdate:l.updateHeight,className:n.visible?Ef:"",style:a},"custom"===n.type?Fd(n.message,n):i?i(n):B.createElement(wf,{toast:n,position:o}))}))},_f=Gd;const Of=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Tf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;s||(d=64,o||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Of(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==s)throw new jf;const l=t<<2|o>>4;if(r.push(l),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cf=function(e){return function(e){const t=Of(e);return Tf.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Nf=function(e){try{return Tf.decodeString(e,!0)}catch(Kd){console.error("base64Decode failed: ",Kd)}return null};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Pf=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Af=()=>{try{return Pf()||(()=>{if("undefined"==typeof process||void 0===process.env)return;const e={}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Kd){return}const t=e&&Nf(e[1]);return t&&JSON.parse(t)})()}catch(Kd){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Kd}`)}},If=e=>{var t,n;return null===(n=null===(t=Af())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Mf=()=>{var e;return null===(e=Af())||void 0===e?void 0:e.config},Df=e=>{var t;return null===(t=Af())||void 0===t?void 0:t[`_${e}`]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Rf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function Ff(e){return(await fetch(e,{credentials:"include"})).ok}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf={};let zf=!1;function Bf(e,t){if("undefined"==typeof window||"undefined"==typeof document||!Lf(window.location.host)||Uf[e]===t||Uf[e]||zf)return;function n(e){return`__firebase__banner__${e}`}Uf[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Uf))Uf[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function o(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{zf=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),s=n("learnmore"),l=document.getElementById(s)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,s);const n=o();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}i?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function $f(){return!function(){var e;const t=null===(e=Af())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Kd){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}class qf extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,qf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hf.prototype.create)}}class Hf{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(Wf,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new qf(r,a,n)}}const Wf=/\{\$([^}]+)}/g;function Gf(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Kf(n)&&Kf(o)){if(!Gf(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Kf(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Xf(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Qf(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Jf{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Zf),void 0===r.error&&(r.error=Zf),void 0===r.complete&&(r.complete=Zf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Kd){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Kd){"undefined"!=typeof console&&console.error&&console.error(Kd)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zf(){}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(e){return e&&e._delegate?e._delegate:e}class tp{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Rf;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Kd){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Kd){if(r)return null;throw Kd}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:np})}catch(Kd){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Kd){}}}}clearInstance(e=np){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=np){return this.instances.has(e)}getOptions(e=np){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===np?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(e=np){return this.component?this.component.multipleInstances?e:np:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ip{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new rp(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var op,ap;(ap=op||(op={}))[ap.DEBUG=0]="DEBUG",ap[ap.VERBOSE=1]="VERBOSE",ap[ap.INFO=2]="INFO",ap[ap.WARN=3]="WARN",ap[ap.ERROR=4]="ERROR",ap[ap.SILENT=5]="SILENT";const sp={debug:op.DEBUG,verbose:op.VERBOSE,info:op.INFO,warn:op.WARN,error:op.ERROR,silent:op.SILENT},lp=op.INFO,cp={[op.DEBUG]:"log",[op.VERBOSE]:"log",[op.INFO]:"info",[op.WARN]:"warn",[op.ERROR]:"error"},up=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=cp[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class hp{constructor(e){this.name=e,this._logLevel=lp,this._logHandler=up,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in op))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?sp[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,op.DEBUG,...e),this._logHandler(this,op.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,op.VERBOSE,...e),this._logHandler(this,op.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,op.INFO,...e),this._logHandler(this,op.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,op.WARN,...e),this._logHandler(this,op.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,op.ERROR,...e),this._logHandler(this,op.ERROR,...e)}}let dp,fp;const pp=new WeakMap,mp=new WeakMap,yp=new WeakMap,gp=new WeakMap,vp=new WeakMap;let bp={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return mp.get(e);if("objectStoreNames"===t)return e.objectStoreNames||yp.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sp(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function xp(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(fp||(fp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(Ep(this),t),Sp(pp.get(this))}:function(...t){return Sp(e.apply(Ep(this),t))}:function(t,...n){const r=e.call(Ep(this),t,...n);return yp.set(r,t.sort?t.sort():[t]),Sp(r)}}function wp(e){return"function"==typeof e?xp(e):(e instanceof IDBTransaction&&function(e){if(mp.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});mp.set(e,t)}(e),t=e,(dp||(dp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,bp):e);var t}function Sp(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Sp(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&pp.set(t,e)}).catch(()=>{}),vp.set(t,e),t}(e);if(gp.has(e))return gp.get(e);const t=wp(e);return t!==e&&(gp.set(e,t),vp.set(t,e)),t}const Ep=e=>vp.get(e);const kp=["get","getKey","getAll","getAllKeys","count"],_p=["put","add","delete","clear"],Op=new Map;function Tp(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Op.get(t))return Op.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=_p.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!kp.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let a=o.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),i&&o.done]))[0]};return Op.set(t,o),o}bp=(e=>({...e,get:(t,n,r)=>Tp(t,n)||e.get(t,n,r),has:(t,n)=>!!Tp(t,n)||e.has(t,n)}))(bp);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class jp{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const Cp="@firebase/app",Np="0.13.2",Pp=new hp("@firebase/app"),Ap="@firebase/app-compat",Ip="@firebase/analytics-compat",Mp="@firebase/analytics",Dp="@firebase/app-check-compat",Rp="@firebase/app-check",Lp="@firebase/auth",Fp="@firebase/auth-compat",Up="@firebase/database",zp="@firebase/data-connect",Bp="@firebase/database-compat",Vp="@firebase/functions",$p="@firebase/functions-compat",qp="@firebase/installations",Hp="@firebase/installations-compat",Wp="@firebase/messaging",Gp="@firebase/messaging-compat",Kp="@firebase/performance",Yp="@firebase/performance-compat",Xp="@firebase/remote-config",Qp="@firebase/remote-config-compat",Jp="@firebase/storage",Zp="@firebase/storage-compat",em="@firebase/firestore",tm="@firebase/ai",nm="@firebase/firestore-compat",rm="firebase",im="[DEFAULT]",om={[Cp]:"fire-core",[Ap]:"fire-core-compat",[Mp]:"fire-analytics",[Ip]:"fire-analytics-compat",[Rp]:"fire-app-check",[Dp]:"fire-app-check-compat",[Lp]:"fire-auth",[Fp]:"fire-auth-compat",[Up]:"fire-rtdb",[zp]:"fire-data-connect",[Bp]:"fire-rtdb-compat",[Vp]:"fire-fn",[$p]:"fire-fn-compat",[qp]:"fire-iid",[Hp]:"fire-iid-compat",[Wp]:"fire-fcm",[Gp]:"fire-fcm-compat",[Kp]:"fire-perf",[Yp]:"fire-perf-compat",[Xp]:"fire-rc",[Qp]:"fire-rc-compat",[Jp]:"fire-gcs",[Zp]:"fire-gcs-compat",[em]:"fire-fst",[nm]:"fire-fst-compat",[tm]:"fire-vertex","fire-js":"fire-js",[rm]:"fire-js-all"},am=new Map,sm=new Map,lm=new Map;function cm(e,t){try{e.container.addComponent(t)}catch(Kd){Pp.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,Kd)}}function um(e){const t=e.name;if(lm.has(t))return Pp.debug(`There were multiple attempts to register component ${t}.`),!1;lm.set(t,e);for(const n of am.values())cm(n,e);for(const n of sm.values())cm(n,e);return!0}function hm(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function dm(e){return null!=e&&void 0!==e.settings}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm=new Hf("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class pm{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new tp("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fm.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="11.10.0";function ym(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const r=Object.assign({name:im,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!=typeof i||!i)throw fm.create("bad-app-name",{appName:String(i)});if(n||(n=Mf()),!n)throw fm.create("no-options");const o=am.get(i);if(o){if(Gf(n,o.options)&&Gf(r,o.config))return o;throw fm.create("duplicate-app",{appName:i})}const a=new ip(i);for(const l of lm.values())a.addComponent(l);const s=new pm(n,r,a);return am.set(i,s),s}function gm(e=im){const t=am.get(e);if(!t&&e===im&&Mf())return ym();if(!t)throw fm.create("no-app",{appName:e});return t}function vm(e,t,n){var r;let i=null!==(r=om[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Pp.warn(e.join(" "))}um(new tp(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="firebase-heartbeat-store";let xm=null;function wm(){return xm||(xm=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(e,t),s=Sp(a);return r&&a.addEventListener("upgradeneeded",e=>{r(Sp(a.result),e.oldVersion,e.newVersion,Sp(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(bm)}catch(Kd){console.warn(Kd)}}}).catch(e=>{throw fm.create("idb-open",{originalErrorMessage:e.message})})),xm}async function Sm(e,t){try{const n=(await wm()).transaction(bm,"readwrite"),r=n.objectStore(bm);await r.put(t,Em(e)),await n.done}catch(Kd){if(Kd instanceof qf)Pp.warn(Kd.message);else{const t=fm.create("idb-set",{originalErrorMessage:null==Kd?void 0:Kd.message});Pp.warn(t.message)}}}function Em(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Om(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=_m();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(Kd){Pp.warn(Kd)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=_m(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Tm(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Tm(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Cf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(Kd){return Pp.warn(Kd),""}}}function _m(){return(new Date).toISOString().substring(0,10)}class Om{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(Kd){return!1}}()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await wm()).transaction(bm),n=await t.objectStore(bm).get(Em(e));return await t.done,n}catch(Kd){if(Kd instanceof qf)Pp.warn(Kd.message);else{const t=fm.create("idb-get",{originalErrorMessage:null==Kd?void 0:Kd.message});Pp.warn(t.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Sm(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Sm(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Tm(e){return Cf(JSON.stringify({version:2,heartbeats:e})).length}var jm;function Cm(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Nm(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}jm="",um(new tp("platform-logger",e=>new jp(e),"PRIVATE")),um(new tp("heartbeat",e=>new km(e),"PRIVATE")),vm(Cp,Np,jm),vm(Cp,Np,"esm2017"),vm("fire-js",""),"function"==typeof SuppressedError&&SuppressedError;const Pm=Nm,Am=new Hf("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Im=new hp("@firebase/auth");function Mm(e,...t){Im.logLevel<=op.ERROR&&Im.error(`Auth (${mm}): ${e}`,...t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(e,...t){throw Um(e,...t)}function Rm(e,...t){return Um(e,...t)}function Lm(e,t,n){const r=Object.assign(Object.assign({},Pm()),{[t]:n});return new Hf("auth","Firebase",r).create(t,{appName:e.name})}function Fm(e){return Lm(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Um(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Am.create(e,...t)}function zm(e,t,...n){if(!e)throw Um(t,...n)}function Bm(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Mm(t),new Error(t)}function Vm(e,t){e||Bm(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function qm(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(){return"undefined"==typeof navigator||!navigator||!("onLine"in navigator)||"boolean"!=typeof navigator.onLine||"http:"!==qm()&&"https:"!==qm()&&!function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()&&!("connection"in navigator)||navigator.onLine}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Wm{constructor(e,t){this.shortDelay=e,this.longDelay=t,Vm(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vf())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return Hm()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(e,t){Vm(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void Bm("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void Bm("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void Bm("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Xm=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Qm=new Wm(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Zm(e,t,n,r,i={}){return ey(e,i,async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=Yf(Object.assign({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:s},i);return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&Lf(e.emulatorConfig.host)&&(l.credentials="include"),Km.fetch()(await ny(e,e.config.apiHost,n,a),l)})}async function ey(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ym),t);try{const t=new iy(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw oy(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw oy(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw oy(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw oy(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Lm(e,s,a);Dm(e,s)}}catch(Kd){if(Kd instanceof qf)throw Kd;Dm(e,"network-request-failed",{message:String(Kd)})}}async function ty(e,t,n,r,i={}){const o=await Zm(e,t,n,r,i);return"mfaPendingCredential"in o&&Dm(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function ny(e,t,n,r){const i=`${t}${n}?${r}`,o=e,a=o.config.emulator?Gm(e.config,i):`${e.config.apiScheme}://${i}`;if(Xm.includes(n)&&(await o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())){return o._getPersistence()._getFinalTarget(a).toString()}return a}function ry(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iy{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Rm(this.auth,"network-request-failed")),Qm.get())})}}function oy(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Rm(e,t,r);return i.customData._tokenResponse=n,i}function ay(e){return void 0!==e&&void 0!==e.enterprise}class sy{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ry(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ly(e,t){return Zm(e,"POST","/v1/accounts:lookup",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Kd){}}function uy(e){return 1e3*Number(e)}function hy(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Mm("JWT malformed, contained fewer than 3 sections"),null;try{const e=Nf(n);return e?JSON.parse(e):(Mm("Failed to decode base64 JWT payload"),null)}catch(Kd){return Mm("Caught error parsing JWT payload as JSON",null==Kd?void 0:Kd.toString()),null}}function dy(e){const t=hy(e);return zm(t,"internal-error"),zm(void 0!==t.exp,"internal-error"),zm(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fy(e,t,n=!1){if(n)return t;try{return await t}catch(Kd){throw Kd instanceof qf&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(Kd)&&e.auth.currentUser===e&&await e.auth.signOut(),Kd}}class py{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Kd){return void("auth/network-request-failed"===(null==Kd?void 0:Kd.code)&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cy(this.lastLoginAt),this.creationTime=cy(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yy(e){var t;const n=e.auth,r=await e.getIdToken(),i=await fy(e,ly(n,{idToken:r}));zm(null==i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?gy(o.providerUserInfo):[],s=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&o.passwordHash||(null==s?void 0:s.length)),d=!!u&&h,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new my(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function gy(e){return e.map(e=>{var{providerId:t}=e,n=Cm(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class vy{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){zm(e.idToken,"internal-error"),zm(void 0!==e.idToken,"internal-error"),zm(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):dy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){zm(0!==e.length,"internal-error");const t=dy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(zm(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await ey(e,{},async()=>{const n=Yf({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=await ny(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const s={method:"POST",headers:a,body:n};return e.emulatorConfig&&Lf(e.emulatorConfig.host)&&(s.credentials="include"),Km.fetch()(o,s)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new vy;return n&&(zm("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(zm("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(zm("number"==typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vy,this.toJSON())}_performRefresh(){return Bm("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(e,t){zm("string"==typeof e||void 0===e,"internal-error",{appName:t})}class xy{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Cm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new py(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new my(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await fy(this,this.stsTokenManager.getToken(this.auth,e));return zm(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=ep(e),r=await n.getIdToken(t),i=hy(r);zm(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:cy(uy(i.auth_time)),issuedAtTime:cy(uy(i.iat)),expirationTime:cy(uy(i.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ep(e);await yy(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(zm(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xy(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){zm(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await yy(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dm(this.auth.app))return Promise.reject(Fm(this.auth));const e=await this.getIdToken();return await fy(this,
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e,t){return Zm(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,y=null!==(l=t.createdAt)&&void 0!==l?l:void 0,g=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:x,providerData:w,stsTokenManager:S}=t;zm(v&&S,e,"internal-error");const E=vy.fromJSON(this.name,S);zm("string"==typeof v,e,"internal-error"),by(u,e.name),by(h,e.name),zm("boolean"==typeof b,e,"internal-error"),zm("boolean"==typeof x,e,"internal-error"),by(d,e.name),by(f,e.name),by(p,e.name),by(m,e.name),by(y,e.name),by(g,e.name);const k=new xy({uid:v,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:x,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:y,lastLoginAt:g});return w&&Array.isArray(w)&&(k.providerData=w.map(e=>Object.assign({},e))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t,n=!1){const r=new vy;r.updateFromServerResponse(t);const i=new xy({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await yy(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];zm(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?gy(r.providerUserInfo):[],o=!(r.email&&r.passwordHash||(null==i?void 0:i.length)),a=new vy;a.updateFromIdToken(n);const s=new xy({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new my(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash||(null==i?void 0:i.length))};return Object.assign(s,l),s}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy=new Map;function Sy(e){Vm(e instanceof Function,"Expected a class definition");let t=wy.get(e);return t?(Vm(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,wy.set(e,t),t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ey.type="NONE";const ky=Ey;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(e,t,n){return`firebase:${e}:${t}:${n}`}class Oy{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=_y(this.userKey,r.apiKey,i),this.fullPersistenceKey=_y("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"==typeof e){const t=await ly(this.auth,{idToken:e}).catch(()=>{});return t?xy._fromGetAccountInfoResponse(this.auth,t,e):null}return xy._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Oy(Sy(ky),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Sy(ky);const o=_y(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(o);if(t){let n;if("string"==typeof t){const r=await ly(e,{idToken:t}).catch(()=>{});if(!r)break;n=await xy._fromGetAccountInfoResponse(e,r,t)}else n=xy._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const s=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch(l){}})),new Oy(i,e,n)):new Oy(i,e,n)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Py(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(jy(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Iy(t))return"Blackberry";if(My(t))return"Webos";if(Cy(t))return"Safari";if((t.includes("chrome/")||Ny(t))&&!t.includes("edge/"))return"Chrome";if(Ay(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function jy(e=Vf()){return/firefox\//i.test(e)}function Cy(e=Vf()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ny(e=Vf()){return/crios\//i.test(e)}function Py(e=Vf()){return/iemobile/i.test(e)}function Ay(e=Vf()){return/android/i.test(e)}function Iy(e=Vf()){return/blackberry/i.test(e)}function My(e=Vf()){return/webos/i.test(e)}function Dy(e=Vf()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ry(){return function(){const e=Vf();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Ly(e=Vf()){return Dy(e)||Ay(e)||My(e)||Iy(e)||/windows phone/i.test(e)||Py(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(e,t=[]){let n;switch(e){case"Browser":n=Ty(Vf());break;case"Worker":n=`${Ty(Vf())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${mm}/${r}`}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(Kd){r(Kd)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Kd){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==Kd?void 0:Kd.message})}}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,a;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(o=s.containsNumericCharacter)||void 0===o||o),s.isValid&&(s.isValid=null===(a=s.containsNonAlphanumericCharacter)||void 0===a||a),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $y(this),this.idTokenSubscription=new $y(this),this.beforeStateQueue=new Uy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Am,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Sy(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await Oy.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Kd){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(e,!0)):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await ly(this,{idToken:e}),n=await xy._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(dm(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null==r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==o||!(null==a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(Kd){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(Kd))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return zm(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Kd){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await yy(e)}catch(Kd){if("auth/network-request-failed"!==(null==Kd?void 0:Kd.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dm(this.app))return Promise.reject(Fm(this));const t=e?ep(e):null;return t&&zm(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&zm(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dm(this.app)?Promise.reject(Fm(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dm(this.app)?Promise.reject(Fm(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Sy(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e,t={}){return Zm(e,"GET","/v2/passwordPolicy",Jm(e,t))}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this),t=new zy(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hf("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Zm(e,"POST","/v2/accounts:revokeToken",Jm(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Sy(e)||this._popupRedirectResolver;zm(t,this,"argument-error"),this.redirectPersistenceManager=await Oy.create(this,[Sy(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(zm(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),"function"==typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return zm(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(dm(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){Im.logLevel<=op.WARN&&Im.warn(`Auth (${mm}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function Vy(e){return ep(e)}class $y{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Jf(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return zm(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hy(e){return qy.loadJS(e)}class Wy{constructor(){this.enterprise=new Gy}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Gy{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ky="NO_RECAPTCHA";class Yy{constructor(e){this.type="recaptcha-enterprise",this.auth=Vy(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{(async function(e,t){return Zm(e,"GET","/v2/recaptchaConfig",Jm(e,t))})(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new sy(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})}function r(t,n,r){const i=window.grecaptcha;ay(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Ky)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Wy).execute("siteKey",{action:"verify"})}return new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&ay(window.grecaptcha))r(n,e,i);else{if("undefined"==typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));let t=qy.recaptchaEnterpriseScript;0!==t.length&&(t+=n),Hy(t).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function Xy(e,t,n,r=!1,i=!1){const o=new Yy(e);let a;if(i)a=Ky;else try{a=await o.verify(n)}catch(l){a=await o.verify(n,!0)}const s=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Qy(e,t,n,r,i){var o,a;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Xy(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Xy(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const i=await Xy(e,t,n);return r(e,i).catch(async i=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await Xy(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Xy(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(e,t,n){const r=Vy(e);zm(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),o=Zy(t),{host:a,port:s}=function(e){const t=Zy(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:eg(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:eg(t)}}}(t),l=null===s?"":`:${s}`,c={url:`${o}//${a}${l}/`},u=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return zm(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void zm(Gf(c,r.config.emulator)&&Gf(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Lf(a)?(Ff(`${o}//${a}${l}`),Bf("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()}function Zy(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function eg(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class tg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Bm("not implemented")}_getIdTokenResponse(e){return Bm("not implemented")}_linkToIdToken(e,t){return Bm("not implemented")}_getReauthenticationResolver(e){return Bm("not implemented")}}async function ng(e,t){return Zm(e,"POST","/v1/accounts:signUp",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rg(e,t){return ty(e,"POST","/v1/accounts:signInWithPassword",Jm(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ig extends tg{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ig(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new ig(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Qy(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",rg,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return ty(e,"POST","/v1/accounts:signInWithEmailLink",Jm(e,t))}(e,{email:this._email,oobCode:this._password});default:Dm(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Qy(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ng,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return ty(e,"POST","/v1/accounts:signInWithEmailLink",Jm(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Dm(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function og(e,t){return ty(e,"POST","/v1/accounts:signInWithIdp",Jm(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag extends tg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ag(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Dm("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Cm(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new ag(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return og(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,og(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,og(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Yf(t)}return e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e){var t,n,r,i,o,a;const s=Xf(Qf(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);zm(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.lang)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Xf(Qf(e)).link,n=t?Xf(Qf(t)).deep_link_id:null,r=Xf(Qf(e)).deep_link_id;return(r?Xf(Qf(r)).link:null)||r||n||t||e}(e);try{return new sg(t)}catch(n){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(){this.providerId=lg.PROVIDER_ID}static credential(e,t){return ig._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=sg.parseLink(t);return zm(n,"argument-error"),ig._fromEmailAndCode(e,n.code,n.tenantId)}}lg.PROVIDER_ID="password",lg.EMAIL_PASSWORD_SIGN_IN_METHOD="password",lg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class cg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug extends cg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg extends ug{constructor(){super("facebook.com")}static credential(e){return ag._fromParams({providerId:hg.PROVIDER_ID,signInMethod:hg.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hg.credentialFromTaggedObject(e)}static credentialFromError(e){return hg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return hg.credential(e.oauthAccessToken)}catch(t){return null}}}hg.FACEBOOK_SIGN_IN_METHOD="facebook.com",hg.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class dg extends ug{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ag._fromParams({providerId:dg.PROVIDER_ID,signInMethod:dg.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return dg.credentialFromTaggedObject(e)}static credentialFromError(e){return dg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return dg.credential(t,n)}catch(r){return null}}}dg.GOOGLE_SIGN_IN_METHOD="google.com",dg.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class fg extends ug{constructor(){super("github.com")}static credential(e){return ag._fromParams({providerId:fg.PROVIDER_ID,signInMethod:fg.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fg.credentialFromTaggedObject(e)}static credentialFromError(e){return fg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return fg.credential(e.oauthAccessToken)}catch(t){return null}}}fg.GITHUB_SIGN_IN_METHOD="github.com",fg.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class pg extends ug{constructor(){super("twitter.com")}static credential(e,t){return ag._fromParams({providerId:pg.PROVIDER_ID,signInMethod:pg.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return pg.credentialFromTaggedObject(e)}static credentialFromError(e){return pg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return pg.credential(t,n)}catch(r){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function mg(e,t){return ty(e,"POST","/v1/accounts:signUp",Jm(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pg.TWITTER_SIGN_IN_METHOD="twitter.com",pg.PROVIDER_ID="twitter.com";class yg{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await xy._fromIdTokenResponse(e,n,r),o=gg(n);return new yg({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=gg(n);return new yg({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function gg(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg extends qf{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,vg.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new vg(e,t,n,r)}}function bg(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw vg._fromErrorAndOperation(e,n,t,r);throw n})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function xg(e,t,n=!1){if(dm(e.app))return Promise.reject(Fm(e));const r="signIn",i=await bg(e,r,t),o=await yg._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function wg(e){const t=Vy(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function Sg(e,t,n){return dm(e.app)?Promise.reject(Fm(e)):async function(e,t){return xg(Vy(e),t)}(ep(e),lg.credential(t,n)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&wg(e),t})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Eg(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=ep(e),i={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=await fy(r,async function(e,t){return Zm(e,"POST","/v1/accounts:update",t)}(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}const kg="__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(kg,"1"),this.storage.removeItem(kg),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og extends _g{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ly(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Ry()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Og.type="LOCAL";const Tg=Og;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg extends _g{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}jg.type="SESSION";const Cg=jg;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ng{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Ng(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null==o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map(async e=>e(t.origin,i)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Pg(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ng.receivers=[];class Ag{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((a,s)=>{const l=Pg("",20);r.port1.start();const c=setTimeout(()=>{s(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(){return window}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Mg(){return void 0!==Ig().WorkerGlobalScope&&"function"==typeof Ig().importScripts}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Dg="firebaseLocalStorageDb",Rg="firebaseLocalStorage",Lg="fbase_key";class Fg{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ug(e,t){return e.transaction([Rg],t?"readwrite":"readonly").objectStore(Rg)}function zg(){const e=indexedDB.open(Dg,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Rg,{keyPath:Lg})}catch(Kd){n(Kd)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Rg)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Dg);return new Fg(e).toPromise()}(),t(await zg()))})})}async function Bg(e,t,n){const r=Ug(e,!0).put({[Lg]:t,value:n});return new Fg(r).toPromise()}function Vg(e,t){const n=Ug(e,!0).delete(t);return new Fg(n).toPromise()}class $g{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await zg()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Kd){if(t++>3)throw Kd;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Mg()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ng._getInstance(Mg()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ag(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zg();return await Bg(e,kg,"1"),await Vg(e,kg),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Bg(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Ug(e,!1).get(t),r=await new Fg(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Vg(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Ug(e,!1).getAll();return new Fg(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}$g.type="LOCAL";const qg=$g;new Wm(3e4,6e4);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Hg extends tg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return og(e,this._buildIdpRequest())}_linkToIdToken(e,t){return og(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return og(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Wg(e){return xg(e.auth,new Hg(e),e.bypassAuthState)}function Gg(e){const{auth:t,user:n}=e;return zm(n,t,"internal-error"),
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e,t,n=!1){const{auth:r}=e;if(dm(r.app))return Promise.reject(Fm(r));const i="reauthenticate";try{const o=await fy(e,bg(r,i,t,e),n);zm(o.idToken,r,"internal-error");const a=hy(o.idToken);zm(a,r,"internal-error");const{sub:s}=a;return zm(e.uid===s,r,"user-mismatch"),yg._forOperation(e,i,o)}catch(Kd){throw"auth/user-not-found"===(null==Kd?void 0:Kd.code)&&Dm(r,"user-mismatch"),Kd}}(n,new Hg(e),e.bypassAuthState)}async function Kg(e){const{auth:t,user:n}=e;return zm(n,t,"internal-error"),async function(e,t,n=!1){const r=await fy(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return yg._forOperation(e,"link",r)}(n,new Hg(e),e.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Kd){this.reject(Kd)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(Kd){this.reject(Kd)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Wg;case"linkViaPopup":case"linkViaRedirect":return Kg;case"reauthViaPopup":case"reauthViaRedirect":return Gg;default:Dm(this.auth,"internal-error")}}resolve(e){Vm(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vm(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg=new Wm(2e3,1e4);class Qg extends Yg{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Qg.currentPopupAction&&Qg.currentPopupAction.cancel(),Qg.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return zm(e,this.auth,"internal-error"),e}async onExecution(){Vm(1===this.filter.length,"Popup operations only handle one event");const e=Pg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Rm(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Rm(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qg.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rm(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Xg.get())};e()}}Qg.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Jg="pendingRedirect",Zg=new Map;class ev extends Yg{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Zg.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=function(e){return _y(Jg,e.config.apiKey,e.name)}(t),r=function(e){return Sy(e._redirectPersistence)}(e);if(!(await r._isAvailable()))return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(Kd){e=()=>Promise.reject(Kd)}Zg.set(this.auth._key(),e)}return this.bypassAuthState||Zg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function tv(e,t){Zg.set(e._key(),t)}async function nv(e,t,n=!1){if(dm(e.app))return Promise.reject(Fm(e));const r=Vy(e),i=
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e,t){return t?Sy(t):(zm(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(r,t),o=new ev(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ov(e);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ov(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Rm(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(iv(e))}saveEventToCache(e){this.cachedEventUids.add(iv(e)),this.lastProcessedEventTime=Date.now()}}function iv(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function ov({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const av=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sv=/^https?/;async function lv(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return Zm(e,"GET","/v1/projects",t)}(e);for(const r of t)try{if(cv(r))return}catch(n){}Dm(e,"unauthorized-domain")}function cv(e){const t=$m(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!sv.test(n))return!1;if(av.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=new Wm(3e4,6e4);function hv(){const e=Ig().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function dv(e){return new Promise((t,n)=>{var r,i,o;function a(){hv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{hv(),n(Rm(e,"network-request-failed"))},timeout:uv.get()})}if(null===(i=null===(r=Ig().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Ig().gapi)||void 0===o?void 0:o.load)){const t=`__${"iframefcb"}${Math.floor(1e6*Math.random())}`;return Ig()[t]=()=>{gapi.load?a():n(Rm(e,"network-request-failed"))},Hy(`${qy.gapiScript}?onload=${t}`).catch(e=>n(e))}a()}}).catch(e=>{throw fv=null,e})}let fv=null;
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const pv=new Wm(5e3,15e3),mv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gv(e){const t=e.config;zm(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Gm(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:mm},i=yv.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Yf(r).slice(1)}`}async function vv(e){const t=await function(e){return fv=fv||dv(e),fv}(e),n=Ig().gapi;return zm(n,e,"internal-error"),t.open({where:document.body,url:gv(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mv,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Rm(e,"network-request-failed"),o=Ig().setTimeout(()=>{r(i)},pv.get());function a(){Ig().clearTimeout(o),n(t)}t.ping(a).then(a,()=>{r(i)})}))}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class xv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Kd){}}}function wv(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},bv),{width:r.toString(),height:i.toString(),top:o,left:a}),c=Vf().toLowerCase();n&&(s=Ny(c)?"_blank":n),jy(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=Vf()){var t;return Dy(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t||"",s),new xv(null);const h=window.open(t||"",s,u);zm(h,e,"popup-blocked");try{h.focus()}catch(Kd){}return new xv(h)}const Sv="__/auth/handler",Ev="emulator/auth/handler",kv=encodeURIComponent("fac");async function _v(e,t,n,r,i,o){zm(e.config.authDomain,e,"auth-domain-config-required"),zm(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:mm,eventId:i};if(t instanceof cg){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof ug){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?`#${kv}=${encodeURIComponent(l)}`:"";return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/${Sv}`;return Gm(e,Ev)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)}?${Yf(s).slice(1)}${c}`}const Ov="webStorageSupport";const Tv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cg,this._completeRedirectFn=nv,this._overrideRedirectResult=tv}async _openPopup(e,t,n,r){var i;Vm(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return wv(e,await _v(e,t,n,$m(),r),Pg())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ig().location.href=e}(await _v(e,t,n,$m(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Vm(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await vv(e),n=new rv(e);return t.register("authEvent",t=>{zm(null==t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ov,{type:Ov},n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[Ov];void 0!==i&&t(!!i),Dm(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=lv(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ly()||Cy()||Dy()}};var jv="@firebase/auth",Cv="1.10.8";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Nv{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){zm(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Pv=Df("authIdTokenMaxAge")||300;let Av=null;var Iv,Mv;Iv={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");var i,o;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Rm("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(o=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==o?o:document).appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},qy=Iv,Mv="Browser",um(new tp("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=n.options;zm(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const s={apiKey:o,authDomain:a,clientPlatform:Mv,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fy(Mv)},l=new By(n,r,i,s);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Sy);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),um(new tp("auth-internal",e=>{const t=Vy(e.getProvider("auth").getImmediate());return new Nv(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),vm(jv,Cv,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Mv)),vm(jv,Cv,"esm2017");var Dv,Rv,Lv="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var e;
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,a=0;a<t;){if(0==o)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"==typeof e){for(;a<t;)if(i[o++]=e.charCodeAt(a++),o==this.blockSize){n(this,i),o=0;break}}else for(;a<t;)if(i[o++]=e[a++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return d(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var s=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function y(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(s,s);if(h(e))return t=y(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=y(e,d(t)),new m(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=g(n),r=g(r);var i=v(n,1),o=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=o.add(r);0>=c.l(e)&&(i=i.add(n),o=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(o=a(n)).j(t);h(c)||0<c.l(e);)c=(o=a(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=f(e,c)}return new m(i,e)}function g(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],a=0;a<i;a++)o[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=y(n,t).g,o=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var a=i+(65535&this.i(o))+(65535&e.i(o)),s=(a>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=s>>>16,a&=65535,s&=65535,n[o]=s<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(o)>>>16,y=65535&e.i(o);n[2*i+2*o]+=f*y,p(n,2*i+2*o),n[2*i+2*o+1]+=l*y,p(n,2*i+2*o+1),n[2*i+2*o+1]+=f*m,p(n,2*i+2*o+1),n[2*i+2*o+2]+=l*m,p(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return y(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Rv=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=s,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},Dv=r}).apply(void 0!==Lv?Lv:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Fv,Uv,zv,Bv,Vv,$v,qv,Hv,Wv="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Wv&&Wv];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in i))break e;i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */
var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function y(e){return y[" "](e),e}y[" "]=function(){};var g=!(-1==m().indexOf("Gecko")||-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge")||-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE")||-1!=m().indexOf("Edge"));function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<x.length;t++)n=x[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function E(e){i.setTimeout(()=>{throw e},0)}function k(){var e=C;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var _=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new O,e=>e.reset());class O{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,j=!1,C=new class{constructor(){this.h=this.g=null}add(e,t){const n=_.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},N=()=>{const e=i.Promise.resolve(void 0);T=()=>{e.then(P)}};var P=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(n){E(n)}var t=_;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}j=!1};function A(){this.s=this.s,this.C=this.C}function I(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}A.prototype.s=!1,A.prototype.ma=function(){this.s||(this.s=!0,this.N())},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},I.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function D(e,t){if(I.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(g){e:{try{y(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:R[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&D.aa.h.call(this)}}h(D,I);var R={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function z(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function B(e){this.src=e,this.g={},this.h=0}function V(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(z(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}B.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=$(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new U(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),H={};function W(e,t,n,r,i){if(r&&r.once)return K(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)W(e,t[o],n,r,i);return null}return n=te(n),e&&e[L]?e.K(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[q]=l=new B(e)),(n=l.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)M||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Q(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function K(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)K(e,t[o],n,r,i);return null}return n=te(n),e&&e[L]?e.L(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Y(e,t[o],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$(o=e.g[t],n,r,i))&&(z(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,n,r,i)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])V(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Q(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(V(n,e),0==n.h&&(n.src=null,t[q]=null)):z(e)}}}function Q(e){return e in H?H[e]:H[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new D(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function Z(e){return(e=e[q])instanceof B?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"==typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){A.call(this),this.i=new B(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"==typeof t)t=new I(t,e);else if(t instanceof I)t.target=t.target||e;else{var i=t;w(t=new I(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ie(a=t.g=n[o],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.da&&a.capture==n){var s=a.listener,l=a.ha||a.src;a.fa&&V(e.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}function oe(e,t,n){if("function"==typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=oe(()=>{e.g=null,e.i&&(e.i=!1,ae(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,A),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)z(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends A{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){A.call(this),this.h=e,this.g={}}h(le,A);var ce=[];function ue(e){v(e.g,function(e,t){this.g.hasOwnProperty(t)&&X(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=i.JSON.stringify,de=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ye(){}pe.prototype.h=null;var ge={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){I.call(this,"d")}function be(){I.call(this,"c")}h(ve,I),h(be,I);var xe={},we=null;function Se(){return we=we||new ne}function Ee(e){I.call(this,xe.La,e)}function ke(e){const t=Se();re(t,new Ee(t))}function _e(e,t){I.call(this,xe.STAT_EVENT,e),this.stat=t}function Oe(e){const t=Se();re(t,new _e(t,e))}function Te(e,t){I.call(this,xe.Ma,e),this.size=t}function je(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Ce(){this.g=!0}function Ne(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return he(n)}catch(s){return t}}(e,n)+(r?" "+r:"")})}xe.La="serverreachability",h(Ee,I),xe.STAT_EVENT="statevent",h(_e,I),xe.Ma="timingevent",h(Te,I),Ce.prototype.xa=function(){this.g=!1},Ce.prototype.info=function(){};var Pe,Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ie={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Me(){}function De(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}h(Me,pe),Me.prototype.g=function(){return new XMLHttpRequest},Me.prototype.i=function(){return{}},Pe=new Me;var Le={},Fe={};function Ue(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,ze(e,null)}function ze(e,t){e.F=Date.now(),$e(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),_t(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Re,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var o=0;o<i.length;o++){var a=W(n,i[o],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Be(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ve(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=je(c(e.ba,e),t)}function He(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function We(e){0==e.j.G||e.J||ln(e.j,e)}function Ge(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ke(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(Qd){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;sn(n),Xt(n)}rn(n),Oe(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=je(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(Qd){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&sn(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(et(o,o.h),o.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var s=a,l=r.L;l&&(s.I=l),s.B&&(He(s),$e(s)),r.g=a}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Yt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}ke()}catch(Qd){}}De.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},De.prototype.Y=function(e){try{if(e==this.g)e:{const d=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=d||7==t||ke(),He(this);var n=this.g.Z();this.X=n;t:if(Be(this)){var r=Wt(this.g);e="";var o=r.length,a=4==Ht(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ge(this),We(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a})}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Oe(12),Ge(this),We(this);break e}Ne(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ke(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=Ve(this,s),e==Fe){4==d&&(this.s=4,Oe(14),n=!1),Ne(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,Oe(15),Ne(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Ne(this.i,this.l,e,null),Ke(this,e)}if(Be(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=s.length||this.h.h||(this.s=1,Oe(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),on(h),h.M=!0,Oe(11))}}else Ne(this.i,this.l,s,"[Invalid Chunked Response]"),Ge(this),We(this)}else Ne(this.i,this.l,s,null),Ke(this,s);4==d&&Ge(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Oe(12)):(this.s=0,Oe(13)),Ge(this),We(this)}}}catch(d){}},De.prototype.cancel=function(){this.J=!0,Ge(this)},De.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(ke(),Oe(17)),Ge(this),this.s=2,We(this)):qe(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(o(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Xe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ot){this.h=e.h,st(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,st(this,t[1]||"",!0),this.o=ft(t[2]||""),this.g=ft(t[3]||"",!0),lt(this,t[4]),this.l=ft(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ft(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function at(e){return new ot(e)}function st(e,t,n){e.j=n?ft(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(St(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Et(this,t),_t(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=pt(t,bt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ft(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function pt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,mt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function mt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ot.prototype.toString=function(){var e=[],t=this.j;t&&e.push(pt(t,yt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(pt(t,yt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(pt(n,"/"==n.charAt(0)?vt:gt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",pt(n,xt)),e.join("")};var yt=/[#\/\?@]/g,gt=/[#\?:]/g,vt=/[#\?]/g,bt=/[#\?@]/g,xt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function St(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Et(e,t){St(e),t=Ot(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function kt(e,t){return St(e),t=Ot(e,t),e.g.has(t)}function _t(e,t,n){Et(e,t),0<n.length&&(e.i=null,e.g.set(Ot(e,t),d(n)),e.h+=n.length)}function Ot(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Tt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function jt(){this.g=new fe}function Ct(e,t,n){const r=n||"";try{rt(e,function(e,n){let i=e;a(e)&&(i=he(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(Kd){throw t.push(r+"type="+encodeURIComponent("_badmap")),Kd}}function Nt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Pt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function At(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function It(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Mt(e)}function Mt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Dt(e){let t="";return v(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Rt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Dt(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Lt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){St(this),this.i=null,e=Ot(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){St(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){St(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){St(this);let t=[];if("string"==typeof e)kt(this,e)&&(t=t.concat(this.g.get(Ot(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return St(this),this.i=null,kt(this,e=Ot(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},h(Nt,pe),Nt.prototype.g=function(){return new Pt(this.l,this.j)},Nt.prototype.i=function(e){return function(){return e}}({}),h(Pt,ne),(e=Pt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Mt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,It(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Mt(this)),this.g&&(this.readyState=3,Mt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;At(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?It(this):Mt(this),3==this.readyState&&At(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,It(this))},e.Qa=function(e){this.g&&(this.response=e,It(this))},e.ga=function(){this.g&&It(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Lt,ne);var Ft=/^https?$/i,Ut=["POST","PUT"];function zt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Bt(e),$t(e)}function Bt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Vt(e){if(e.h&&void 0!==r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))oe(e.Ea,0,e);else if(re(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),o=!Ft.test(a?a.toLowerCase():"")}n=o}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var s=2<Ht(e)?e.g.statusText:""}catch(l){s=""}e.l=s+" ["+e.Z()+"]",Bt(e)}}finally{$t(e)}}}function $t(e,t){if(e.g){qt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(Kd){}}}function qt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kt(e){this.Aa=0,this.i=[],this.j=new Ce,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new jt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if(Qt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new De(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}hn(e)}function Xt(e){e.g&&(on(e),e.g.cancel(),e.g=null)}function Qt(e){Xt(e),e.u&&(i.clearTimeout(e.u),e.u=null),sn(e),e.h.cancel(),e.s&&("number"==typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Jt(e){if(!Qe(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||N(),j||(T(),j=!0),C.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Rt(r,e.m,e.o),n=new De(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function en(e,t){e.H&&v(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let s=0;s<n;s++){let n=i[s].g;const l=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),a=!1;else try{Ct(l,e,"req"+n+"_")}catch(o){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||N(),j||(T(),j=!0),C.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=je(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function on(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function an(e){e.g=new De(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Rt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,ze(n,e)}function sn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){sn(e),on(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Se(),new Te(r,n)),Jt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0)||(e.s?(e.i=t.D.concat(e.i),0):1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa)||(e.s=je(c(e.Ga,e,t),cn(e,e.B)),e.B++,0)))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new ot(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||st(r,"https"),dt(r),t?function(e,t){const n=new Ce;if(i.Image){const r=new Image;r.onload=u(Tt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Tt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Tt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Tt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ce;const n=new AbortController,r=setTimeout(()=>{n.abort(),Tt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Tt(0,0,!0,t):Tt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Tt(0,0,!1,t)})}(r.toString(),n)}else Oe(2);e.G=0,e.l&&e.l.sa(t),hn(e),Qt(e)}function hn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof ot?at(n):new ot(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var a=new ot(null);r&&st(a,r),t&&(a.g=t),o&&lt(a,o),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Lt(new Nt({eb:n})):new Lt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function yn(e,t){ne.call(this),this.g=new Kt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function gn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Lt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pe.g(),this.v=this.o?me(this.o):me(Pe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void zt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ut,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){zt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),$t(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$t(this,!0)),Lt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Vt(this):this.bb())},e.bb=function(){Vt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(ht){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(ht){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=Kt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Oe(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new De(this,this.j,e);let o=this.o;if(this.S&&(o?(o=b(o),w(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Dt(o)))+"&"+t:this.m&&Rt(n,this.m,o)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Qe(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=je(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Oe(10),Xt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Xt(this),rn(this),Oe(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Oe(2)):(this.j.info("Failed to ping google.com"),Oe(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new yn(e,t)},h(yn,ne),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Yt(this.g)},yn.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Jt(t)},yn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,yn.aa.N.call(this)},h(gn,ve),h(vn,be),h(bn,pn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new gn(e))},bn.prototype.sa=function(e){re(this.g,new vn)},bn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,Hv=function(){return new mn},qv=function(){return Se()},$v=xe,Vv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,Bv=Ae,Ie.COMPLETE="complete",zv=Ie,ye.EventType=ge,ge.OPEN="a",ge.CLOSE="b",ge.ERROR="c",ge.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Uv=ye,Lt.prototype.listenOnce=Lt.prototype.L,Lt.prototype.getLastError=Lt.prototype.Ka,Lt.prototype.getLastErrorCode=Lt.prototype.Ba,Lt.prototype.getStatus=Lt.prototype.Z,Lt.prototype.getResponseJson=Lt.prototype.Oa,Lt.prototype.getResponseText=Lt.prototype.oa,Lt.prototype.send=Lt.prototype.ea,Lt.prototype.setWithCredentials=Lt.prototype.Ha,Fv=Lt}).apply(void 0!==Wv?Wv:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const Gv="@firebase/firestore",Kv="4.8.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yv=class{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Yv.UNAUTHENTICATED=new Yv(null),Yv.GOOGLE_CREDENTIALS=new Yv("google-credentials-uid"),Yv.FIRST_PARTY=new Yv("first-party-uid"),Yv.MOCK_USER=new Yv("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Xv="11.10.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=new hp("@firebase/firestore");function Jv(){return Qv.logLevel}function Zv(e,...t){if(Qv.logLevel<=op.DEBUG){const n=t.map(nb);Qv.debug(`Firestore (${Xv}): ${e}`,...n)}}function eb(e,...t){if(Qv.logLevel<=op.ERROR){const n=t.map(nb);Qv.error(`Firestore (${Xv}): ${e}`,...n)}}function tb(e,...t){if(Qv.logLevel<=op.WARN){const n=t.map(nb);Qv.warn(`Firestore (${Xv}): ${e}`,...n)}}function nb(e){if("string"==typeof e)return e;try{
/**
    * @license
    * Copyright 2020 Google LLC
    *
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    *   http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    */
return t=e,JSON.stringify(t)}catch(Yd){return e}var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,ib(e,r,n)}function ib(e,t,n){let r=`FIRESTORE (${Xv}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(i){r+=" CONTEXT: "+n}throw eb(r),new Error(r)}function ob(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||ib(t,i,r)}function ab(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lb extends qf{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Yv.UNAUTHENTICATED))}shutdown(){}}class db{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class fb{constructor(e){this.t=e,this.currentUser=Yv.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ob(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new cb;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new cb,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{Zv("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Zv("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new cb)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Zv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ob("string"==typeof t.accessToken,31837,{l:t}),new ub(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ob(null===e||"string"==typeof e,2055,{h:e}),new Yv(e)}}class pb{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Yv.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mb{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new pb(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Yv.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gb{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dm(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ob(void 0===this.o,3512);const n=e=>{null!=e.error&&Zv("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,Zv("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Zv("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Zv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new yb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(ob("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new yb(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(){return new TextEncoder}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=vb(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function wb(e,t){return e<t?-1:e>t?1:0}function Sb(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return wb(r,i);{const o=bb(),a=kb(o.encode(Eb(e,n)),o.encode(Eb(t,n)));return 0!==a?a:wb(r,i)}}n+=r>65535?2:1}return wb(e.length,t.length)}function Eb(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function kb(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return wb(e[n],t[n]);return wb(e.length,t.length)}function _b(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="__name__";class Tb{constructor(e,t,n){void 0===t?t=0:t>e.length&&rb(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&rb(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Tb.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Tb?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Tb.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return wb(e.length,t.length)}static compareSegments(e,t){const n=Tb.isNumericId(e),r=Tb.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Tb.extractNumericId(e).compare(Tb.extractNumericId(t)):Sb(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Dv.fromString(e.substring(4,e.length-2))}}class jb extends Tb{construct(e,t,n){return new jb(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new lb(sb.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new jb(t)}static emptyPath(){return new jb([])}}const Cb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nb extends Tb{construct(e,t,n){return new Nb(e,t,n)}static isValidIdentifier(e){return Cb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nb.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Ob}static keyField(){return new Nb([Ob])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new lb(sb.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new lb(sb.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new lb(sb.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new lb(sb.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nb(t)}static emptyPath(){return new Nb([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e){this.path=e}static fromPath(e){return new Pb(jb.fromString(e))}static fromName(e){return new Pb(jb.fromString(e).popFirst(5))}static empty(){return new Pb(jb.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===jb.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return jb.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pb(new jb(e.slice()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(e){if(!Pb.isDocumentKey(e))throw new lb(sb.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Ib(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function Mb(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var t;return"function"==typeof e?"a function":rb(12329,{type:typeof e})}function Db(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new lb(sb.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mb(e);throw new lb(sb.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}
/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(e,t){const n={typeString:e};return t&&(n.value=t),n}function Lb(e,t){if(!Ib(e))throw new lb(sb.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const a=e[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(void 0!==o&&a!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new lb(sb.INVALID_ARGUMENT,n);return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=-62135596800,Ub=1e6;class zb{static now(){return zb.fromMillis(Date.now())}static fromDate(e){return zb.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Ub);return new zb(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new lb(sb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new lb(sb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Fb)throw new lb(sb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lb(sb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ub}_compareTo(e){return this.seconds===e.seconds?wb(this.nanoseconds,e.nanoseconds):wb(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:zb._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lb(e,zb._jsonSchema))return new zb(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Fb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}zb._jsonSchemaVersion="firestore/timestamp/1.0",zb._jsonSchema={type:Rb("string",zb._jsonSchemaVersion),seconds:Rb("number"),nanoseconds:Rb("number")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Bb{static fromTimestamp(e){return new Bb(e)}static min(){return new Bb(new zb(0,0))}static max(){return new Bb(new zb(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(e){return new $b(e.readTime,e.key,-1)}class $b{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new $b(Bb.min(),Pb.empty(),-1)}static max(){return new $b(Bb.max(),Pb.empty(),-1)}}function qb(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Pb.comparator(e.documentKey,t.documentKey),0!==n?n:wb(e.largestBatchId,t.largestBatchId)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)}class Hb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wb(e){if(e.code!==sb.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;Zv("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rb(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Gb((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Gb?t:Gb.resolve(t)}catch(t){return Gb.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Gb.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Gb.reject(t)}static resolve(e){return new Gb((t,n)=>{t(e)})}static reject(e){return new Gb((t,n)=>{n(e)})}static waitFor(e){return new Gb((t,n)=>{let r=0,i=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++i,o&&i===r&&t()},e=>n(e))}),o=!0,i===r&&t()})}static or(e){let t=Gb.resolve(!1);for(const n of e)t=t.next(e=>e?Gb.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Gb((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next(e=>{o[l]=e,++a,a===i&&n(o)},e=>r(e))}})}static doWhile(e,t){return new Gb((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Kb(e){return"IndexedDbTransactionError"===e.name}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this._e(e),this.ae=e=>t.writeSequenceNumber(e))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Yb.ue=-1;function Xb(e){return null==e}function Qb(e){return 0===e&&1/e==-1/0}function Jb(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="";break;case"":n+="";break;default:n+=t}}return n}function Zb(e){return e+""}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function tx(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function nx(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,t){this.comparator=e,this.root=t||ox.EMPTY}insert(e,t){return new rx(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ox.BLACK,null,null))}remove(e){return new rx(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ox.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ix(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ix(this.root,e,this.comparator,!1)}getReverseIterator(){return new ix(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ix(this.root,e,this.comparator,!0)}}class ix{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ox{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ox.RED,this.left=null!=r?r:ox.EMPTY,this.right=null!=i?i:ox.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ox(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ox.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ox.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ox.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ox.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw rb(43730,{key:this.key,value:this.value});if(this.right.isRed())throw rb(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw rb(27949);return e+(this.isRed()?0:1)}}ox.EMPTY=null,ox.RED=!0,ox.BLACK=!1,ox.EMPTY=new class{constructor(){this.size=0}get key(){throw rb(57766)}get value(){throw rb(16141)}get color(){throw rb(16727)}get left(){throw rb(29726)}get right(){throw rb(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new ox(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ax{constructor(e){this.comparator=e,this.data=new rx(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sx(this.data.getIterator())}getIteratorFrom(e){return new sx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof ax))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ax(this.comparator);return t.data=e,t}}class sx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e){this.fields=e,e.sort(Nb.comparator)}static empty(){return new lx([])}unionWith(e){let t=new ax(Nb.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new lx(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _b(this.fields,e.fields,(e,t)=>e.isEqual(t))}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new cx("Invalid base64 string: "+t):t}}(e);return new ux(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ux(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wb(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ux.EMPTY_BYTE_STRING=new ux("");const hx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dx(e){if(ob(!!e,39018),"string"==typeof e){let t=0;const n=hx.exec(e);if(ob(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:fx(e.seconds),nanos:fx(e.nanos)}}function fx(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function px(e){return"string"==typeof e?ux.fromBase64String(e):ux.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx="server_timestamp",yx="__type__",gx="__previous_value__",vx="__local_write_time__";function bx(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[yx])||void 0===n?void 0:n.stringValue)===mx}function xx(e){const t=e.mapValue.fields[gx];return bx(t)?xx(t):t}function wx(e){const t=dx(e.mapValue.fields[vx].timestampValue);return new zb(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,t,n,r,i,o,a,s,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l,this.isUsingEmulator=c}}const Ex="(default)";class kx{constructor(e,t){this.projectId=e,this.database=t||Ex}static empty(){return new kx("","")}get isDefaultDatabase(){return this.database===Ex}isEqual(e){return e instanceof kx&&e.projectId===this.projectId&&e.database===this.database}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="__type__",Ox="__max__",Tx={fields:{__type__:{stringValue:Ox}}},jx="__vector__",Cx="value";function Nx(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?bx(e)?4:function(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Ox}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)?9007199254740991:function(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[_x])||void 0===n?void 0:n.stringValue)===jx}(e)?10:11:rb(28295,{value:e})}function Px(e,t){if(e===t)return!0;const n=Nx(e);if(n!==Nx(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return wx(e).isEqual(wx(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=dx(e.timestampValue),r=dx(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return r=t,px(e.bytesValue).isEqual(px(r.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return fx(e.geoPointValue.latitude)===fx(t.geoPointValue.latitude)&&fx(e.geoPointValue.longitude)===fx(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return fx(e.integerValue)===fx(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=fx(e.doubleValue),r=fx(t.doubleValue);return n===r?Qb(n)===Qb(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return _b(e.arrayValue.values||[],t.arrayValue.values||[],Px);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ex(n)!==ex(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Px(n[i],r[i])))return!1;return!0}(e,t);default:return rb(52216,{left:e})}var r}function Ax(e,t){return void 0!==(e.values||[]).find(e=>Px(e,t))}function Ix(e,t){if(e===t)return 0;const n=Nx(e),r=Nx(t);if(n!==r)return wb(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return wb(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=fx(e.integerValue||e.doubleValue),r=fx(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Mx(e.timestampValue,t.timestampValue);case 4:return Mx(wx(e),wx(t));case 5:return Sb(e.stringValue,t.stringValue);case 6:return function(e,t){const n=px(e),r=px(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=wb(n[i],r[i]);if(0!==e)return e}return wb(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=wb(fx(e.latitude),fx(t.latitude));return 0!==n?n:wb(fx(e.longitude),fx(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Dx(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const a=e.fields||{},s=t.fields||{},l=null===(n=a[Cx])||void 0===n?void 0:n.arrayValue,c=null===(r=s[Cx])||void 0===r?void 0:r.arrayValue,u=wb((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(o=null==c?void 0:c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:Dx(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Tx&&t===Tx)return 0;if(e===Tx)return 1;if(t===Tx)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=Sb(r[a],o[a]);if(0!==e)return e;const t=Ix(n[r[a]],i[o[a]]);if(0!==t)return t}return wb(r.length,o.length)}(e.mapValue,t.mapValue);default:throw rb(23264,{le:n})}}function Mx(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return wb(e,t);const n=dx(e),r=dx(t),i=wb(n.seconds,r.seconds);return 0!==i?i:wb(n.nanos,r.nanos)}function Dx(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Ix(n[i],r[i]);if(e)return e}return wb(n.length,r.length)}function Rx(e){return Lx(e)}function Lx(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=dx(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?px(e.bytesValue).toBase64():"referenceValue"in e?function(e){return Pb.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Lx(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Lx(e.fields[i])}`;return n+"}"}(e.mapValue):rb(61005,{value:e})}function Fx(e){switch(Nx(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=xx(e);return t?16+Fx(t):16;case 5:return 2*e.stringValue.length;case 6:return px(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(e.arrayValue.values||[]).reduce((e,t)=>e+Fx(t),0);case 10:case 11:return function(e){let t=0;return tx(e.fields,(e,n)=>{t+=e.length+Fx(n)}),t}(e.mapValue);default:throw rb(13486,{value:e})}}function Ux(e){return!!e&&"integerValue"in e}function zx(e){return!!e&&"arrayValue"in e}function Bx(e){return!!e&&"nullValue"in e}function Vx(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function $x(e){return!!e&&"mapValue"in e}function qx(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return tx(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=qx(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=qx(e.arrayValue.values[n]);return t}return Object.assign({},e)}class Hx{constructor(e){this.value=e}static empty(){return new Hx({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!$x(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qx(t)}setAll(e){let t=Nb.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=qx(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());$x(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Px(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];$x(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){tx(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Hx(qx(this.value))}}function Wx(e){const t=[];return tx(e.fields,(e,n)=>{const r=new Nb([e]);if($x(n)){const e=Wx(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new lx(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Gx{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Gx(e,0,Bb.min(),Bb.min(),Bb.min(),Hx.empty(),0)}static newFoundDocument(e,t,n,r){return new Gx(e,1,t,Bb.min(),n,r,0)}static newNoDocument(e,t){return new Gx(e,2,t,Bb.min(),Bb.min(),Hx.empty(),0)}static newUnknownDocument(e,t){return new Gx(e,3,t,Bb.min(),Bb.min(),Hx.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Bb.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hx.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hx.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bb.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Gx&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gx(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,t){this.position=e,this.inclusive=t}}function Yx(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Pb.comparator(Pb.fromName(a.referenceValue),n.key):Ix(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Xx(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Px(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,t="asc"){this.field=e,this.dir=t}}function Jx(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{}class ew extends Zx{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new sw(e,t,n):"array-contains"===t?new hw(e,n):"in"===t?new dw(e,n):"not-in"===t?new fw(e,n):"array-contains-any"===t?new pw(e,n):new ew(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new lw(e,n):new cw(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Ix(t,this.value)):null!==t&&Nx(this.value)===Nx(t)&&this.matchesComparison(Ix(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rb(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tw extends Zx{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new tw(e,t)}matches(e){return nw(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.he||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function nw(e){return"and"===e.op}function rw(e){return function(e){for(const t of e.filters)if(t instanceof tw)return!1;return!0}(e)&&nw(e)}function iw(e){if(e instanceof ew)return e.field.canonicalString()+e.op.toString()+Rx(e.value);if(rw(e))return e.filters.map(e=>iw(e)).join(",");{const t=e.filters.map(e=>iw(e)).join(",");return`${e.op}(${t})`}}function ow(e,t){return e instanceof ew?(n=e,(r=t)instanceof ew&&n.op===r.op&&n.field.isEqual(r.field)&&Px(n.value,r.value)):e instanceof tw?function(e,t){return t instanceof tw&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&ow(n,t.filters[r]),!0)}(e,t):void rb(19439);var n,r}function aw(e){return e instanceof ew?`${(t=e).field.canonicalString()} ${t.op} ${Rx(t.value)}`:e instanceof tw?function(e){return e.op.toString()+" {"+e.getFilters().map(aw).join(" ,")+"}"}(e):"Filter";var t}class sw extends ew{constructor(e,t,n){super(e,t,n),this.key=Pb.fromName(n.referenceValue)}matches(e){const t=Pb.comparator(e.key,this.key);return this.matchesComparison(t)}}class lw extends ew{constructor(e,t){super(e,"in",t),this.keys=uw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class cw extends ew{constructor(e,t){super(e,"not-in",t),this.keys=uw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function uw(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Pb.fromName(e.referenceValue))}class hw extends ew{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zx(t)&&Ax(t.arrayValue,this.value)}}class dw extends ew{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ax(this.value.arrayValue,t)}}class fw extends ew{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ax(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Ax(this.value.arrayValue,t)}}class pw extends ew{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zx(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Ax(this.value.arrayValue,e))}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,t=null,n=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.Pe=null}}function yw(e,t=null,n=[],r=[],i=null,o=null,a=null){return new mw(e,t,n,r,i,o,a)}function gw(e){const t=ab(e);if(null===t.Pe){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>iw(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>{return(t=e).field.canonicalString()+t.dir;var t}).join(","),Xb(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Rx(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Rx(e)).join(",")),t.Pe=e}return t.Pe}function vw(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Jx(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ow(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Xx(e.startAt,t.startAt)&&Xx(e.endAt,t.endAt)}function bw(e){return Pb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,t=null,n=[],r=[],i=null,o="F",a=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function ww(e){return new xw(e)}function Sw(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ew(e){const t=ab(e);if(null===t.Te){t.Te=[];const e=new Set;for(const r of t.explicitOrderBy)t.Te.push(r),e.add(r.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(e){let t=new ax(Nb.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t})(t).forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Te.push(new Qx(r,n))}),e.has(Nb.keyField().canonicalString())||t.Te.push(new Qx(Nb.keyField(),n))}return t.Te}function kw(e){const t=ab(e);return t.Ie||(t.Ie=function(e,t){if("F"===e.limitType)return yw(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Qx(e.field,t)});const n=e.endAt?new Kx(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Kx(e.startAt.position,e.startAt.inclusive):null;return yw(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(t,Ew(e))),t.Ie}function _w(e,t,n){return new xw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ow(e,t){return vw(kw(e),kw(t))&&e.limitType===t.limitType}function Tw(e){return`${gw(kw(e))}|lt:${e.limitType}`}function jw(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>aw(e)).join(", ")}]`),Xb(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>{return`${(t=e).field.canonicalString()} (${t.dir})`;var t}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Rx(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Rx(e)).join(",")),`Target(${t})`}(kw(e))}; limitType=${e.limitType})`}function Cw(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Pb.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Ew(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(r=t,!((n=e).startAt&&!function(e,t,n){const r=Yx(e,t,n);return e.inclusive?r<=0:r<0}(n.startAt,Ew(n),r)||n.endAt&&!function(e,t,n){const r=Yx(e,t,n);return e.inclusive?r>=0:r>0}(n.endAt,Ew(n),r)));var n,r}function Nw(e){return(t,n)=>{let r=!1;for(const i of Ew(e)){const e=Pw(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Pw(e,t,n){const r=e.field.isKeyField()?Pb.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ix(r,i):rb(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return rb(19790,{direction:e.dir})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){tx(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return nx(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=new rx(Pb.comparator);function Mw(){return Iw}const Dw=new rx(Pb.comparator);function Rw(...e){let t=Dw;for(const n of e)t=t.insert(n.key,n);return t}function Lw(e){let t=Dw;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Fw(){return zw()}function Uw(){return zw()}function zw(){return new Aw(e=>e.toString(),(e,t)=>e.isEqual(t))}const Bw=new rx(Pb.comparator),Vw=new ax(Pb.comparator);function $w(...e){let t=Vw;for(const n of e)t=t.add(n);return t}const qw=new ax(wb);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Hw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qb(t)?"-0":t}}function Ww(e){return{integerValue:""+e}}function Gw(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!Qb(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)?Ww(t):Hw(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(){this._=void 0}}function Yw(e,t,n){return e instanceof Jw?function(e,t){const n={fields:{[yx]:{stringValue:mx},[vx]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&bx(t)&&(t=xx(t)),t&&(n.fields[gx]=t),{mapValue:n}}(n,t):e instanceof Zw?eS(e,t):e instanceof tS?nS(e,t):function(e,t){const n=Qw(e,t),r=iS(n)+iS(e.Ee);return Ux(n)&&Ux(e.Ee)?Ww(r):Hw(e.serializer,r)}(e,t)}function Xw(e,t,n){return e instanceof Zw?eS(e,t):e instanceof tS?nS(e,t):n}function Qw(e,t){return e instanceof rS?Ux(n=t)||(r=n)&&"doubleValue"in r?t:{integerValue:0}:null;var n,r}class Jw extends Kw{}class Zw extends Kw{constructor(e){super(),this.elements=e}}function eS(e,t){const n=oS(t);for(const r of e.elements)n.some(e=>Px(e,r))||n.push(r);return{arrayValue:{values:n}}}class tS extends Kw{constructor(e){super(),this.elements=e}}function nS(e,t){let n=oS(t);for(const r of e.elements)n=n.filter(e=>!Px(e,r));return{arrayValue:{values:n}}}class rS extends Kw{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function iS(e){return fx(e.integerValue||e.doubleValue)}function oS(e){return zx(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class aS{constructor(e,t){this.version=e,this.transformResults=t}}class sS{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new sS}static exists(e){return new sS(void 0,e)}static updateTime(e){return new sS(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lS(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class cS{}function uS(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new xS(e.key,sS.none()):new mS(e.key,e.data,sS.none());{const n=e.data,r=Hx.empty();let i=new ax(Nb.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new yS(e.key,r,new lx(i.toArray()),sS.none())}}function hS(e,t,n){var r;e instanceof mS?function(e,t,n){const r=e.value.clone(),i=vS(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof yS?function(e,t,n){if(!lS(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=vS(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(gS(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):(r=n,t.convertToNoDocument(r.version).setHasCommittedMutations())}function dS(e,t,n,r){return e instanceof mS?function(e,t,n,r){if(!lS(e.precondition,t))return n;const i=e.value.clone(),o=bS(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof yS?function(e,t,n,r){if(!lS(e.precondition,t))return n;const i=bS(e.fieldTransforms,r,t),o=t.data;return o.setAll(gS(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):(i=t,o=n,lS(e.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o);var i,o}function fS(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Qw(r.transform,e||null);null!=i&&(null===n&&(n=Hx.empty()),n.set(r.field,i))}return n||null}function pS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&_b(n,r,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof Zw&&r instanceof Zw||n instanceof tS&&r instanceof tS?_b(n.elements,r.elements,Px):n instanceof rS&&r instanceof rS?Px(n.Ee,r.Ee):n instanceof Jw&&r instanceof Jw);var n,r}(e,t)))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask)));var n,r}class mS extends cS{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class yS extends cS{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function gS(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function vS(e,t,n){const r=new Map;ob(e.length===n.length,32656,{Ae:n.length,Re:e.length});for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,Xw(a,s,n[i]))}return r}function bS(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Yw(e,o,t))}return r}class xS extends cS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wS extends cS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&hS(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=dS(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=dS(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Uw();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=uS(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(Bb.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),$w())}isEqual(e){return this.batchId===e.batchId&&_b(this.mutations,e.mutations,(e,t)=>pS(e,t))&&_b(this.baseMutations,e.baseMutations,(e,t)=>pS(e,t))}}class ES{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ob(e.mutations.length===n.length,58842,{Ve:e.mutations.length,me:n.length});let r=Bw;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new ES(e,t,n,r)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,t){this.count=e,this.unchangedNames=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OS,TS;function jS(e){if(void 0===e)return eb("GRPC error has no .code"),sb.UNKNOWN;switch(e){case OS.OK:return sb.OK;case OS.CANCELLED:return sb.CANCELLED;case OS.UNKNOWN:return sb.UNKNOWN;case OS.DEADLINE_EXCEEDED:return sb.DEADLINE_EXCEEDED;case OS.RESOURCE_EXHAUSTED:return sb.RESOURCE_EXHAUSTED;case OS.INTERNAL:return sb.INTERNAL;case OS.UNAVAILABLE:return sb.UNAVAILABLE;case OS.UNAUTHENTICATED:return sb.UNAUTHENTICATED;case OS.INVALID_ARGUMENT:return sb.INVALID_ARGUMENT;case OS.NOT_FOUND:return sb.NOT_FOUND;case OS.ALREADY_EXISTS:return sb.ALREADY_EXISTS;case OS.PERMISSION_DENIED:return sb.PERMISSION_DENIED;case OS.FAILED_PRECONDITION:return sb.FAILED_PRECONDITION;case OS.ABORTED:return sb.ABORTED;case OS.OUT_OF_RANGE:return sb.OUT_OF_RANGE;case OS.UNIMPLEMENTED:return sb.UNIMPLEMENTED;case OS.DATA_LOSS:return sb.DATA_LOSS;default:return rb(39323,{code:e})}}(TS=OS||(OS={}))[TS.OK=0]="OK",TS[TS.CANCELLED=1]="CANCELLED",TS[TS.UNKNOWN=2]="UNKNOWN",TS[TS.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",TS[TS.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",TS[TS.NOT_FOUND=5]="NOT_FOUND",TS[TS.ALREADY_EXISTS=6]="ALREADY_EXISTS",TS[TS.PERMISSION_DENIED=7]="PERMISSION_DENIED",TS[TS.UNAUTHENTICATED=16]="UNAUTHENTICATED",TS[TS.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",TS[TS.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",TS[TS.ABORTED=10]="ABORTED",TS[TS.OUT_OF_RANGE=11]="OUT_OF_RANGE",TS[TS.UNIMPLEMENTED=12]="UNIMPLEMENTED",TS[TS.INTERNAL=13]="INTERNAL",TS[TS.UNAVAILABLE=14]="UNAVAILABLE",TS[TS.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const CS=new Dv([4294967295,4294967295],0);function NS(e){const t=bb().encode(e),n=new Rv;return n.update(t),new Uint8Array(n.digest())}function PS(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Dv([n,r],0),new Dv([i,o],0)]}class AS{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new IS(`Invalid padding: ${t}`);if(n<0)throw new IS(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new IS(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new IS(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Dv.fromNumber(this.fe)}pe(e,t,n){let r=e.add(t.multiply(Dv.fromNumber(n)));return 1===r.compare(CS)&&(r=new Dv([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.fe)return!1;const t=NS(e),[n,r]=PS(t);for(let i=0;i<this.hashCount;i++){const e=this.pe(n,r,i);if(!this.ye(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new AS(i,r,t);return n.forEach(e=>o.insert(e)),o}insert(e){if(0===this.fe)return;const t=NS(e),[n,r]=PS(t);for(let i=0;i<this.hashCount;i++){const e=this.pe(n,r,i);this.we(e)}}we(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class IS extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,DS.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new MS(Bb.min(),r,new rx(wb),Mw(),$w())}}class DS{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new DS(n,t,$w(),$w(),$w())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,t,n,r){this.Se=e,this.removedTargetIds=t,this.key=n,this.be=r}}class LS{constructor(e,t){this.targetId=e,this.De=t}}class FS{constructor(e,t,n=ux.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class US{constructor(){this.ve=0,this.Ce=VS(),this.Fe=ux.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return 0!==this.ve}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=$w(),t=$w(),n=$w();return this.Ce.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:rb(38017,{changeType:i})}}),new DS(this.Fe,this.Me,e,t,n)}ke(){this.xe=!1,this.Ce=VS()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ob(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class zS{constructor(e){this.We=e,this.Ge=new Map,this.ze=Mw(),this.je=BS(),this.Je=BS(),this.He=new rx(wb)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const n=this.tt(t);switch(e.state){case 0:this.nt(t)&&n.Be(e.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(e.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(n.Ke(),n.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),n.Be(e.resumeToken));break;default:rb(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((e,n)=>{this.nt(n)&&t(n)})}it(e){const t=e.targetId,n=e.De.count,r=this.st(t);if(r){const i=r.target;if(bw(i))if(0===n){const e=new Pb(i.path);this.Xe(t,e,Gx.newNoDocument(e,Bb.min()))}else ob(1===n,20013,{expectedCount:n});else{const r=this.ot(t);if(r!==n){const n=this._t(e),i=n?this.ut(n,e,r):1;if(0!==i){this.rt(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,e)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,a;try{o=px(n).toUint8Array()}catch(s){if(s instanceof cx)return tb("Decoding the base64 bloom filter in existence filter failed ("+s.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw s}try{a=new AS(o,r,i)}catch(s){return tb(s instanceof IS?"BloomFilter error: ":"Applying bloom filter failed: ",s),null}return 0===a.fe?null:a}ut(e,t,n){return t.De.count===n-this.ht(e,t.targetId)?0:2}ht(e,t){const n=this.We.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.We.lt(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(o)||(this.Xe(t,n,null),r++)}),r}Pt(e){const t=new Map;this.Ge.forEach((n,r)=>{const i=this.st(r);if(i){if(n.current&&bw(i.target)){const t=new Pb(i.target.path);this.Tt(t).has(r)||this.It(r,t)||this.Xe(r,t,Gx.newNoDocument(t,e))}n.Ne&&(t.set(r,n.Le()),n.ke())}});let n=$w();this.Je.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.st(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ze.forEach((t,n)=>n.setReadTime(e));const r=new MS(e,t,this.He,this.ze,n);return this.ze=Mw(),this.je=BS(),this.Je=BS(),this.He=new rx(wb),r}Ze(e,t){if(!this.nt(e))return;const n=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,n),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,n){if(!this.nt(e))return;const r=this.tt(e);this.It(e,t)?r.qe(t,1):r.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),n&&(this.ze=this.ze.insert(t,n))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new US,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new ax(wb),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new ax(wb),this.je=this.je.insert(e,t)),t}nt(e){const t=null!==this.st(e);return t||Zv("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new US),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function BS(){return new rx(Pb.comparator)}function VS(){return new rx(Pb.comparator)}const $S={asc:"ASCENDING",desc:"DESCENDING"},qS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HS={and:"AND",or:"OR"};class WS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function GS(e,t){return e.useProto3Json||Xb(t)?t:{value:t}}function KS(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function YS(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function XS(e,t){return KS(e,t.toTimestamp())}function QS(e){return ob(!!e,49232),Bb.fromTimestamp(function(e){const t=dx(e);return new zb(t.seconds,t.nanos)}(e))}function JS(e,t){return ZS(e,t).canonicalString()}function ZS(e,t){const n=(r=e,new jb(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===t?n:n.child(t)}function eE(e){const t=jb.fromString(e);return ob(vE(t),10190,{key:t.toString()}),t}function tE(e,t){return JS(e.databaseId,t.path)}function nE(e,t){const n=eE(t);if(n.get(1)!==e.databaseId.projectId)throw new lb(sb.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new lb(sb.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Pb(oE(n))}function rE(e,t){return JS(e.databaseId,t)}function iE(e){return new jb(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function oE(e){return ob(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function aE(e,t,n){return{name:tE(e,t),fields:n.value.mapValue.fields}}function sE(e,t){return{documents:[rE(e,t.path)]}}function lE(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=rE(e,i);const o=function(e){if(0!==e.length)return yE(tw.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const a=function(e){if(0!==e.length)return e.map(e=>{return{field:pE((t=e).field),direction:hE(t.dir)};var t})}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=GS(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{Vt:n,parent:i};var l}function cE(e){let t=function(e){const t=eE(e);return 4===t.length?jb.emptyPath():oE(t)}(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ob(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=uE(e);return t instanceof tw&&rw(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(e=>{return new Qx(mE((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t}));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,Xb(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Kx(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Kx(n,t)}(n.endAt)),function(e,t,n,r,i,o,a,s){return new xw(e,t,n,r,i,o,a,s)}(t,i,a,o,s,"F",l,c)}function uE(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=mE(e.unaryFilter.field);return ew.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=mE(e.unaryFilter.field);return ew.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=mE(e.unaryFilter.field);return ew.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=mE(e.unaryFilter.field);return ew.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return rb(61313);default:return rb(60726)}}(e):void 0!==e.fieldFilter?(t=e,ew.create(mE(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return rb(58110);default:return rb(50506)}}(t.fieldFilter.op),t.fieldFilter.value)):void 0!==e.compositeFilter?function(e){return tw.create(e.compositeFilter.filters.map(e=>uE(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return rb(1026)}}(e.compositeFilter.op))}(e):rb(30097,{filter:e});var t}function hE(e){return $S[e]}function dE(e){return qS[e]}function fE(e){return HS[e]}function pE(e){return{fieldPath:e.canonicalString()}}function mE(e){return Nb.fromServerFormat(e.fieldPath)}function yE(e){return e instanceof ew?function(e){if("=="===e.op){if(Vx(e.value))return{unaryFilter:{field:pE(e.field),op:"IS_NAN"}};if(Bx(e.value))return{unaryFilter:{field:pE(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Vx(e.value))return{unaryFilter:{field:pE(e.field),op:"IS_NOT_NAN"}};if(Bx(e.value))return{unaryFilter:{field:pE(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pE(e.field),op:dE(e.op),value:e.value}}}(e):e instanceof tw?function(e){const t=e.getFilters().map(e=>yE(e));return 1===t.length?t[0]:{compositeFilter:{op:fE(e.op),filters:t}}}(e):rb(54877,{filter:e})}function gE(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function vE(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,t,n,r,i=Bb.min(),o=Bb.min(),a=ux.EMPTY_BYTE_STRING,s=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new bE(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new bE(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bE(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bE(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e){this.gt=e}}function wE(e){const t=cE({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?_w(t,t.limit,"L"):t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this.Dn=new EE}addToCollectionParentIndex(e,t){return this.Dn.add(t),Gb.resolve()}getCollectionParents(e,t){return Gb.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return Gb.resolve()}deleteFieldIndex(e,t){return Gb.resolve()}deleteAllFieldIndexes(e){return Gb.resolve()}createTargetIndexes(e,t){return Gb.resolve()}getDocumentsMatchingTarget(e,t){return Gb.resolve(null)}getIndexType(e,t){return Gb.resolve(0)}getFieldIndexes(e,t){return Gb.resolve([])}getNextCollectionGroupToUpdate(e){return Gb.resolve(null)}getMinOffset(e,t){return Gb.resolve($b.min())}getMinOffsetFromCollectionGroup(e,t){return Gb.resolve($b.min())}updateCollectionGroup(e,t,n){return Gb.resolve()}updateIndexEntries(e,t){return Gb.resolve()}}class EE{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ax(jb.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ax(jb.comparator)).toArray()}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_E=41943040;class OE{static withCacheSize(e){return new OE(e,OE.DEFAULT_COLLECTION_PERCENTILE,OE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */OE.DEFAULT_COLLECTION_PERCENTILE=10,OE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,OE.DEFAULT=new OE(_E,OE.DEFAULT_COLLECTION_PERCENTILE,OE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),OE.DISABLED=new OE(-1,0,0);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class TE{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new TE(0)}static ur(){return new TE(-1)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="LruGarbageCollector";function CE([e,t],[n,r]){const i=wb(e,n);return 0===i?wb(t,r):i}class NE{constructor(e){this.Tr=e,this.buffer=new ax(CE),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();CE(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class PE{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Ar=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return null!==this.Ar}Rr(e){Zv(jE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Kb(e)?Zv(jE,"Ignoring IndexedDB error during garbage collection: ",e):await Wb(e)}await this.Rr(3e5)})}}class AE{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Gb.resolve(Yb.ue);const n=new NE(t);return this.Vr.forEachTarget(e,e=>n.Er(e.sequenceNumber)).next(()=>this.Vr.gr(e,e=>n.Er(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Zv("LruGarbageCollector","Garbage collection skipped; disabled"),Gb.resolve(kE)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Zv("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kE):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let n,r,i,o,a,s,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Zv("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Jv()<=op.DEBUG&&Zv("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-c}ms\n\tDetermined least recently used ${r} in `+(a-o)+`ms\n\tRemoved ${i} targets in `+(s-a)+`ms\n\tRemoved ${e} documents in `+(l-s)+`ms\nTotal Duration: ${l-c}ms`),Gb.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class IE{constructor(){this.changes=new Aw(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gx.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Gb.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&dS(n.mutation,e,lx.empty(),zb.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,$w()).next(()=>t))}getLocalViewOfDocuments(e,t,n=$w()){const r=Fw();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Rw();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Fw();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,$w()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Mw();const o=zw(),a=zw();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof yS)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),dS(a.mutation,t,a.mutation.getFieldMask(),zb.now())):o.set(t.key,lx.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new ME(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=zw();let r=new rx((e,t)=>e-t),i=$w();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||lx.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||$w()).add(e);r=r.insert(i.batchId,s)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=Uw();l.forEach(e=>{if(!i.has(e)){const r=uS(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,s,c))}return Gb.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return i=t,Pb.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function(e){return null!==e.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r);var i}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Gb.resolve(Fw());let a=-1,s=i;return o.next(t=>Gb.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Gb.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,s,t,$w())).next(e=>({batchId:a,changes:Lw(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Pb(t)).next(e=>{let t=Rw();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=Rw();return this.indexManager.getCollectionParents(e,i).next(a=>Gb.forEach(a,a=>{const s=(l=t,c=a.child(i),new xw(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Gx.newInvalidDocument(r)))});let n=Rw();return e.forEach((e,r)=>{const o=i.get(e);void 0!==o&&dS(o.mutation,r,lx.empty(),zb.now()),Cw(t,r)&&(n=n.insert(e,r))}),n})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return Gb.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,{id:(n=t).id,version:n.version,createTime:QS(n.createTime)}),Gb.resolve();var n}getNamedQuery(e,t){return Gb.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,{name:(n=t).name,query:wE(n.bundledQuery),readTime:QS(n.readTime)}),Gb.resolve();var n}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(){this.overlays=new rx(Pb.comparator),this.kr=new Map}getOverlay(e,t){return Gb.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Fw();return Gb.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.wt(e,t,r)}),Gb.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.kr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.kr.delete(n)),Gb.resolve()}getOverlaysForCollection(e,t,n){const r=Fw(),i=t.length+1,o=new Pb(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Gb.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new rx((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Fw(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Fw(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return Gb.resolve(a)}wt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.kr.get(r.largestBatchId).delete(n.key);this.kr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new kS(t,n));let i=this.kr.get(t);void 0===i&&(i=$w(),this.kr.set(t,i)),this.kr.set(t,i.add(n.key))}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(){this.sessionToken=ux.EMPTY_BYTE_STRING}getSessionToken(e){return Gb.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Gb.resolve()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(){this.qr=new ax(zE.Qr),this.$r=new ax(zE.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const n=new zE(e,t);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Wr(new zE(e,t))}Gr(e,t){e.forEach(e=>this.removeReference(e,t))}zr(e){const t=new Pb(new jb([])),n=new zE(t,e),r=new zE(t,e+1),i=[];return this.$r.forEachInRange([n,r],e=>{this.Wr(e),i.push(e.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Pb(new jb([])),n=new zE(t,e),r=new zE(t,e+1);let i=$w();return this.$r.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new zE(e,0),n=this.qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class zE{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Pb.comparator(e.key,t.key)||wb(e.Hr,t.Hr)}static Ur(e,t){return wb(e.Hr,t.Hr)||Pb.comparator(e.key,t.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new ax(zE.Qr)}checkEmpty(e){return Gb.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new SS(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.Yr=this.Yr.add(new zE(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Gb.resolve(o)}lookupMutationBatch(e,t){return Gb.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Xr(n),i=r<0?0:r;return Gb.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Gb.resolve(0===this.mutationQueue.length?-1:this.er-1)}getAllMutationBatches(e){return Gb.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new zE(t,0),r=new zE(t,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([n,r],e=>{const t=this.Zr(e.Hr);i.push(t)}),Gb.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ax(wb);return t.forEach(e=>{const t=new zE(e,0),r=new zE(e,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([t,r],e=>{n=n.add(e.Hr)})}),Gb.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Pb.isDocumentKey(i)||(i=i.child(""));const o=new zE(new Pb(i),0);let a=new ax(wb);return this.Yr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Hr)),!0)},o),Gb.resolve(this.ei(a))}ei(e){const t=[];return e.forEach(e=>{const n=this.Zr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){ob(0===this.ti(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Yr;return Gb.forEach(t.mutations,r=>{const i=new zE(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Yr=n})}rr(e){}containsKey(e,t){const n=new zE(t,0),r=this.Yr.firstAfterOrEqual(n);return Gb.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Gb.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e){this.ni=e,this.docs=new rx(Pb.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.ni(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Gb.resolve(n?n.document.mutableCopy():Gx.newInvalidDocument(t))}getEntries(e,t){let n=Mw();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Gx.newInvalidDocument(e))}),Gb.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Mw();const o=t.path,a=new Pb(o.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||qb(Vb(a),n)<=0||(r.has(a.key)||Cw(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Gb.resolve(i)}getAllFromCollectionGroup(e,t,n,r){rb(9500)}ri(e,t){return Gb.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new $E(this)}getSize(e){return Gb.resolve(this.size)}}class $E extends IE{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Or.addEntry(e,r)):this.Or.removeEntry(n)}),Gb.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e){this.persistence=e,this.ii=new Aw(e=>gw(e),vw),this.lastRemoteSnapshotVersion=Bb.min(),this.highestTargetId=0,this.si=0,this.oi=new UE,this.targetCount=0,this._i=TE.ar()}forEachTarget(e,t){return this.ii.forEach((e,n)=>t(n)),Gb.resolve()}getLastRemoteSnapshotVersion(e){return Gb.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Gb.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Gb.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.si&&(this.si=t),Gb.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new TE(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,Gb.resolve()}updateTargetData(e,t){return this.hr(t),Gb.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,Gb.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.ii.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),Gb.waitFor(i).next(()=>r)}getTargetCount(e){return Gb.resolve(this.targetCount)}getTargetData(e,t){const n=this.ii.get(t)||null;return Gb.resolve(n)}addMatchingKeys(e,t,n){return this.oi.Kr(t,n),Gb.resolve()}removeMatchingKeys(e,t,n){this.oi.Gr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Gb.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),Gb.resolve()}getMatchingKeysForTargetId(e,t){const n=this.oi.Jr(t);return Gb.resolve(n)}containsKey(e,t){return Gb.resolve(this.oi.containsKey(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,t){this.ai={},this.overlays={},this.ui=new Yb(0),this.ci=!1,this.ci=!0,this.li=new FE,this.referenceDelegate=e(this),this.hi=new qE(this),this.indexManager=new SE,this.remoteDocumentCache=new VE(e=>this.referenceDelegate.Pi(e)),this.serializer=new xE(t),this.Ti=new RE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new LE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ai[e.toKey()];return n||(n=new BE(t,this.referenceDelegate),this.ai[e.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,n){Zv("MemoryPersistence","Starting transaction:",e);const r=new WE(this.ui.next());return this.referenceDelegate.Ii(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ei(e,t){return Gb.or(Object.values(this.ai).map(n=>()=>n.containsKey(e,t)))}}class WE extends Hb{constructor(e){super(),this.currentSequenceNumber=e}}class GE{constructor(e){this.persistence=e,this.Ai=new UE,this.Ri=null}static Vi(e){return new GE(e)}get mi(){if(this.Ri)return this.Ri;throw rb(60996)}addReference(e,t,n){return this.Ai.addReference(n,t),this.mi.delete(n.toString()),Gb.resolve()}removeReference(e,t,n){return this.Ai.removeReference(n,t),this.mi.add(n.toString()),Gb.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),Gb.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(e=>this.mi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.mi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Gb.forEach(this.mi,n=>{const r=Pb.fromPath(n);return this.fi(e,r).next(e=>{e||t.removeEntry(r,Bb.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(e=>{e?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return Gb.or([()=>Gb.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class KE{constructor(e,t){this.persistence=e,this.gi=new Aw(e=>function(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Zb(t)),t=Jb(e.get(n),t);return Zb(t)}(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=function(e,t){return new AE(e,t)}(this,t)}static Vi(e,t){return new KE(e,t)}Ii(){}di(e){return Gb.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}yr(e){let t=0;return this.gr(e,e=>{t++}).next(()=>t)}gr(e,t){return Gb.forEach(this.gi,(n,r)=>this.Sr(e,n,r).next(e=>e?Gb.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ri(e,r=>this.Sr(e,r,t).next(e=>{e||(n++,i.removeEntry(r,Bb.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),Gb.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),Gb.resolve()}removeReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),Gb.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),Gb.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Fx(e.data.value)),t}Sr(e,t,n){return Gb.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.gi.get(t);return Gb.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Is=n,this.ds=r}static Es(e,t){let n=$w(),r=$w();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new YE(e,t.fromCache,n,r)}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=$f()?8:function(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}(Vf())>0?6:4}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ps(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ys(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new XE;return this.ws(e,t,n).next(r=>{if(i.result=r,this.Rs)return this.Ss(e,t,n,r.size)})}).next(()=>i.result)}Ss(e,t,n,r){return n.documentReadCount<this.Vs?(Jv()<=op.DEBUG&&Zv("QueryEngine","SDK will not create cache indexes for query:",jw(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Gb.resolve()):(Jv()<=op.DEBUG&&Zv("QueryEngine","Query:",jw(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.fs*r?(Jv()<=op.DEBUG&&Zv("QueryEngine","The SDK decides to create cache indexes for query:",jw(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kw(t))):Gb.resolve())}ps(e,t){if(Sw(t))return Gb.resolve(null);let n=kw(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=_w(t,null,"F"),n=kw(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=$w(...r);return this.gs.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const o=this.bs(t,r);return this.Ds(t,o,i,n.readTime)?this.ps(e,_w(t,null,"F")):this.vs(e,o,t,n)}))})))}ys(e,t,n,r){return Sw(t)||r.isEqual(Bb.min())?Gb.resolve(null):this.gs.getDocuments(e,n).next(i=>{const o=this.bs(t,i);return this.Ds(t,o,n,r)?Gb.resolve(null):(Jv()<=op.DEBUG&&Zv("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),jw(t)),this.vs(e,o,t,function(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Bb.fromTimestamp(1e9===r?new zb(n+1,0):new zb(n,r));return new $b(i,Pb.empty(),t)}(r,-1)).next(e=>e))})}bs(e,t){let n=new ax(Nw(e));return t.forEach((t,r)=>{Cw(e,r)&&(n=n.add(r))}),n}Ds(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ws(e,t,n){return Jv()<=op.DEBUG&&Zv("QueryEngine","Using full collection scan to execute query:",jw(t)),this.gs.getDocumentsMatchingQuery(e,t,$b.min(),n)}vs(e,t,n,r){return this.gs.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="LocalStore";class ZE{constructor(e,t,n,r){this.persistence=e,this.Cs=t,this.serializer=r,this.Fs=new rx(wb),this.Ms=new Aw(e=>gw(e),vw),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(n)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DE(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}async function ek(e,t){const n=ab(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Ns(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],o=[];let a=$w();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Bs:e,removedBatchIds:i,addedBatchIds:o}))})})}function tk(e){const t=ab(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hi.getLastRemoteSnapshotVersion(e))}function nk(e,t){const n=ab(e),r=t.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const a=[];t.targetChanges.forEach((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.hi.removeMatchingKeys(e,o.removedDocuments,s).next(()=>n.hi.addMatchingKeys(e,o.addedDocuments,s)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(ux.EMPTY_BYTE_STRING,Bb.min()).withLastLimboFreeSnapshotVersion(Bb.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(e,t,n){if(0===e.resumeToken.approximateByteSize())return!0;if(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8)return!0;return n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&a.push(n.hi.updateTargetData(e,c))});let s=Mw(),l=$w();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(function(e,t,n){let r=$w(),i=$w();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Mw();return n.forEach((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Bb.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Zv(JE,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),{Ls:r,ks:i}})}(e,o,t.documentUpdates).next(e=>{s=e.Ls,l=e.ks})),!r.isEqual(Bb.min())){const t=n.hi.getLastRemoteSnapshotVersion(e).next(t=>n.hi.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return Gb.waitFor(a).next(()=>o.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,s,l)).next(()=>s)}).then(e=>(n.Fs=i,e))}function rk(e,t){const n=ab(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}async function ik(e,t,n){const r=ab(e),i=r.Fs.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(a){if(!Kb(a))throw a;Zv(JE,`Failed to update sequence numbers for target ${t}: ${a}`)}r.Fs=r.Fs.remove(t),r.Ms.delete(i.target)}function ok(e,t,n){const r=ab(e);let i=Bb.min(),o=$w();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=ab(e),i=r.Ms.get(n);return void 0!==i?Gb.resolve(r.Fs.get(i)):r.hi.getTargetData(t,n)}(r,e,kw(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>r.Cs.getDocumentsMatchingQuery(e,t,n?i:Bb.min(),n?o:$w())).next(e=>(function(e,t,n){let r=e.xs.get(t)||Bb.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.xs.set(t,r)}(r,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,qs:o})))}class ak{constructor(){this.activeTargetIds=qw}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sk{constructor(){this.Fo=new ak,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,n){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new ak,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{xo(e){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck="ConnectivityMonitor";class uk{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Zv(ck,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Zv(ck,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hk=null;function dk(){return null===hk?hk=268435456+Math.round(2147483648*Math.random()):hk++,"0x"+hk.toString(16)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const fk="RestConnection",pk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mk{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${n}/databases/${r}`,this.Ko=this.databaseId.database===Ex?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Wo(e,t,n,r,i){const o=dk(),a=this.Go(e,t.toUriEncodedString());Zv(fk,`Sending RPC '${e}' ${o}:`,a,n);const s={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(s,r,i);const{host:l}=new URL(a),c=Lf(l);return this.jo(e,a,s,n,c).then(t=>(Zv(fk,`Received RPC '${e}' ${o}: `,t),t),t=>{throw tb(fk,`RPC '${e}' ${o} failed with error: `,t,"url: ",a,"request:",n),t})}Jo(e,t,n,r,i,o){return this.Wo(e,t,n,r,i)}zo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Xv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}Go(e,t){const n=pk[e];return`${this.$o}/v1/${t}:${n}`}terminate(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk="WebChannelConnection";class vk extends mk{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,n,r,i){const o=dk();return new Promise((i,a)=>{const s=new Fv;s.setWithCredentials(!0),s.listenOnce(zv.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case Bv.NO_ERROR:const t=s.getResponseJson();Zv(gk,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(t)),i(t);break;case Bv.TIMEOUT:Zv(gk,`RPC '${e}' ${o} timed out`),a(new lb(sb.DEADLINE_EXCEEDED,"Request time out"));break;case Bv.HTTP_ERROR:const n=s.getStatus();if(Zv(gk,`RPC '${e}' ${o} failed with status:`,n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(sb).indexOf(t)>=0?t:sb.UNKNOWN}(t.status);a(new lb(e,t.message))}else a(new lb(sb.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new lb(sb.UNAVAILABLE,"Connection failed."));break;default:rb(9055,{c_:e,streamId:o,l_:s.getLastErrorCode(),h_:s.getLastError()})}}finally{Zv(gk,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(r);Zv(gk,`RPC '${e}' ${o} sending request:`,r),s.send(t,"POST",l,n,15)})}P_(e,t,n){const r=dk(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Hv(),a=qv(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.zo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");Zv(gk,`Creating RPC '${e}' stream ${r}: ${c}`,s);const u=o.createWebChannel(c,s);this.T_(u);let h=!1,d=!1;const f=new yk({Ho:t=>{d?Zv(gk,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(Zv(gk,`Opening RPC '${e}' stream ${r} transport.`),u.open(),h=!0),Zv(gk,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Yo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(t){setTimeout(()=>{throw t},0)}})};return p(u,Uv.EventType.OPEN,()=>{d||(Zv(gk,`RPC '${e}' stream ${r} transport opened.`),f.s_())}),p(u,Uv.EventType.CLOSE,()=>{d||(d=!0,Zv(gk,`RPC '${e}' stream ${r} transport closed`),f.__(),this.I_(u))}),p(u,Uv.EventType.ERROR,t=>{d||(d=!0,tb(gk,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),f.__(new lb(sb.UNAVAILABLE,"The operation could not be completed")))}),p(u,Uv.EventType.MESSAGE,t=>{var n;if(!d){const i=t.data[0];ob(!!i,16349);const o=i,a=(null==o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){Zv(gk,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=OS[e];if(void 0!==t)return jS(t)}(t),i=a.message;void 0===n&&(n=sb.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.__(new lb(n,i)),u.close()}else Zv(gk,`RPC '${e}' stream ${r} received:`,i),f.a_(i)}}),p(a,$v.STAT_EVENT,t=>{t.stat===Vv.PROXY?Zv(gk,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Vv.NOPROXY&&Zv(gk,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.o_()},0),f}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function bk(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(e){return new WS(e,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Fi=e,this.timerId=t,this.d_=n,this.E_=r,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),r=Math.max(0,t-n);r>0&&Zv("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){null!==this.V_&&(this.V_.skipDelay(),this.V_=null)}cancel(){null!==this.V_&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk="PersistentStream";class Ek{constructor(e,t,n,r,i,o,a,s){this.Fi=e,this.w_=n,this.S_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new wk(e,t)}M_(){return 1===this.state||5===this.state||this.x_()}x_(){return 2===this.state||3===this.state}start(){this.C_=0,4!==this.state?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&null===this.D_&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,4!==e?this.F_.reset():t&&t.code===sb.RESOURCE_EXHAUSTED?(eb(t.toString()),eb("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===sb.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.b_===t&&this.W_(e,n)},t=>{e(()=>{const e=new lb(sb.UNKNOWN,"Fetching auth token failed: "+t.message);return this.G_(e)})})}W_(e,t){const n=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.e_(()=>{n(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(e=>{n(()=>this.G_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.C_?this.j_(e):this.onNext(e))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Zv(Sk,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(Zv(Sk,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kk extends Ek{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const i="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:rb(39313,{state:r}),o=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(ob(void 0===t||"string"==typeof t,58123),ux.fromBase64String(t||"")):(ob(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),ux.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,l=s&&function(e){const t=void 0===e.code?sb.UNKNOWN:jS(e.code);return new lb(t,e.message||"")}(s);n=new FS(i,o,a,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=nE(e,r.document.name),o=QS(r.document.updateTime),a=r.document.createTime?QS(r.document.createTime):Bb.min(),s=new Hx({mapValue:{fields:r.document.fields}}),l=Gx.newFoundDocument(i,o,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new RS(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=nE(e,r.document),o=r.readTime?QS(r.readTime):Bb.min(),a=Gx.newNoDocument(i,o),s=r.removedTargetIds||[];n=new RS([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=nE(e,r.document),o=r.removedTargetIds||[];n=new RS([],o,i,null)}else{if(!("filter"in t))return rb(11601,{At:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new _S(r,i),a=e.targetId;n=new LS(a,o)}}var r;return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Bb.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Bb.min():t.readTime?QS(t.readTime):Bb.min()}(e);return this.listener.J_(t,n)}H_(e){const t={};t.database=iE(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=bw(r)?{documents:sE(e,r)}:{query:lE(e,r).Vt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=YS(e,t.resumeToken);const r=GS(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Bb.min())>0){n.readTime=KS(e,t.snapshotVersion.toTimestamp());const r=GS(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rb(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.k_(t)}Y_(e){const t={};t.database=iE(this.serializer),t.removeTarget=e,this.k_(t)}}class _k extends Ek{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return ob(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ob(!e.writeResults||0===e.writeResults.length,55816),this.listener.ea()}onNext(e){ob(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=function(e,t){return e&&e.length>0?(ob(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?QS(e.updateTime):QS(t);return n.isEqual(Bb.min())&&(n=QS(t)),new aS(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=QS(e.commitTime);return this.listener.ta(n,t)}na(){const e={};e.database=iE(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>function(e,t){let n;if(t instanceof mS)n={update:aE(e,t.key,t.value)};else if(t instanceof xS)n={delete:tE(e,t.key)};else if(t instanceof yS)n={update:aE(e,t.key,t.data),updateMask:gE(t.fieldMask)};else{if(!(t instanceof wS))return rb(16599,{Rt:t.type});n={verify:tE(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Jw)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Zw)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof tS)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof rS)return{fieldPath:t.field.canonicalString(),increment:n.Ee};throw rb(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=(r=e,void 0!==(i=t.precondition).updateTime?{updateTime:XS(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:rb(27497))),n;var r,i}(this.serializer,e))};this.k_(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{}class Tk extends Ok{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new lb(sb.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,n,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,ZS(t,n),r,i,o)).catch(e=>{throw"FirebaseError"===e.name?(e.code===sb.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new lb(sb.UNKNOWN,e.toString())})}Jo(e,t,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,ZS(t,n),r,o,a,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===sb.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new lb(sb.UNKNOWN,e.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class jk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){0===this.sa&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){"Online"===this.state?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,"Online"===e&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(eb(t),this._a=!1):Zv("OnlineStateTracker",t)}ha(){null!==this.oa&&(this.oa.cancel(),this.oa=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck="RemoteStore";class Nk{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(e=>{n.enqueueAndForget(async()=>{Uk(this)&&(Zv(Ck,"Restarting streams for network reachability change."),await async function(e){const t=ab(e);t.Ia.add(4),await Ak(t),t.Aa.set("Unknown"),t.Ia.delete(4),await Pk(t)}(this))})}),this.Aa=new jk(n,r)}}async function Pk(e){if(Uk(e))for(const t of e.da)await t(!0)}async function Ak(e){for(const t of e.da)await t(!1)}function Ik(e,t){const n=ab(e);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),Fk(n)?Lk(n):r_(n).x_()&&Dk(n,t))}function Mk(e,t){const n=ab(e),r=r_(n);n.Ta.delete(t),r.x_()&&Rk(n,t),0===n.Ta.size&&(r.x_()?r.B_():Uk(n)&&n.Aa.set("Unknown"))}function Dk(e,t){if(e.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Bb.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}r_(e).H_(t)}function Rk(e,t){e.Ra.$e(t),r_(e).Y_(t)}function Lk(e){e.Ra=new zS({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Ta.get(t)||null,lt:()=>e.datastore.serializer.databaseId}),r_(e).start(),e.Aa.aa()}function Fk(e){return Uk(e)&&!r_(e).M_()&&e.Ta.size>0}function Uk(e){return 0===ab(e).Ia.size}function zk(e){e.Ra=void 0}async function Bk(e){e.Aa.set("Online")}async function Vk(e){e.Ta.forEach((t,n)=>{Dk(e,t)})}async function $k(e,t){zk(e),Fk(e)?(e.Aa.la(t),Lk(e)):e.Aa.set("Unknown")}async function qk(e,t,n){if(e.Aa.set("Online"),t instanceof FS&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ta.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ta.delete(r),e.Ra.removeTarget(r))}(e,t)}catch(r){Zv(Ck,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Hk(e,r)}else if(t instanceof RS?e.Ra.Ye(t):t instanceof LS?e.Ra.it(t):e.Ra.et(t),!n.isEqual(Bb.min()))try{const t=await tk(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Ra.Pt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ta.get(r);i&&e.Ta.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ta.get(t);if(!r)return;e.Ta.set(t,r.withResumeToken(ux.EMPTY_BYTE_STRING,r.snapshotVersion)),Rk(e,t);const i=new bE(r.target,t,n,r.sequenceNumber);Dk(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(i){Zv(Ck,"Failed to raise snapshot:",i),await Hk(e,i)}}async function Hk(e,t,n){if(!Kb(t))throw t;e.Ia.add(1),await Ak(e),e.Aa.set("Offline"),n||(n=()=>tk(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Zv(Ck,"Retrying IndexedDB access"),await n(),e.Ia.delete(1),await Pk(e)})}function Wk(e,t){return t().catch(n=>Hk(e,n,t))}async function Gk(e){const t=ab(e),n=i_(t);let r=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:-1;for(;Kk(t);)try{const e=await rk(t.localStore,r);if(null===e){0===t.Pa.length&&n.B_();break}r=e.batchId,Yk(t,e)}catch(i){await Hk(t,i)}Xk(t)&&Qk(t)}function Kk(e){return Uk(e)&&e.Pa.length<10}function Yk(e,t){e.Pa.push(t);const n=i_(e);n.x_()&&n.Z_&&n.X_(t.mutations)}function Xk(e){return Uk(e)&&!i_(e).M_()&&e.Pa.length>0}function Qk(e){i_(e).start()}async function Jk(e){i_(e).na()}async function Zk(e){const t=i_(e);for(const n of e.Pa)t.X_(n.mutations)}async function e_(e,t,n){const r=e.Pa.shift(),i=ES.from(r,t,n);await Wk(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Gk(e)}async function t_(e,t){t&&i_(e).Z_&&await async function(e,t){if(function(e){switch(e){case sb.OK:return rb(64938);case sb.CANCELLED:case sb.UNKNOWN:case sb.DEADLINE_EXCEEDED:case sb.RESOURCE_EXHAUSTED:case sb.INTERNAL:case sb.UNAVAILABLE:case sb.UNAUTHENTICATED:return!1;case sb.INVALID_ARGUMENT:case sb.NOT_FOUND:case sb.ALREADY_EXISTS:case sb.PERMISSION_DENIED:case sb.FAILED_PRECONDITION:case sb.ABORTED:case sb.OUT_OF_RANGE:case sb.UNIMPLEMENTED:case sb.DATA_LOSS:return!0;default:return rb(15467,{code:e})}}(n=t.code)&&n!==sb.ABORTED){const n=e.Pa.shift();i_(e).N_(),await Wk(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Gk(e)}var n}(e,t),Xk(e)&&Qk(e)}async function n_(e,t){const n=ab(e);n.asyncQueue.verifyOperationInProgress(),Zv(Ck,"RemoteStore received new credentials");const r=Uk(n);n.Ia.add(3),await Ak(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await Pk(n)}function r_(e){return e.Va||(e.Va=function(e,t,n){const r=ab(e);return r.ia(),new kk(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:Bk.bind(null,e),e_:Vk.bind(null,e),n_:$k.bind(null,e),J_:qk.bind(null,e)}),e.da.push(async t=>{t?(e.Va.N_(),Fk(e)?Lk(e):e.Aa.set("Unknown")):(await e.Va.stop(),zk(e))})),e.Va}function i_(e){return e.ma||(e.ma=function(e,t,n){const r=ab(e);return r.ia(),new _k(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),e_:Jk.bind(null,e),n_:t_.bind(null,e),ea:Zk.bind(null,e),ta:e_.bind(null,e)}),e.da.push(async t=>{t?(e.ma.N_(),await Gk(e)):(await e.ma.stop(),e.Pa.length>0&&(Zv(Ck,`Stopping write stream with ${e.Pa.length} pending writes`),e.Pa=[]))})),e.ma
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class o_{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new cb,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new o_(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new lb(sb.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function a_(e,t){if(eb("AsyncQueue",`${t}: ${e}`),Kb(e))return new lb(sb.UNAVAILABLE,`${t}: ${e}`);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{static emptySet(e){return new s_(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Pb.comparator(t.key,n.key):(e,t)=>Pb.comparator(e.key,t.key),this.keyedMap=Rw(),this.sortedSet=new rx(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof s_))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new s_;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(){this.fa=new rx(Pb.comparator)}track(e){const t=e.doc.key,n=this.fa.get(t);n?0!==e.type&&3===n.type?this.fa=this.fa.insert(t,e):3===e.type&&1!==n.type?this.fa=this.fa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.fa=this.fa.remove(t):1===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):rb(63341,{At:e,ga:n}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,n)=>{e.push(n)}),e}}class c_{constructor(e,t,n,r,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new c_(e,t,s_.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ow(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class h_{constructor(){this.queries=d_(),this.onlineState="Unknown",this.Da=new Set}terminate(){!function(e,t){const n=ab(e),r=n.queries;n.queries=d_(),r.forEach((e,n)=>{for(const r of n.wa)r.onError(t)})}(this,new lb(sb.ABORTED,"Firestore shutting down"))}}function d_(){return new Aw(e=>Tw(e),Ow)}function f_(e,t){const n=ab(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.wa)e.Ca(i)&&(r=!0);t.ya=i}}r&&m_(n)}function p_(e,t,n){const r=ab(e),i=r.queries.get(t);if(i)for(const o of i.wa)o.onError(n);r.queries.delete(t)}function m_(e){e.Da.forEach(e=>{e.next()})}var y_,g_;(g_=y_||(y_={})).Fa="default",g_.Cache="cache";class v_{constructor(e,t,n){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=n||{}}Ca(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new c_(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache)return!0;if(!this.ba())return!0;const n="Offline"!==t;return(!this.options.ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}La(e){e=c_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==y_.Cache}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e){this.key=e}}class x_{constructor(e){this.key=e}}class w_{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=$w(),this.mutatedKeys=$w(),this.Xa=Nw(e),this.eu=new s_(this.Xa)}get tu(){return this.Ha}nu(e,t){const n=t?t.ru:new l_,r=t?t.eu:this.eu;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Cw(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.iu(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.Xa(u,s)>0||l&&this.Xa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(a=!0)),f&&(u?(o=o.add(u),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{eu:o,ru:n,Ds:a,mutatedKeys:i}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rb(20277,{At:e})}};return n(e)-n(t)}(e.type,t.type)||this.Xa(e.doc,t.doc)),this.su(n),r=null!=r&&r;const a=t&&!r?this.ou():[],s=0===this.Za.size&&this.current&&!r?1:0,l=s!==this.Ya;return this.Ya=s,0!==o.length||l?{snapshot:new c_(this.query,e.eu,i,o,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({eu:this.eu,ru:new l_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=$w(),this.eu.forEach(e=>{this.au(e.key)&&(this.Za=this.Za.add(e.key))});const t=[];return e.forEach(e=>{this.Za.has(e)||t.push(new x_(e))}),this.Za.forEach(n=>{e.has(n)||t.push(new b_(n))}),t}uu(e){this.Ha=e.qs,this.Za=$w();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return c_.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,0===this.Ya,this.hasCachedResults)}}const S_="SyncEngine";class E_{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class k_{constructor(e){this.key=e,this.lu=!1}}class __{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Aw(e=>Tw(e),Ow),this.Tu=new Map,this.Iu=new Set,this.du=new rx(Pb.comparator),this.Eu=new Map,this.Au=new UE,this.Ru={},this.Vu=new Map,this.mu=TE.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return!0===this.fu}}async function O_(e,t,n=!0){const r=G_(e);let i;const o=r.Pu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await j_(r,t,n,!0),i}async function T_(e,t){const n=G_(e);await j_(n,t,!0,!1)}async function j_(e,t,n,r){const i=await function(e,t){const n=ab(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.hi.getTargetData(e,t).next(i=>i?(r=i,Gb.resolve(r)):n.hi.allocateTargetId(e).next(i=>(r=new bE(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.hi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Fs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(e.targetId,e),n.Ms.set(t,e.targetId)),e})}(e.localStore,kw(t)),o=i.targetId,a=e.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await async function(e,t,n,r,i){e.gu=(t,n,r)=>async function(e,t,n,r){let i=t.view.nu(n);i.Ds&&(i=await ok(e.localStore,t.query,!1).then(({documents:e})=>t.view.nu(e,i)));const o=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o,a);return B_(e,t.targetId,s._u),s.snapshot}(e,t,n,r);const o=await ok(e.localStore,t,!0),a=new w_(t,o.qs),s=a.nu(o.documents),l=DS.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(s,e.isPrimaryClient,l);B_(e,n,c._u);const u=new E_(t,n,a);return e.Pu.set(t,u),e.Tu.has(n)?e.Tu.get(n).push(t):e.Tu.set(n,[t]),c.snapshot}(e,t,o,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&Ik(e.remoteStore,i),s}async function C_(e,t,n){const r=ab(e),i=r.Pu.get(t),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(e=>!Ow(e,t))),void r.Pu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ik(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Mk(r.remoteStore,i.targetId),U_(r,i.targetId)}).catch(Wb)):(U_(r,i.targetId),await ik(r.localStore,i.targetId,!0))}async function N_(e,t){const n=ab(e),r=n.Pu.get(t),i=n.Tu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Mk(n.remoteStore,r.targetId))}async function P_(e,t,n){const r=function(e){const t=ab(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=D_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=R_.bind(null,t),t}(e);try{const e=await function(e,t){const n=ab(e),r=zb.now(),i=t.reduce((e,t)=>e.add(t.key),$w());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let s=Mw(),l=$w();return n.Os.getEntries(e,i).next(e=>{s=e,s.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,s)).next(i=>{o=i;const a=[];for(const e of t){const t=fS(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new yS(e.key,t,Wx(t.value.mapValue),sS.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:Lw(o)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ru[e.currentUser.toKey()];r||(r=new rx(wb)),r=r.insert(t,n),e.Ru[e.currentUser.toKey()]=r}(r,e.batchId,n),await q_(r,e.changes),await Gk(r.remoteStore)}catch(i){const e=a_(i,"Failed to persist write");n.reject(e)}}async function A_(e,t){const n=ab(e);try{const e=await nk(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Eu.get(t);r&&(ob(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.lu=!0:e.modifiedDocuments.size>0?ob(r.lu,14607):e.removedDocuments.size>0&&(ob(r.lu,42227),r.lu=!1))}),await q_(n,e,t)}catch(r){await Wb(r)}}function I_(e,t,n){const r=ab(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Pu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=ab(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.wa)i.va(t)&&(r=!0)}),r&&m_(n)}(r.eventManager,t),e.length&&r.hu.J_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function M_(e,t,n){const r=ab(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Eu.get(t),o=i&&i.key;if(o){let e=new rx(Pb.comparator);e=e.insert(o,Gx.newNoDocument(o,Bb.min()));const n=$w().add(o),i=new MS(Bb.min(),new Map,new rx(wb),e,n);await A_(r,i),r.du=r.du.remove(o),r.Eu.delete(t),$_(r)}else await ik(r.localStore,t,!1).then(()=>U_(r,t,n)).catch(Wb)}async function D_(e,t){const n=ab(e),r=t.batch.batchId;try{const e=await function(e,t){const n=ab(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=Gb.resolve();return o.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const o=n.docVersions.get(e);ob(null!==o,48541),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=$w();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);F_(n,r,null),L_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await q_(n,e)}catch(i){await Wb(i)}}async function R_(e,t,n){const r=ab(e);try{const e=await function(e,t){const n=ab(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(ob(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);F_(r,t,n),L_(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await q_(r,e)}catch(i){await Wb(i)}}function L_(e,t){(e.Vu.get(t)||[]).forEach(e=>{e.resolve()}),e.Vu.delete(t)}function F_(e,t,n){const r=ab(e);let i=r.Ru[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ru[r.currentUser.toKey()]=i}}function U_(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Tu.get(t))e.Pu.delete(r),n&&e.hu.pu(r,n);e.Tu.delete(t),e.isPrimaryClient&&e.Au.zr(t).forEach(t=>{e.Au.containsKey(t)||z_(e,t)})}function z_(e,t){e.Iu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(Mk(e.remoteStore,n),e.du=e.du.remove(t),e.Eu.delete(n),$_(e))}function B_(e,t,n){for(const r of n)r instanceof b_?(e.Au.addReference(r.key,t),V_(e,r)):r instanceof x_?(Zv(S_,"Document no longer in limbo: "+r.key),e.Au.removeReference(r.key,t),e.Au.containsKey(r.key)||z_(e,r.key)):rb(19791,{yu:r})}function V_(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Iu.has(r)||(Zv(S_,"New document in limbo: "+n),e.Iu.add(r),$_(e))}function $_(e){for(;e.Iu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Iu.values().next().value;e.Iu.delete(t);const n=new Pb(jb.fromString(t)),r=e.mu.next();e.Eu.set(r,new k_(n)),e.du=e.du.insert(n,r),Ik(e.remoteStore,new bE(kw(ww(n.path)),r,"TargetPurposeLimboResolution",Yb.ue))}}async function q_(e,t,n){const r=ab(e),i=[],o=[],a=[];r.Pu.isEmpty()||(r.Pu.forEach((e,s)=>{a.push(r.gu(s,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=YE.Es(s.targetId,e);o.push(t)}}))}),await Promise.all(a),r.hu.J_(i),await async function(e,t){const n=ab(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Gb.forEach(t,t=>Gb.forEach(t.Is,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Gb.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(r){if(!Kb(r))throw r;Zv(JE,"Failed to update sequence numbers: "+r)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.Fs.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Fs=n.Fs.insert(e,i)}}}(r.localStore,o))}async function H_(e,t){const n=ab(e);if(!n.currentUser.isEqual(t)){Zv(S_,"User change. New user:",t.toKey());const e=await ek(n.localStore,t);n.currentUser=t,i="'waitForPendingWrites' promise is rejected due to a user change.",(r=n).Vu.forEach(e=>{e.forEach(e=>{e.reject(new lb(sb.CANCELLED,i))})}),r.Vu.clear(),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await q_(n,e.Bs)}var r,i}function W_(e,t){const n=ab(e),r=n.Eu.get(t);if(r&&r.lu)return $w().add(r.key);{let e=$w();const r=n.Tu.get(t);if(!r)return e;for(const t of r){const r=n.Pu.get(t);e=e.unionWith(r.view.tu)}return e}}function G_(e){const t=ab(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=A_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=W_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=M_.bind(null,t),t.hu.J_=f_.bind(null,t.eventManager),t.hu.pu=p_.bind(null,t.eventManager),t}class K_{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xk(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return function(e,t,n,r){return new ZE(e,t,n,r)}(this.persistence,new QE,e.initialUser,this.serializer)}Du(e){return new HE(GE.Vi,this.serializer)}bu(e){return new sk}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}K_.provider={build:()=>new K_};class Y_ extends K_{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){ob(this.persistence.referenceDelegate instanceof KE,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new PE(n,e.asyncQueue,t)}Du(e){const t=void 0!==this.cacheSizeBytes?OE.withCacheSize(this.cacheSizeBytes):OE.DEFAULT;return new HE(e=>KE.Vi(e,t),this.serializer)}}class X_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>I_(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=H_.bind(null,this.syncEngine),await async function(e,t){const n=ab(e);t?(n.Ia.delete(2),await Pk(n)):t||(n.Ia.add(2),await Ak(n),n.Aa.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new h_}createDatastore(e){const t=xk(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new vk(r));var r;return function(e,t,n,r){return new Tk(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Nk(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>I_(this.syncEngine,e,0),uk.C()?new uk:new lk)}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new __(e,t,n,r,i,o);return a&&(s.fu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=ab(e);Zv(Ck,"RemoteStore shutting down."),t.Ia.add(5),await Ak(t),t.Ea.shutdown(),t.Aa.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}X_.provider={build:()=>new X_};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Q_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):eb("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="FirestoreClient";class Z_{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Yv.UNAUTHENTICATED,this.clientId=xb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{Zv(J_,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Zv(J_,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cb;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(Yd){const n=a_(Yd,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function eO(e,t){e.asyncQueue.verifyOperationInProgress(),Zv(J_,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await ek(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>{tb("Terminating Firestore due to IndexedDb database deletion"),e.terminate().then(()=>{Zv("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(e=>{tb("Terminating Firestore due to IndexedDb database deletion failed",e)})}),e._offlineComponents=t}async function tO(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Zv(J_,"Using user provided OfflineComponentProvider");try{await eO(e,e._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!("FirebaseError"===(n=i).name?n.code===sb.FAILED_PRECONDITION||n.code===sb.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code))throw i;tb("Error using user provided cache. Falling back to memory cache: "+i),await eO(e,new K_)}}else Zv(J_,"Using default OfflineComponentProvider"),await eO(e,new Y_(void 0));var n;return e._offlineComponents}(e);Zv(J_,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>n_(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>n_(t.remoteStore,n)),e._onlineComponents=t}async function nO(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Zv(J_,"Using user provided OnlineComponentProvider"),await tO(e,e._uninitializedComponentsProvider._online)):(Zv(J_,"Using default OnlineComponentProvider"),await tO(e,new X_))),e._onlineComponents}async function rO(e){const t=await nO(e),n=t.eventManager;return n.onListen=O_.bind(null,t.syncEngine),n.onUnlisten=C_.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=T_.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=N_.bind(null,t.syncEngine),n}function iO(e,t,n={}){const r=new cb;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new Q_({next:s=>{o.Ou(),t.enqueueAndForget(()=>async function(e,t){const n=ab(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.wa.indexOf(t);e>=0&&(o.wa.splice(e,1),0===o.wa.length?i=t.ba()?0:1:!o.Sa()&&t.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}(e,a));const l=s.docs.has(n);!l&&s.fromCache?i.reject(new lb(sb.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?i.reject(new lb(sb.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new v_(ww(n.path),o,{includeMetadataChanges:!0,ka:!0});return async function(t,n){const r=ab(t);let i=3;const o=n.query;let a=r.queries.get(o);a?!a.Sa()&&n.ba()&&(i=2):(a=new u_,i=n.ba()?0:1);try{switch(i){case 0:a.ya=await r.onListen(o,!0);break;case 1:a.ya=await r.onListen(o,!1);break;case 2:await r.onFirstRemoteStoreListen(o)}}catch(e){const r=a_(e,`Initialization of query '${jw(n.query)}' failed`);return void n.onError(r)}r.queries.set(o,a),a.wa.push(n),n.va(r.onlineState),a.ya&&n.Ca(a.ya)&&m_(r)}(e,a)}(await rO(e),e.asyncQueue,t,n,r)),r.promise
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function oO(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const aO=new Map,sO="firestore.googleapis.com",lO=!0;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new lb(sb.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sO,this.ssl=lO}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:lO;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=_E;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new lb(sb.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new lb(sb.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oO(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new lb(sb.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new lb(sb.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new lb(sb.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uO{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lb(sb.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new lb(sb.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cO(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new hb;switch(e.type){case"firstParty":return new mb(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new lb(sb.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=aO.get(e);t&&(Zv("ComponentProvider","Removing Datastore"),aO.delete(e),t.terminate())}(this),Promise.resolve()}}function hO(e,t,n,r={}){var i;e=Db(e,uO);const o=Lf(t),a=e._getSettings(),s=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${n}`;o&&(Ff(`https://${l}`),Bf("Firestore",!0)),a.host!==sO&&a.host!==l&&tb("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},a),{host:l,ssl:o,emulatorOptions:r});if(!Gf(c,s)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Yv.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Cf(JSON.stringify({alg:"none",type:"JWT"})),Cf(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new lb(sb.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Yv(o)}e._authCredentials=new db(new ub(t,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new dO(this.firestore,e,this._query)}}class fO{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pO(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fO(this.firestore,e,this._key)}toJSON(){return{type:fO._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Lb(t,fO._jsonSchema))return new fO(e,n||null,new Pb(jb.fromString(t.referencePath)))}}fO._jsonSchemaVersion="firestore/documentReference/1.0",fO._jsonSchema={type:Rb("string",fO._jsonSchemaVersion),referencePath:Rb("string")};class pO extends dO{constructor(e,t,n){super(e,t,ww(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fO(this.firestore,null,new Pb(e))}withConverter(e){return new pO(this.firestore,e,this._path)}}function mO(e,t,...n){if(e=ep(e),1===arguments.length&&(t=xb.newId()),function(e,t,n){if(!n)throw new lb(sb.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}("doc","path",t),e instanceof uO){const r=jb.fromString(t,...n);return Ab(r),new fO(e,null,new Pb(r))}{if(!(e instanceof fO||e instanceof pO))throw new lb(sb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(jb.fromString(t,...n));return Ab(r),new fO(e.firestore,e instanceof pO?e.converter:null,new Pb(r))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO="AsyncQueue";class gO{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new wk(this,"async_queue_retry"),this.oc=()=>{const e=bk();e&&Zv(yO,"Visibility state changed to "+e.visibilityState),this.F_.y_()},this._c=e;const t=bk();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=bk();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new cb;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(0!==this.Zu.length){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(Kd){if(!Kb(Kd))throw Kd;Zv(yO,"Operation failed with retryable error: "+Kd)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(e=>{throw this.tc=e,this.nc=!1,eb("INTERNAL UNHANDLED ERROR: ",vO(e)),e}).then(e=>(this.nc=!1,e))));return this._c=t,t}enqueueAfterDelay(e,t,n){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const r=o_.createAndSchedule(this,e,t,n,e=>this.lc(e));return this.ec.push(r),r}ac(){this.tc&&rb(47125,{hc:vO(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do{e=this._c,await e}while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function vO(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class bO extends uO{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new gO,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gO(e),this._firestoreClient=void 0,await e}}}function xO(e){if(e._terminated)throw new lb(sb.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){var t,n,r;const i=e._freezeSettings(),o=(a=e._databaseId,s=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",l=e._persistenceKey,c=i,new Sx(a,s,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,oO(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator));var a,s,l,c;e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Z_(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e),e._firestoreClient}class wO{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wO(ux.fromBase64String(e))}catch(t){throw new lb(sb.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new wO(ux.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wO._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lb(e,wO._jsonSchema))return wO.fromBase64String(e.bytes)}}wO._jsonSchemaVersion="firestore/bytes/1.0",wO._jsonSchema={type:Rb("string",wO._jsonSchemaVersion),bytes:Rb("string")};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class SO{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new lb(sb.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nb(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new lb(sb.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new lb(sb.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return wb(this._lat,e._lat)||wb(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:kO._jsonSchemaVersion}}static fromJSON(e){if(Lb(e,kO._jsonSchema))return new kO(e.latitude,e.longitude)}}kO._jsonSchemaVersion="firestore/geoPoint/1.0",kO._jsonSchema={type:Rb("string",kO._jsonSchemaVersion),latitude:Rb("number"),longitude:Rb("number")};
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class _O{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:_O._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lb(e,_O._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new _O(e.vectorValues);throw new lb(sb.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_O._jsonSchemaVersion="firestore/vectorValue/1.0",_O._jsonSchema={type:Rb("string",_O._jsonSchemaVersion),vectorValues:Rb("object")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const OO=/^__.*__$/;class TO{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new yS(e,this.data,this.fieldMask,t,this.fieldTransforms):new mS(e,this.data,t,this.fieldTransforms)}}function jO(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rb(40011,{Ec:e})}}class CO{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new CO(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.fc(e),r}gc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.Ac(),r}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return zO(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(0===e.length)throw this.wc("Document fields must not be empty");if(jO(this.Ec)&&OO.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class NO{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||xk(e)}Dc(e,t,n,r=!1){return new CO({Ec:e,methodName:t,bc:n,path:Nb.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function PO(e){const t=e._freezeSettings(),n=xk(e._databaseId);return new NO(e._databaseId,!!t.ignoreUndefinedProperties,n)}function AO(e,t,n,r,i,o={}){const a=e.Dc(o.merge||o.mergeFields?2:0,t,n,i);RO("Data must be an object, but it was:",a,r);const s=MO(r,a);let l,c;if(o.merge)l=new lx(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=LO(t,r,n);if(!a.contains(i))throw new lb(sb.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);BO(e,i)||e.push(i)}l=new lx(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new TO(new Hx(s),l,c)}function IO(e,t){if(DO(e=ep(e)))return RO("Unsupported field value:",t,e),MO(e,t);if(e instanceof EO)return function(e,t){if(!jO(t.Ec))throw t.wc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.wc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.mc&&4!==t.Ec)throw t.wc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=IO(i,t.yc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ep(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Gw(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=zb.fromDate(e);return{timestampValue:KS(t.serializer,n)}}if(e instanceof zb){const n=new zb(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:KS(t.serializer,n)}}if(e instanceof kO)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof wO)return{bytesValue:YS(t.serializer,e._byteString)};if(e instanceof fO){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.wc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:JS(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof _O)return n=e,r=t,{mapValue:{fields:{[_x]:{stringValue:jx},[Cx]:{arrayValue:{values:n.toArray().map(e=>{if("number"!=typeof e)throw r.wc("VectorValues must only contain numeric values.");return Hw(r.serializer,e)})}}}}};var n,r;throw t.wc(`Unsupported field value: ${Mb(e)}`)}(e,t)}function MO(e,t){const n={};return nx(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):tx(e,(e,r)=>{const i=IO(r,t.Vc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function DO(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof zb||e instanceof kO||e instanceof wO||e instanceof fO||e instanceof EO||e instanceof _O)}function RO(e,t,n){if(!DO(n)||!Ib(n)){const r=Mb(n);throw"an object"===r?t.wc(e+" a custom object"):t.wc(e+" "+r)}}function LO(e,t,n){if((t=ep(t))instanceof SO)return t._internalPath;if("string"==typeof t)return UO(e,t);throw zO("Field path arguments must be of type string or ",e,!1,void 0,n)}const FO=new RegExp("[~\\*/\\[\\]]");function UO(e,t,n){if(t.search(FO)>=0)throw zO(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new SO(...t.split("."))._internalPath}catch(Xd){throw zO(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function zO(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new lb(sb.INVALID_ARGUMENT,s+e+l)}function BO(e,t){return e.some(e=>e.isEqual(t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new fO(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new $O(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(qO("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class $O extends VO{data(){return super.data()}}function qO(e,t){return"string"==typeof t?UO(e,t):t instanceof SO?t._internalPath:t._delegate._internalPath}class HO{convertValue(e,t="none"){switch(Nx(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fx(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(px(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw rb(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return tx(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Cx].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>fx(e.doubleValue));return new _O(i)}convertGeoPoint(e){return new kO(fx(e.latitude),fx(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=xx(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(wx(e));default:return null}}convertTimestamp(e){const t=dx(e);return new zb(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=jb.fromString(e);ob(vE(n),9688,{name:e});const r=new kx(n.get(1),n.get(3)),i=new Pb(n.popFirst(5));return r.isEqual(t)||eb(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class GO extends VO{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new KO(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(qO("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lb(sb.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=GO._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}GO._jsonSchemaVersion="firestore/documentSnapshot/1.0",GO._jsonSchema={type:Rb("string",GO._jsonSchemaVersion),bundleSource:Rb("string","DocumentSnapshot"),bundleName:Rb("string"),bundle:Rb("string")};class KO extends GO{data(e={}){return super.data(e)}}class YO{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new WO(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new KO(this._firestore,this._userDataWriter,n.key,n,new WO(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new lb(sb.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new KO(e._firestore,e._userDataWriter,n.doc.key,n.doc,new WO(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new KO(e._firestore,e._userDataWriter,t.doc.key,t.doc,new WO(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:XO(t.type),doc:r,oldIndex:i,newIndex:o}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lb(sb.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=YO._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function XO(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rb(61501,{type:e})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(e){e=Db(e,fO);const t=Db(e.firestore,bO);return iO(xO(t),e._key).then(n=>function(e,t,n){const r=n.docs.get(t._key),i=new JO(e);return new GO(e,i,t._key,r,new WO(n.hasPendingWrites,n.fromCache),t.converter)}(t,e,n))}YO._jsonSchemaVersion="firestore/querySnapshot/1.0",YO._jsonSchema={type:Rb("string",YO._jsonSchemaVersion),bundleSource:Rb("string","QuerySnapshot"),bundleName:Rb("string"),bundle:Rb("string")};class JO extends HO{constructor(e){super(),this.firestore=e}convertBytes(e){return new wO(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fO(this.firestore,null,t)}}function ZO(e,t,n){e=Db(e,fO);const r=Db(e.firestore,bO),i=function(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}(e.converter,t,n);return function(e,t){return function(e,t){const n=new cb;return e.asyncQueue.enqueueAndForget(async()=>P_(await function(e){return nO(e).then(e=>e.syncEngine)}(e),t,n)),n.promise}(xO(e),t)}(r,[AO(PO(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,sS.none())])}!function(e,t=!0){Xv=mm,um(new tp("firestore",(e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),o=new bO(new fb(e.getProvider("auth-internal")),new gb(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new lb(sb.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kx(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),vm(Gv,Kv,e),vm(Gv,Kv,"esm2017")}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
vm("firebase","11.10.0","app");const eT=ym({apiKey:"AIzaSyCCC8A-o989vPobTmd52iqV2eI4KFIAmDM",authDomain:"incometry-app.firebaseapp.com",projectId:"incometry-app",storageBucket:"incometry-app.firebasestorage.app",messagingSenderId:"953163779502",appId:"1:953163779502:web:6f2d07562ddbb92a484c3f"}),tT=function(e=gm()){const t=hm(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=hm(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Gf(n.getOptions(),null!=t?t:{}))return e;Dm(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Tv,persistence:[qg,Tg,Cg]}),r=Df("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Pv)return;const r=null==t?void 0:t.token;Av!==r&&(Av=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){ep(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){ep(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const o=If("auth");return o&&Jy(n,`http://${o}`),n}(eT),nT=function(e,t){const n="object"==typeof e?e:gm(),r="string"==typeof e?e:t||Ex,i=hm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=If(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&hO(i,...e)}return i}(eT),rT=B.createContext(),iT=()=>{const e=B.useContext(rT);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},oT=({children:e})=>{const[t,n]=B.useState(null),[r,i]=B.useState(!0);B.useEffect(()=>{var e,t,r;return e=e=>{n(e),i(!1)},ep(tT).onAuthStateChanged(e,t,r)},[]);const o={currentUser:t,signup:async(e,t,n,r)=>{try{const i=await async function(e,t,n){if(dm(e.app))return Promise.reject(Fm(e));const r=Vy(e),i=Qy(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mg,"EMAIL_PASSWORD_PROVIDER"),o=await i.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&wg(e),t}),a=await yg._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}(tT,e,t),o=i.user;return await Eg(o,{displayName:`${n} ${r}`}),await ZO(mO(nT,"users",o.uid),{firstName:n,lastName:r,email:e,createdAt:new Date,portfolios:[]}),i}catch(i){throw console.error("Signup error:",i),i}},login:(e,t)=>Sg(tT,e,t),logout:()=>ep(tT).signOut(),getUserData:async e=>{try{const t=await QO(mO(nT,"users",e));return t.exists()?t.data():null}catch(t){throw console.error("Error getting user data:",t),t}}};return Q.jsx(rT.Provider,{value:o,children:!r&&e})};
/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var aT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=(e,t)=>{const n=B.forwardRef(({color:n="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:s,...l},c)=>{return B.createElement("svg",{ref:c,...aT,width:r,height:r,stroke:n,strokeWidth:o?24*Number(i)/Number(r):i,className:["lucide",`lucide-${u=e,u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()}`,a].join(" "),...l},[...t.map(([e,t])=>B.createElement(e,t)),...Array.isArray(s)?s:[s]]);var u});return n.displayName=`${e}`,n},lT=sT("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),cT=sT("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),uT=sT("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),hT=sT("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),dT=sT("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),fT=sT("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),pT=sT("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),mT=sT("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]),yT=sT("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),gT=sT("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]),vT=sT("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),bT=sT("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),xT=sT("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),wT=sT("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),ST=sT("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),ET=sT("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),kT=sT("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),_T=sT("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),OT=sT("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),TT=sT("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),jT=sT("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2h0V5z",key:"uf6l00"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h0",key:"k2aug8"}]]),CT=sT("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),NT=sT("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),PT=sT("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),AT=sT("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),IT=sT("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),MT=sT("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),DT=sT("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),RT=sT("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]),LT=sT("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),FT=sT("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function UT(){const[e,t]=B.useState(!1),[n,r]=B.useState(null),{currentUser:i,logout:o}=iT(),a=Qh(),s=Zh(),l=async()=>{try{await o(),s("/"),t(!1)}catch(e){console.error("Logout failed:",e)}},c=()=>{t(!1),r(null)},u=e=>a.pathname===e,h=()=>{var e;return i?i.displayName||(null==(e=i.email)?void 0:e.split("@")[0])||"User":""};return Q.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 glass-effect",children:Q.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[Q.jsxs("div",{className:"flex items-center justify-between h-16",children:[Q.jsxs(xd,{to:"/",className:"flex items-center gap-3 group",onClick:c,children:[Q.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg group-hover:bg-primary-500/30 transition-colors",children:Q.jsx(IT,{className:"w-6 h-6 text-primary-400"})}),Q.jsxs("div",{children:[Q.jsx("span",{className:"text-xl font-bold text-white",children:"Incometry"}),Q.jsx("p",{className:"text-xs text-slate-400 hidden sm:block",children:"Canadian Financial Planning"})]})]}),Q.jsxs("div",{className:"hidden lg:flex items-center space-x-8",children:[Q.jsxs("div",{className:"relative group",onMouseEnter:()=>r("income"),onMouseLeave:()=>r(null),children:[Q.jsx("button",{className:"text-slate-300 hover:text-white px-3 py-2 text-sm font-medium transition-colors",children:"Creating Sustainable Income"}),"income"===n&&Q.jsxs("div",{className:"absolute top-full left-0 mt-1 w-64 bg-slate-800/95 backdrop-blur-lg border border-slate-700 rounded-lg shadow-xl py-2",children:[Q.jsx("div",{className:"px-4 py-2 border-b border-slate-700",children:Q.jsx("h3",{className:"text-sm font-semibold text-white",children:"TFSA Strategies"})}),Q.jsx(xd,{to:"/tfsa/drip-calculator",className:"block px-4 py-3 text-sm text-slate-300 hover:text-white hover:bg-slate-700/50 transition-colors",onClick:c,children:Q.jsxs("div",{children:[Q.jsx("div",{className:"font-medium",children:"DRIP Calculator"}),Q.jsx("div",{className:"text-xs text-slate-400",children:"Dividend Reinvestment Planning"})]})}),Q.jsx(xd,{to:"/tfsa/guide",className:"block px-4 py-3 text-sm text-slate-300 hover:text-white hover:bg-slate-700/50 transition-colors",onClick:c,children:Q.jsxs("div",{children:[Q.jsx("div",{className:"font-medium",children:"TFSA Investment Guide"}),Q.jsx("div",{className:"text-xs text-slate-400",children:"2025 Strategies & Limits"})]})})]})]}),Q.jsx(xd,{to:"/saving-money",className:"px-3 py-2 text-sm font-medium transition-colors "+(u("/saving-money")?"text-primary-400":"text-slate-300 hover:text-white"),onClick:c,children:"Saving Money"}),i?Q.jsxs("div",{className:"relative group",onMouseEnter:()=>r("user"),onMouseLeave:()=>r(null),children:[Q.jsxs("button",{className:"flex items-center gap-2 text-slate-300 hover:text-white px-3 py-2 text-sm font-medium transition-colors",children:[Q.jsx(MT,{className:"w-4 h-4"}),h()]}),"user"===n&&Q.jsxs("div",{className:"absolute top-full right-0 mt-1 w-48 bg-slate-800/95 backdrop-blur-lg border border-slate-700 rounded-lg shadow-xl py-2",children:[Q.jsxs(xd,{to:"/dashboard",className:"flex items-center gap-2 px-4 py-3 text-sm text-slate-300 hover:text-white hover:bg-slate-700/50 transition-colors",onClick:c,children:[Q.jsx(ST,{className:"w-4 h-4"}),"Dashboard"]}),Q.jsxs("button",{onClick:l,className:"flex items-center gap-2 w-full px-4 py-3 text-sm text-slate-300 hover:text-white hover:bg-slate-700/50 transition-colors",children:[Q.jsx(ET,{className:"w-4 h-4"}),"Logout"]})]})]}):Q.jsxs("div",{className:"flex items-center gap-4",children:[Q.jsx(xd,{to:"/login",className:"text-slate-300 hover:text-white px-3 py-2 text-sm font-medium transition-colors",onClick:c,children:"Login"}),Q.jsx(xd,{to:"/register",className:"btn-primary text-sm",onClick:c,children:"Get Started"})]})]}),Q.jsx("button",{onClick:()=>t(!e),className:"lg:hidden p-2 rounded-lg text-slate-300 hover:text-white hover:bg-slate-700/50 transition-colors",children:e?Q.jsx(LT,{className:"w-6 h-6"}):Q.jsx(_T,{className:"w-6 h-6"})})]}),e&&Q.jsx("div",{className:"lg:hidden border-t border-slate-700 py-4",children:Q.jsxs("div",{className:"space-y-2",children:[Q.jsxs("div",{children:[Q.jsx("div",{className:"px-3 py-2 text-sm font-semibold text-slate-400",children:"Creating Sustainable Income"}),Q.jsxs("div",{className:"ml-4 space-y-1",children:[Q.jsx("div",{className:"px-3 py-1 text-xs font-medium text-slate-500",children:"TFSA Strategies"}),Q.jsx(xd,{to:"/tfsa/drip-calculator",className:"block px-6 py-2 text-sm transition-colors "+(u("/tfsa/drip-calculator")?"text-primary-400 bg-primary-500/10":"text-slate-300 hover:text-white hover:bg-slate-700/50"),onClick:c,children:"DRIP Calculator"}),Q.jsx(xd,{to:"/tfsa/guide",className:"block px-6 py-2 text-sm transition-colors "+(u("/tfsa/guide")?"text-primary-400 bg-primary-500/10":"text-slate-300 hover:text-white hover:bg-slate-700/50"),onClick:c,children:"TFSA Investment Guide"})]})]}),Q.jsx(xd,{to:"/saving-money",className:"block px-3 py-2 text-sm transition-colors "+(u("/saving-money")?"text-primary-400 bg-primary-500/10":"text-slate-300 hover:text-white hover:bg-slate-700/50"),onClick:c,children:"Saving Money"}),i?Q.jsxs("div",{className:"border-t border-slate-700 pt-4 mt-4",children:[Q.jsxs("div",{className:"px-3 py-2 text-sm font-semibold text-slate-400",children:["Welcome, ",h()]}),Q.jsxs(xd,{to:"/dashboard",className:"flex items-center gap-2 px-3 py-2 text-sm transition-colors "+(u("/dashboard")?"text-primary-400 bg-primary-500/10":"text-slate-300 hover:text-white hover:bg-slate-700/50"),onClick:c,children:[Q.jsx(ST,{className:"w-4 h-4"}),"Dashboard"]}),Q.jsxs("button",{onClick:l,className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700/50 transition-colors",children:[Q.jsx(ET,{className:"w-4 h-4"}),"Logout"]})]}):Q.jsxs("div",{className:"border-t border-slate-700 pt-4 mt-4 space-y-2",children:[Q.jsx(xd,{to:"/login",className:"block px-3 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700/50 transition-colors",onClick:c,children:"Login"}),Q.jsx(xd,{to:"/register",className:"block mx-3 btn-primary text-sm text-center",onClick:c,children:"Get Started"})]})]})})]})})}function zT(){const e=(new Date).getFullYear();return Q.jsx("footer",{className:"bg-slate-900/80 backdrop-blur-sm border-t border-slate-700",children:Q.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[Q.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[Q.jsxs("div",{className:"col-span-1 md:col-span-2",children:[Q.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[Q.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg",children:Q.jsx(IT,{className:"w-6 h-6 text-primary-400"})}),Q.jsxs("div",{children:[Q.jsx("h3",{className:"text-xl font-bold text-white",children:"Incometry"}),Q.jsx("p",{className:"text-sm text-slate-400",children:"Canadian Financial Planning"})]})]}),Q.jsx("p",{className:"text-slate-300 leading-relaxed mb-4 max-w-md",children:"Empowering Canadians to build sustainable retirement income through proven TFSA investment strategies, DRIP calculations, and comprehensive financial planning tools."}),Q.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[Q.jsx(kT,{className:"w-4 h-4"}),Q.jsx("span",{children:"hello@incometry.com"})]})]}),Q.jsxs("div",{children:[Q.jsx("h4",{className:"text-white font-semibold mb-4",children:"Calculator Tools"}),Q.jsxs("ul",{className:"space-y-2 text-sm text-slate-400",children:[Q.jsx("li",{children:Q.jsx(xd,{to:"/tfsa/drip-calculator",className:"hover:text-primary-400 transition-colors",children:"DRIP Calculator"})}),Q.jsx("li",{children:Q.jsx(xd,{to:"/tfsa/guide",className:"hover:text-primary-400 transition-colors",children:"TFSA Investment Guide"})}),Q.jsx("li",{children:Q.jsx(xd,{to:"/saving-money",className:"hover:text-primary-400 transition-colors",children:"Saving Strategies"})}),Q.jsx("li",{children:Q.jsx(xd,{to:"/dashboard",className:"hover:text-primary-400 transition-colors",children:"Portfolio Tracker"})})]})]}),Q.jsxs("div",{children:[Q.jsx("h4",{className:"text-white font-semibold mb-4",children:"Resources"}),Q.jsxs("ul",{className:"space-y-2 text-sm text-slate-400",children:[Q.jsx("li",{children:Q.jsx("a",{href:"https://www.canada.ca/en/revenue-agency/services/tax/individuals/topics/tax-free-savings-account.html",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary-400 transition-colors",children:"CRA TFSA Information"})}),Q.jsx("li",{children:Q.jsx(xd,{to:"/investment-strategies",className:"hover:text-primary-400 transition-colors",children:"Investment Strategies"})}),Q.jsx("li",{children:Q.jsx(xd,{to:"/retirement-planning",className:"hover:text-primary-400 transition-colors",children:"Retirement Planning"})}),Q.jsx("li",{children:Q.jsx(xd,{to:"/dividend-investing",className:"hover:text-primary-400 transition-colors",children:"Dividend Investing"})})]})]})]}),Q.jsx("div",{className:"border-t border-slate-700 pt-8 mb-8",children:Q.jsxs("div",{className:"bg-slate-800/30 rounded-lg p-6",children:[Q.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[Q.jsx(NT,{className:"w-5 h-5 text-yellow-400 mt-0.5 flex-shrink-0"}),Q.jsx("h4",{className:"text-white font-medium",children:"Important Legal Disclaimer"})]}),Q.jsxs("div",{className:"text-sm text-slate-400 space-y-2 leading-relaxed",children:[Q.jsxs("p",{children:[Q.jsx("strong",{className:"text-slate-300",children:"Educational Tool Only:"})," This calculator provides hypothetical projections for educational and planning purposes. All calculations are estimates based on inputs provided. Past performance does not guarantee future results."]}),Q.jsxs("p",{children:[Q.jsx("strong",{className:"text-slate-300",children:"Investment Risk:"})," All investments carry risk of loss including potential loss of principal. Dividend payments are not guaranteed and can be reduced or eliminated."]}),Q.jsxs("p",{children:[Q.jsx("strong",{className:"text-slate-300",children:"Professional Advice Required:"})," This tool does not constitute financial, investment, tax, or legal advice. Always consult qualified professionals before making investment decisions."]})]})]})}),Q.jsx("div",{className:"border-t border-slate-700 pt-6",children:Q.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[Q.jsxs("div",{className:"text-sm text-slate-500",children:["© ",e," Incometry. Built with"," ",Q.jsx(xT,{className:"w-4 h-4 inline text-red-400"})," ","for Canadian investors."]}),Q.jsxs("div",{className:"flex gap-6 text-sm text-slate-500",children:[Q.jsxs(xd,{to:"/privacy",className:"hover:text-slate-400 transition-colors flex items-center gap-1",children:[Q.jsx(NT,{className:"w-3 h-3"}),"Privacy Policy"]}),Q.jsxs(xd,{to:"/terms",className:"hover:text-slate-400 transition-colors flex items-center gap-1",children:[Q.jsx(bT,{className:"w-3 h-3"}),"Terms of Service"]}),Q.jsx(xd,{to:"/disclaimer",className:"hover:text-slate-400 transition-colors",children:"Disclaimer"})]})]})})]})})}function BT(){const e=[{icon:fT,title:"DRIP Calculator",description:"Calculate dividend reinvestment growth with real Canadian stocks",color:"from-blue-500 to-indigo-600"},{icon:IT,title:"TFSA Strategies",description:"Maximize your $7,000 2025 contribution room",color:"from-green-500 to-emerald-600"},{icon:NT,title:"Risk Analysis",description:"AI-powered portfolio risk assessment and recommendations",color:"from-purple-500 to-violet-600"},{icon:PT,title:"Goal Tracking",description:"Track actual vs projected performance over time",color:"from-orange-500 to-red-600"}],t=[{label:"TFSA Contribution Room 2025",value:"$7,000",color:"text-green-400"},{label:"Total Lifetime Room",value:"$102,000",color:"text-blue-400"},{label:"Average CPP Monthly",value:"$899",color:"text-red-400"},{label:"Retirement Income Gap",value:"$2,600+",color:"text-orange-400"}];return Q.jsxs("div",{className:"pt-16",children:[Q.jsx("section",{className:"relative overflow-hidden",children:Q.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 lg:py-32",children:Q.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[Q.jsxs("div",{className:"space-y-8",children:[Q.jsxs("div",{className:"space-y-4",children:[Q.jsxs("h1",{className:"text-4xl lg:text-6xl font-bold text-white leading-tight",children:["Build",Q.jsx("span",{className:"block bg-gradient-to-r from-primary-400 to-blue-400 bg-clip-text text-transparent",children:"Sustainable Income"}),"for Retirement"]}),Q.jsx("p",{className:"text-xl text-slate-300 leading-relaxed",children:"Master Canadian TFSA strategies and DRIP investing to create tax-free dividend income streams that grow throughout retirement. Start with just $7,000 in 2025."})]}),Q.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[Q.jsxs(xd,{to:"/tfsa/drip-calculator",className:"btn-primary",children:["Try DRIP Calculator",Q.jsx(uT,{className:"w-5 h-5 ml-2"})]}),Q.jsx(xd,{to:"/register",className:"btn-secondary",children:"Create Free Account"})]}),Q.jsx("div",{className:"grid grid-cols-2 gap-6 pt-8",children:t.slice(0,2).map((e,t)=>Q.jsxs("div",{className:"text-center",children:[Q.jsx("div",{className:`text-2xl font-bold ${e.color}`,children:e.value}),Q.jsx("div",{className:"text-sm text-slate-400",children:e.label})]},t))})]}),Q.jsx("div",{className:"relative",children:Q.jsxs("div",{className:"glass-effect rounded-2xl p-8 animate-float",children:[Q.jsxs("div",{className:"text-center mb-6",children:[Q.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Sample TFSA Growth"}),Q.jsx("p",{className:"text-slate-400 text-sm",children:"$500/month + 4.5% dividend + DRIP"})]}),Q.jsxs("div",{className:"space-y-4",children:[Q.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-700/30 rounded-lg",children:[Q.jsx("span",{className:"text-slate-300",children:"Year 10"}),Q.jsx("span",{className:"text-emerald-400 font-semibold",children:"$89,432"})]}),Q.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-700/30 rounded-lg",children:[Q.jsx("span",{className:"text-slate-300",children:"Year 20"}),Q.jsx("span",{className:"text-blue-400 font-semibold",children:"$264,891"})]}),Q.jsxs("div",{className:"flex justify-between items-center p-3 bg-primary-500/20 rounded-lg border border-primary-500/30",children:[Q.jsx("span",{className:"text-white font-medium",children:"Year 25"}),Q.jsx("span",{className:"text-primary-300 font-bold",children:"$398,745"})]}),Q.jsxs("div",{className:"text-center pt-2",children:[Q.jsx("span",{className:"text-sm text-slate-400",children:"Monthly Income: "}),Q.jsx("span",{className:"text-lg font-semibold text-primary-400",children:"$1,495"})]})]})]})})]})})}),Q.jsx("section",{className:"py-20 bg-gradient-to-b from-slate-900/50 to-transparent",children:Q.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[Q.jsxs("div",{className:"text-center mb-16",children:[Q.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-white mb-4",children:"Choose Your Financial Path"}),Q.jsx("p",{className:"text-xl text-slate-300 max-w-3xl mx-auto",children:"Whether you're building long-term wealth or optimizing current expenses, we have the tools to help you succeed."})]}),Q.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[Q.jsxs("div",{className:"group card hover:scale-105 transition-all duration-300",children:[Q.jsxs("div",{className:"text-center mb-8",children:[Q.jsx("div",{className:"inline-flex p-4 bg-gradient-to-r from-primary-500 to-emerald-500 rounded-2xl mb-4 group-hover:scale-110 transition-transform",children:Q.jsx(IT,{className:"w-8 h-8 text-white"})}),Q.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Creating Sustainable Long Term Income"}),Q.jsx("p",{className:"text-slate-300 leading-relaxed",children:"Build tax-free dividend income streams through strategic TFSA investing, DRIP strategies, and proven Canadian dividend stocks."})]}),Q.jsx("div",{className:"space-y-4 mb-8",children:Q.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-4",children:[Q.jsxs("h4",{className:"font-semibold text-white mb-2 flex items-center gap-2",children:[Q.jsx(dT,{className:"w-4 h-4 text-primary-400"}),"TFSA Strategies"]}),Q.jsxs("ul",{className:"space-y-2 text-sm text-slate-300",children:[Q.jsxs("li",{className:"flex items-center gap-2",children:[Q.jsx(yT,{className:"w-3 h-3 text-green-400"}),"DRIP Calculator & Analysis"]}),Q.jsxs("li",{className:"flex items-center gap-2",children:[Q.jsx(yT,{className:"w-3 h-3 text-green-400"}),"2025 Investment Guide ($7,000 limit)"]}),Q.jsxs("li",{className:"flex items-center gap-2",children:[Q.jsx(yT,{className:"w-3 h-3 text-green-400"}),"Canadian Dividend Stock Research"]})]})]})}),Q.jsxs("div",{className:"space-y-3",children:[Q.jsxs(xd,{to:"/tfsa/drip-calculator",className:"block w-full btn-primary text-center group",children:["Start DRIP Calculator",Q.jsx(uT,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]}),Q.jsx(xd,{to:"/tfsa/guide",className:"block w-full btn-secondary text-center",children:"Read TFSA Guide"})]})]}),Q.jsxs("div",{className:"group card hover:scale-105 transition-all duration-300",children:[Q.jsxs("div",{className:"text-center mb-8",children:[Q.jsx("div",{className:"inline-flex p-4 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl mb-4 group-hover:scale-110 transition-transform",children:Q.jsx(jT,{className:"w-8 h-8 text-white"})}),Q.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Saving Money"}),Q.jsx("p",{className:"text-slate-300 leading-relaxed",children:"Optimize your daily expenses, reduce costs, and find more money to invest through smart budgeting and expense tracking."})]}),Q.jsx("div",{className:"space-y-4 mb-8",children:Q.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-4",children:[Q.jsxs("h4",{className:"font-semibold text-white mb-2 flex items-center gap-2",children:[Q.jsx(vT,{className:"w-4 h-4 text-blue-400"}),"Smart Budgeting Tools"]}),Q.jsxs("ul",{className:"space-y-2 text-sm text-slate-300",children:[Q.jsxs("li",{className:"flex items-center gap-2",children:[Q.jsx(yT,{className:"w-3 h-3 text-green-400"}),"Expense Analysis & Optimization"]}),Q.jsxs("li",{className:"flex items-center gap-2",children:[Q.jsx(yT,{className:"w-3 h-3 text-green-400"}),"Canadian Cost-of-Living Calculator"]}),Q.jsxs("li",{className:"flex items-center gap-2",children:[Q.jsx(yT,{className:"w-3 h-3 text-green-400"}),"Mortgage vs Investment Strategies"]})]})]})}),Q.jsxs("div",{className:"space-y-3",children:[Q.jsxs(xd,{to:"/saving-money",className:"block w-full btn-primary text-center group",children:["Explore Saving Tools",Q.jsx(uT,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]}),Q.jsx("div",{className:"text-center text-sm text-slate-400",children:"Coming Soon - Advanced Features"})]})]})]})]})}),Q.jsx("section",{className:"py-20",children:Q.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[Q.jsxs("div",{className:"text-center mb-16",children:[Q.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Powerful Financial Planning Tools"}),Q.jsx("p",{className:"text-slate-300 text-lg max-w-2xl mx-auto",children:"Everything you need to plan, track, and optimize your Canadian retirement income strategy."})]}),Q.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((e,t)=>Q.jsxs("div",{className:"card group hover:scale-105 transition-all duration-300",children:[Q.jsx("div",{className:`inline-flex p-3 rounded-xl bg-gradient-to-r ${e.color} mb-4 group-hover:scale-110 transition-transform`,children:Q.jsx(e.icon,{className:"w-6 h-6 text-white"})}),Q.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:e.title}),Q.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:e.description})]},t))})]})}),Q.jsx("section",{className:"py-20 bg-gradient-to-r from-red-900/20 to-orange-900/20",children:Q.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[Q.jsxs("div",{className:"text-center mb-12",children:[Q.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"The Canadian Retirement Income Crisis"}),Q.jsx("p",{className:"text-slate-300 text-lg max-w-3xl mx-auto",children:"CPP and OAS won't cover your retirement expenses. Here's the reality every Canadian needs to face."})]}),Q.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((e,t)=>Q.jsxs("div",{className:"text-center p-6 bg-slate-800/30 rounded-xl",children:[Q.jsx("div",{className:`text-3xl font-bold ${e.color} mb-2`,children:e.value}),Q.jsx("div",{className:"text-slate-400 text-sm",children:e.label})]},t))}),Q.jsxs("div",{className:"text-center mt-12",children:[Q.jsx("p",{className:"text-slate-300 mb-6 max-w-3xl mx-auto",children:"With average monthly expenses of $3,500+ in major Canadian cities and CPP providing just $899/month, there's a massive income gap. TFSA dividend investing helps bridge this gap with tax-free income."}),Q.jsxs(xd,{to:"/tfsa/drip-calculator",className:"btn-primary",children:["Calculate Your TFSA Strategy",Q.jsx(uT,{className:"w-5 h-5 ml-2"})]})]})]})}),Q.jsx("section",{className:"py-20 bg-gradient-to-r from-primary-600/20 to-blue-600/20",children:Q.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[Q.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Ready to Build Your Financial Future?"}),Q.jsx("p",{className:"text-xl text-slate-300 mb-8",children:"Join thousands of Canadians using our tools to plan their retirement income. Start calculating your TFSA growth potential today."}),Q.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[Q.jsxs(xd,{to:"/register",className:"btn-primary",children:["Create Free Account",Q.jsx(DT,{className:"w-5 h-5 ml-2"})]}),Q.jsx(xd,{to:"/tfsa/drip-calculator",className:"btn-secondary",children:"Try Calculator First"})]})]})})]})}function VT(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=VT(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function $T(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=VT(e))&&(r&&(r+=" "),r+=t);return r}var qT=Array.isArray,HT="object"==typeof t&&t&&t.Object===Object&&t,WT=HT,GT="object"==typeof self&&self&&self.Object===Object&&self,KT=WT||GT||Function("return this")(),YT=KT.Symbol,XT=YT,QT=Object.prototype,JT=QT.hasOwnProperty,ZT=QT.toString,ej=XT?XT.toStringTag:void 0;var tj=function(e){var t=JT.call(e,ej),n=e[ej];try{e[ej]=void 0;var r=!0}catch(Kd){}var i=ZT.call(e);return r&&(t?e[ej]=n:delete e[ej]),i},nj=Object.prototype.toString;var rj=tj,ij=function(e){return nj.call(e)},oj=YT?YT.toStringTag:void 0;var aj=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":oj&&oj in Object(e)?rj(e):ij(e)};var sj=function(e){return null!=e&&"object"==typeof e},lj=aj,cj=sj;var uj=function(e){return"symbol"==typeof e||cj(e)&&"[object Symbol]"==lj(e)},hj=qT,dj=uj,fj=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pj=/^\w*$/;var mj=function(e,t){if(hj(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!dj(e))||(pj.test(e)||!fj.test(e)||null!=t&&e in Object(t))};var yj=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const gj=n(yj);var vj=aj,bj=yj;var xj=function(e){if(!bj(e))return!1;var t=vj(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const wj=n(xj);var Sj,Ej=KT["__core-js_shared__"],kj=(Sj=/[^.]+$/.exec(Ej&&Ej.keys&&Ej.keys.IE_PROTO||""))?"Symbol(src)_1."+Sj:"";var _j=function(e){return!!kj&&kj in e},Oj=Function.prototype.toString;var Tj=function(e){if(null!=e){try{return Oj.call(e)}catch(Kd){}try{return e+""}catch(Kd){}}return""},jj=xj,Cj=_j,Nj=yj,Pj=Tj,Aj=/^\[object .+?Constructor\]$/,Ij=Function.prototype,Mj=Object.prototype,Dj=Ij.toString,Rj=Mj.hasOwnProperty,Lj=RegExp("^"+Dj.call(Rj).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Fj=function(e){return!(!Nj(e)||Cj(e))&&(jj(e)?Lj:Aj).test(Pj(e))},Uj=function(e,t){return null==e?void 0:e[t]};var zj=function(e,t){var n=Uj(e,t);return Fj(n)?n:void 0},Bj=zj(Object,"create"),Vj=Bj;var $j=function(){this.__data__=Vj?Vj(null):{},this.size=0};var qj=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hj=Bj,Wj=Object.prototype.hasOwnProperty;var Gj=function(e){var t=this.__data__;if(Hj){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Wj.call(t,e)?t[e]:void 0},Kj=Bj,Yj=Object.prototype.hasOwnProperty;var Xj=Bj;var Qj=$j,Jj=qj,Zj=Gj,eC=function(e){var t=this.__data__;return Kj?void 0!==t[e]:Yj.call(t,e)},tC=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Xj&&void 0===t?"__lodash_hash_undefined__":t,this};function nC(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}nC.prototype.clear=Qj,nC.prototype.delete=Jj,nC.prototype.get=Zj,nC.prototype.has=eC,nC.prototype.set=tC;var rC=nC;var iC=function(){this.__data__=[],this.size=0};var oC=function(e,t){return e===t||e!=e&&t!=t},aC=oC;var sC=function(e,t){for(var n=e.length;n--;)if(aC(e[n][0],t))return n;return-1},lC=sC,cC=Array.prototype.splice;var uC=sC;var hC=sC;var dC=sC;var fC=iC,pC=function(e){var t=this.__data__,n=lC(t,e);return!(n<0)&&(n==t.length-1?t.pop():cC.call(t,n,1),--this.size,!0)},mC=function(e){var t=this.__data__,n=uC(t,e);return n<0?void 0:t[n][1]},yC=function(e){return hC(this.__data__,e)>-1},gC=function(e,t){var n=this.__data__,r=dC(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function vC(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}vC.prototype.clear=fC,vC.prototype.delete=pC,vC.prototype.get=mC,vC.prototype.has=yC,vC.prototype.set=gC;var bC=vC,xC=zj(KT,"Map"),wC=rC,SC=bC,EC=xC;var kC=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var _C=function(e,t){var n=e.__data__;return kC(t)?n["string"==typeof t?"string":"hash"]:n.map},OC=_C;var TC=_C;var jC=_C;var CC=_C;var NC=function(){this.size=0,this.__data__={hash:new wC,map:new(EC||SC),string:new wC}},PC=function(e){var t=OC(this,e).delete(e);return this.size-=t?1:0,t},AC=function(e){return TC(this,e).get(e)},IC=function(e){return jC(this,e).has(e)},MC=function(e,t){var n=CC(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function DC(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}DC.prototype.clear=NC,DC.prototype.delete=PC,DC.prototype.get=AC,DC.prototype.has=IC,DC.prototype.set=MC;var RC=DC,LC=RC;function FC(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(FC.Cache||LC),n}FC.Cache=LC;var UC=FC;const zC=n(UC);var BC=UC;var VC=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$C=/\\(\\)?/g,qC=function(e){var t=BC(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(VC,function(e,n,r,i){t.push(r?i.replace($C,"$1"):n||e)}),t});var HC=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},WC=HC,GC=qT,KC=uj,YC=YT?YT.prototype:void 0,XC=YC?YC.toString:void 0;var QC=function e(t){if("string"==typeof t)return t;if(GC(t))return WC(t,e)+"";if(KC(t))return XC?XC.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},JC=QC;var ZC=function(e){return null==e?"":JC(e)},eN=qT,tN=mj,nN=qC,rN=ZC;var iN=function(e,t){return eN(e)?e:tN(e,t)?[e]:nN(rN(e))},oN=uj;var aN=function(e){if("string"==typeof e||oN(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},sN=iN,lN=aN;var cN=function(e,t){for(var n=0,r=(t=sN(t,e)).length;null!=e&&n<r;)e=e[lN(t[n++])];return n&&n==r?e:void 0},uN=cN;var hN=function(e,t,n){var r=null==e?void 0:uN(e,t);return void 0===r?n:r};const dN=n(hN);const fN=n(function(e){return null==e});var pN=aj,mN=qT,yN=sj;const gN=n(function(e){return"string"==typeof e||!mN(e)&&yN(e)&&"[object String]"==pN(e)});var vN,bN={exports:{}},xN={},wN=Symbol.for("react.element"),SN=Symbol.for("react.portal"),EN=Symbol.for("react.fragment"),kN=Symbol.for("react.strict_mode"),_N=Symbol.for("react.profiler"),ON=Symbol.for("react.provider"),TN=Symbol.for("react.context"),jN=Symbol.for("react.server_context"),CN=Symbol.for("react.forward_ref"),NN=Symbol.for("react.suspense"),PN=Symbol.for("react.suspense_list"),AN=Symbol.for("react.memo"),IN=Symbol.for("react.lazy"),MN=Symbol.for("react.offscreen");function DN(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case wN:switch(e=e.type){case EN:case _N:case kN:case NN:case PN:return e;default:switch(e=e&&e.$$typeof){case jN:case TN:case CN:case IN:case AN:case ON:return e;default:return t}}case SN:return t}}}vN=Symbol.for("react.module.reference"),xN.ContextConsumer=TN,xN.ContextProvider=ON,xN.Element=wN,xN.ForwardRef=CN,xN.Fragment=EN,xN.Lazy=IN,xN.Memo=AN,xN.Portal=SN,xN.Profiler=_N,xN.StrictMode=kN,xN.Suspense=NN,xN.SuspenseList=PN,xN.isAsyncMode=function(){return!1},xN.isConcurrentMode=function(){return!1},xN.isContextConsumer=function(e){return DN(e)===TN},xN.isContextProvider=function(e){return DN(e)===ON},xN.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===wN},xN.isForwardRef=function(e){return DN(e)===CN},xN.isFragment=function(e){return DN(e)===EN},xN.isLazy=function(e){return DN(e)===IN},xN.isMemo=function(e){return DN(e)===AN},xN.isPortal=function(e){return DN(e)===SN},xN.isProfiler=function(e){return DN(e)===_N},xN.isStrictMode=function(e){return DN(e)===kN},xN.isSuspense=function(e){return DN(e)===NN},xN.isSuspenseList=function(e){return DN(e)===PN},xN.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===EN||e===_N||e===kN||e===NN||e===PN||e===MN||"object"==typeof e&&null!==e&&(e.$$typeof===IN||e.$$typeof===AN||e.$$typeof===ON||e.$$typeof===TN||e.$$typeof===CN||e.$$typeof===vN||void 0!==e.getModuleId)},xN.typeOf=DN,bN.exports=xN;var RN=bN.exports,LN=aj,FN=sj;var UN=function(e){return"number"==typeof e||FN(e)&&"[object Number]"==LN(e)};const zN=n(UN);var BN=UN;const VN=n(function(e){return BN(e)&&e!=+e});var $N=function(e){return 0===e?0:e>0?1:-1},qN=function(e){return gN(e)&&e.indexOf("%")===e.length-1},HN=function(e){return zN(e)&&!VN(e)},WN=function(e){return HN(e)||gN(e)},GN=0,KN=function(e){var t=++GN;return"".concat(e||"").concat(t)},YN=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!HN(e)&&!gN(e))return r;if(qN(e)){var o=e.indexOf("%");n=t*parseFloat(e.slice(0,o))/100}else n=+e;return VN(n)&&(n=r),i&&n>t&&(n=t),n},XN=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},QN=function(e,t){return HN(e)&&HN(t)?function(n){return e+n*(t-e)}:function(){return t}};function JN(e,t,n){return e&&e.length?e.find(function(e){return e&&("function"==typeof t?t(e):dN(e,t))===n}):null}var ZN=function(e,t){return HN(e)&&HN(t)?e-t:gN(e)&&gN(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))};function eP(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function tP(e){return(tP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var nP=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],rP=["points","pathLength"],iP={svg:["viewBox","children"],polygon:rP,polyline:rP},oP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],aP=function(e,t){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var n=e;if(B.isValidElement(e)&&(n=e.props),!gj(n))return null;var r={};return Object.keys(n).forEach(function(e){oP.includes(e)&&(r[e]=t||function(t){return n[e](n,t)})}),r},sP=function(e,t,n){if(!gj(e)||"object"!==tP(e))return null;var r=null;return Object.keys(e).forEach(function(i){var o=e[i];oP.includes(i)&&"function"==typeof o&&(r||(r={}),r[i]=function(e,t,n){return function(r){return e(t,n,r),null}}(o,t,n))}),r},lP=["children"],cP=["children"];function uP(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hP(e){return(hP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var dP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},fP=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":""},pP=null,mP=null,yP=function e(t){if(t===pP&&Array.isArray(mP))return mP;var n=[];return B.Children.forEach(t,function(t){fN(t)||(RN.isFragment(t)?n=n.concat(e(t.props.children)):n.push(t))}),mP=n,pP=t,n};function gP(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(function(e){return fP(e)}):[fP(t)],yP(e).forEach(function(e){var t=dN(e,"type.displayName")||dN(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}function vP(e,t){var n=gP(e,t);return n&&n[0]}var bP=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!HN(n)||n<=0||!HN(r)||r<=0)},xP=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],wP=function(e,t,n){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if(B.isValidElement(e)&&(r=e.props),!gj(r))return null;var i={};return Object.keys(r).forEach(function(e){var o;(function(e,t,n,r){var i,o=null!==(i=null==iP?void 0:iP[r])&&void 0!==i?i:[];return t.startsWith("data-")||!wj(e)&&(r&&o.includes(t)||nP.includes(t))||n&&oP.includes(t)})(null===(o=r)||void 0===o?void 0:o[e],e,t,n)&&(i[e]=r[e])}),i},SP=function e(t,n){if(t===n)return!0;var r=B.Children.count(t);if(r!==B.Children.count(n))return!1;if(0===r)return!0;if(1===r)return EP(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=t[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!e(o,a))return!1}else if(!EP(o,a))return!1}return!0},EP=function(e,t){if(fN(e)&&fN(t))return!0;if(!fN(e)&&!fN(t)){var n=e.props||{},r=n.children,i=uP(n,lP),o=t.props||{},a=o.children,s=uP(o,cP);return r&&a?eP(i,s)&&SP(r,a):!r&&!a&&eP(i,s)}return!1},kP=function(e,t){var n=[],r={};return yP(e).forEach(function(e,i){if(function(e){return e&&e.type&&gN(e.type)&&xP.indexOf(e.type)>=0}(e))n.push(e);else if(e){var o=fP(e.type),a=t[o]||{},s=a.handler,l=a.once;if(s&&(!l||!r[o])){var c=s(e,o,i);n.push(c),r[o]=!0}}}),n},_P=["children","width","height","viewBox","className","style","title","desc"];function OP(){return OP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OP.apply(this,arguments)}function TP(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jP(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,o=e.className,a=e.style,s=e.title,l=e.desc,c=TP(e,_P),u=i||{width:n,height:r,x:0,y:0},h=$T("recharts-surface",o);return V.createElement("svg",OP({},wP(c,!0,"svg"),{className:h,width:n,height:r,style:a,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),V.createElement("title",null,s),V.createElement("desc",null,l),t)}var CP=["children","className"];function NP(){return NP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NP.apply(this,arguments)}function PP(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var AP=V.forwardRef(function(e,t){var n=e.children,r=e.className,i=PP(e,CP),o=$T("recharts-layer",r);return V.createElement("g",NP({className:o},wP(i,!0),{ref:t}),n)}),IP=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]};var MP=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o};var DP=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:MP(e,t,n)},RP=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var LP=function(e){return RP.test(e)};var FP=function(e){return e.split("")},UP="\\ud800-\\udfff",zP="["+UP+"]",BP="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",VP="\\ud83c[\\udffb-\\udfff]",$P="[^"+UP+"]",qP="(?:\\ud83c[\\udde6-\\uddff]){2}",HP="[\\ud800-\\udbff][\\udc00-\\udfff]",WP="(?:"+BP+"|"+VP+")"+"?",GP="[\\ufe0e\\ufe0f]?",KP=GP+WP+("(?:\\u200d(?:"+[$P,qP,HP].join("|")+")"+GP+WP+")*"),YP="(?:"+[$P+BP+"?",BP,qP,HP,zP].join("|")+")",XP=RegExp(VP+"(?="+VP+")|"+YP+KP,"g");var QP=FP,JP=LP,ZP=function(e){return e.match(XP)||[]};var eA=DP,tA=LP,nA=function(e){return JP(e)?ZP(e):QP(e)},rA=ZC;const iA=n(function(e){return function(t){t=rA(t);var n=tA(t)?nA(t):void 0,r=n?n[0]:t.charAt(0),i=n?eA(n,1).join(""):t.slice(1);return r[e]()+i}}("toUpperCase"));function oA(e){return function(){return e}}const aA=Math.cos,sA=Math.sin,lA=Math.sqrt,cA=Math.PI,uA=2*cA,hA=Math.PI,dA=2*hA,fA=1e-6,pA=dA-fA;function mA(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class yA{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?mA:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return mA;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,o){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,s=n-e,l=r-t,c=o-e,u=a-t,h=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(h>fA)if(Math.abs(u*s-l*c)>fA&&i){let d=n-o,f=r-a,p=s*s+l*l,m=d*d+f*f,y=Math.sqrt(p),g=Math.sqrt(h),v=i*Math.tan((hA-Math.acos((p+h-m)/(2*y*g)))/2),b=v/g,x=v/y;Math.abs(b-1)>fA&&this._append`L${e+b*c},${t+b*u}`,this._append`A${i},${i},0,0,${+(u*d>c*f)},${this._x1=e+x*s},${this._y1=t+x*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,i,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(r),s=n*Math.sin(r),l=e+a,c=t+s,u=1^o,h=o?r-i:i-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>fA||Math.abs(this._y1-c)>fA)&&this._append`L${l},${c}`,n&&(h<0&&(h=h%dA+dA),h>pA?this._append`A${n},${n},0,1,${u},${e-a},${t-s}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:h>fA&&this._append`A${n},${n},0,${+(h>=hA)},${u},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function gA(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new yA(t)}function vA(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function bA(e){this._context=e}function xA(e){return new bA(e)}function wA(e){return e[0]}function SA(e){return e[1]}function EA(e,t){var n=oA(!0),r=null,i=xA,o=null,a=gA(s);function s(s){var l,c,u,h=(s=vA(s)).length,d=!1;for(null==r&&(o=i(u=a())),l=0;l<=h;++l)!(l<h&&n(c=s[l],l,s))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(c,l,s),+t(c,l,s));if(u)return o=null,u+""||null}return e="function"==typeof e?e:void 0===e?wA:oA(e),t="function"==typeof t?t:void 0===t?SA:oA(t),s.x=function(t){return arguments.length?(e="function"==typeof t?t:oA(+t),s):e},s.y=function(e){return arguments.length?(t="function"==typeof e?e:oA(+e),s):t},s.defined=function(e){return arguments.length?(n="function"==typeof e?e:oA(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),s):r},s}function kA(e,t,n){var r=null,i=oA(!0),o=null,a=xA,s=null,l=gA(c);function c(c){var u,h,d,f,p,m=(c=vA(c)).length,y=!1,g=new Array(m),v=new Array(m);for(null==o&&(s=a(p=l())),u=0;u<=m;++u){if(!(u<m&&i(f=c[u],u,c))===y)if(y=!y)h=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),d=u-1;d>=h;--d)s.point(g[d],v[d]);s.lineEnd(),s.areaEnd()}y&&(g[u]=+e(f,u,c),v[u]=+t(f,u,c),s.point(r?+r(f,u,c):g[u],n?+n(f,u,c):v[u]))}if(p)return s=null,p+""||null}function u(){return EA().defined(i).curve(a).context(o)}return e="function"==typeof e?e:void 0===e?wA:oA(+e),t="function"==typeof t?t:oA(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?SA:oA(+n),c.x=function(t){return arguments.length?(e="function"==typeof t?t:oA(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:oA(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:oA(+e),c):r},c.y=function(e){return arguments.length?(t="function"==typeof e?e:oA(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:oA(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:oA(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"==typeof e?e:oA(!!e),c):i},c.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),c):a},c.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),c):o},c}bA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};class _A{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}const OA={draw(e,t){const n=lA(t/cA);e.moveTo(n,0),e.arc(0,0,n,0,uA)}},TA={draw(e,t){const n=lA(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},jA=lA(1/3),CA=2*jA,NA={draw(e,t){const n=lA(t/CA),r=n*jA;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},PA={draw(e,t){const n=lA(t),r=-n/2;e.rect(r,r,n,n)}},AA=sA(cA/10)/sA(7*cA/10),IA=sA(uA/10)*AA,MA=-aA(uA/10)*AA,DA={draw(e,t){const n=lA(.8908130915292852*t),r=IA*n,i=MA*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const t=uA*o/5,a=aA(t),s=sA(t);e.lineTo(s*n,-a*n),e.lineTo(a*r-s*i,s*r+a*i)}e.closePath()}},RA=lA(3),LA={draw(e,t){const n=-lA(t/(3*RA));e.moveTo(0,2*n),e.lineTo(-RA*n,-n),e.lineTo(RA*n,-n),e.closePath()}},FA=-.5,UA=lA(3)/2,zA=1/lA(12),BA=3*(zA/2+1),VA={draw(e,t){const n=lA(t/BA),r=n/2,i=n*zA,o=r,a=n*zA+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(FA*r-UA*i,UA*r+FA*i),e.lineTo(FA*o-UA*a,UA*o+FA*a),e.lineTo(FA*s-UA*l,UA*s+FA*l),e.lineTo(FA*r+UA*i,FA*i-UA*r),e.lineTo(FA*o+UA*a,FA*a-UA*o),e.lineTo(FA*s+UA*l,FA*l-UA*s),e.closePath()}};function $A(){}function qA(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function HA(e){this._context=e}function WA(e){this._context=e}function GA(e){this._context=e}function KA(e){this._context=e}function YA(e){return e<0?-1:1}function XA(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(YA(o)+YA(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function QA(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function JA(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function ZA(e){this._context=e}function eI(e){this._context=new tI(e)}function tI(e){this._context=e}function nI(e){this._context=e}function rI(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function iI(e,t){this._context=e,this._t=t}function oI(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function aI(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function sI(e,t){return e[t]}function lI(e){const t=[];return t.key=e,t}function cI(e){return(cI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}HA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qA(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qA(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},WA.prototype={areaStart:$A,areaEnd:$A,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:qA(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},GA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:qA(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},KA.prototype={areaStart:$A,areaEnd:$A,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},ZA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:JA(this,this._t0,QA(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,JA(this,QA(this,n=XA(this,e,t)),n);break;default:JA(this,this._t0,n=XA(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(eI.prototype=Object.create(ZA.prototype)).point=function(e,t){ZA.prototype.point.call(this,t,e)},tI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},nI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=rI(e),i=rI(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},iI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var uI=["type","size","sizeType"];function hI(){return hI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hI.apply(this,arguments)}function dI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dI(Object(n),!0).forEach(function(t){pI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pI(e,t,n){return t=function(e){var t=function(e,t){if("object"!=cI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=cI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cI(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mI(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var yI={symbolCircle:OA,symbolCross:TA,symbolDiamond:NA,symbolSquare:PA,symbolStar:DA,symbolTriangle:LA,symbolWye:VA},gI=Math.PI/180,vI=function(e){var t,n,r=e.type,i=void 0===r?"circle":r,o=e.size,a=void 0===o?64:o,s=e.sizeType,l=void 0===s?"area":s,c=fI(fI({},mI(e,uI)),{},{type:i,size:a,sizeType:l}),u=c.className,h=c.cx,d=c.cy,f=wP(c,!0);return h===+h&&d===+d&&a===+a?V.createElement("path",hI({},f,{className:$T("recharts-symbols",u),transform:"translate(".concat(h,", ").concat(d,")"),d:(t=function(e){var t="symbol".concat(iA(e));return yI[t]||OA}(i),n=function(e,t){let n=null,r=gA(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"==typeof e?e:oA(e||OA),t="function"==typeof t?t:oA(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"==typeof t?t:oA(t),i):e},i.size=function(e){return arguments.length?(t="function"==typeof e?e:oA(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(t).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*gI;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(a,l,i)),n())})):null};function bI(e){return(bI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xI(){return xI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xI.apply(this,arguments)}function wI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function SI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jI(r.key),r)}}function EI(e,t,n){return t=_I(t),function(e,t){if(t&&("object"===bI(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,kI()?Reflect.construct(t,n||[],_I(e).constructor):t.apply(e,n))}function kI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(kI=function(){return!!e})()}function _I(e){return(_I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function OI(e,t){return(OI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function TI(e,t,n){return(t=jI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jI(e){var t=function(e,t){if("object"!=bI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bI(t)?t:t+""}vI.registerSymbol=function(e,t){yI["symbol".concat(iA(e))]=t};var CI=32,NI=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),EI(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OI(e,t)}(e,B.PureComponent),t=e,n=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,r=CI/6,i=CI/3,o=e.inactive?t:e.color;if("plainline"===e.type)return V.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:CI,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return V.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(n,"h").concat(i,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(2*i,",").concat(n,"\n            H").concat(CI,"M").concat(2*i,",").concat(n,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(i,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return V.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(4,"h").concat(CI,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(V.isValidElement(e.legendIcon)){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wI(Object(n),!0).forEach(function(t){TI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete a.legendIcon,V.cloneElement(e.legendIcon,a)}return V.createElement(vI,{fill:o,cx:n,cy:n,size:CI,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,r=t.iconSize,i=t.layout,o=t.formatter,a=t.inactiveColor,s={x:0,y:0,width:CI,height:CI},l={display:"horizontal"===i?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map(function(t,n){var i=t.formatter||o,u=$T(TI(TI({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var h=wj(t.value)?null:t.value;IP(!wj(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var d=t.inactive?a:t.color;return V.createElement("li",xI({className:u,style:l,key:"legend-item-".concat(n)},sP(e.props,t,n)),V.createElement(jP,{width:r,height:r,viewBox:s,style:c},e.renderIcon(t)),V.createElement("span",{className:"recharts-legend-item-text",style:{color:d}},i?i(h,t,n):h))})}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,r=e.align;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return V.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}],n&&SI(t.prototype,n),r&&SI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();TI(NI,"displayName","Legend"),TI(NI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var PI=bC;var AI=bC,II=xC,MI=RC;var DI=bC,RI=function(){this.__data__=new PI,this.size=0},LI=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},FI=function(e){return this.__data__.get(e)},UI=function(e){return this.__data__.has(e)},zI=function(e,t){var n=this.__data__;if(n instanceof AI){var r=n.__data__;if(!II||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new MI(r)}return n.set(e,t),this.size=n.size,this};function BI(e){var t=this.__data__=new DI(e);this.size=t.size}BI.prototype.clear=RI,BI.prototype.delete=LI,BI.prototype.get=FI,BI.prototype.has=UI,BI.prototype.set=zI;var VI=BI;var $I=RC,qI=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},HI=function(e){return this.__data__.has(e)};function WI(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new $I;++t<n;)this.add(e[t])}WI.prototype.add=WI.prototype.push=qI,WI.prototype.has=HI;var GI=WI;var KI=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var YI=function(e,t){return e.has(t)},XI=GI,QI=KI,JI=YI;var ZI=function(e,t,n,r,i,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var h=-1,d=!0,f=2&n?new XI:void 0;for(o.set(e,t),o.set(t,e);++h<s;){var p=e[h],m=t[h];if(r)var y=a?r(m,p,h,t,e,o):r(p,m,h,e,t,o);if(void 0!==y){if(y)continue;d=!1;break}if(f){if(!QI(t,function(e,t){if(!JI(f,t)&&(p===e||i(p,e,n,r,o)))return f.push(t)})){d=!1;break}}else if(p!==m&&!i(p,m,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d};var eM=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},tM=KT.Uint8Array,nM=oC,rM=ZI,iM=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n},oM=eM,aM=YT?YT.prototype:void 0,sM=aM?aM.valueOf:void 0;var lM=function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new tM(e),new tM(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return nM(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=iM;case"[object Set]":var l=1&r;if(s||(s=oM),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var u=rM(s(e),s(t),r,i,o,a);return a.delete(e),u;case"[object Symbol]":if(sM)return sM.call(e)==sM.call(t)}return!1};var cM=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},uM=cM,hM=qT;var dM=function(e,t,n){var r=t(e);return hM(e)?r:uM(r,n(e))};var fM=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o},pM=function(){return[]},mM=Object.prototype.propertyIsEnumerable,yM=Object.getOwnPropertySymbols,gM=yM?function(e){return null==e?[]:(e=Object(e),fM(yM(e),function(t){return mM.call(e,t)}))}:pM;var vM=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},bM=aj,xM=sj;var wM,SM,EM,kM,_M,OM,TM,jM,CM=function(e){return xM(e)&&"[object Arguments]"==bM(e)},NM=sj,PM=Object.prototype,AM=PM.hasOwnProperty,IM=PM.propertyIsEnumerable,MM=CM(function(){return arguments}())?CM:function(e){return NM(e)&&AM.call(e,"callee")&&!IM.call(e,"callee")},DM={exports:{}};wM=DM,EM=KT,kM=function(){return!1},_M=(SM=DM.exports)&&!SM.nodeType&&SM,OM=_M&&wM&&!wM.nodeType&&wM,TM=OM&&OM.exports===_M?EM.Buffer:void 0,jM=(TM?TM.isBuffer:void 0)||kM,wM.exports=jM;var RM=DM.exports,LM=/^(?:0|[1-9]\d*)$/;var FM=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&LM.test(e))&&e>-1&&e%1==0&&e<t};var UM=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},zM=aj,BM=UM,VM=sj,$M={};$M["[object Float32Array]"]=$M["[object Float64Array]"]=$M["[object Int8Array]"]=$M["[object Int16Array]"]=$M["[object Int32Array]"]=$M["[object Uint8Array]"]=$M["[object Uint8ClampedArray]"]=$M["[object Uint16Array]"]=$M["[object Uint32Array]"]=!0,$M["[object Arguments]"]=$M["[object Array]"]=$M["[object ArrayBuffer]"]=$M["[object Boolean]"]=$M["[object DataView]"]=$M["[object Date]"]=$M["[object Error]"]=$M["[object Function]"]=$M["[object Map]"]=$M["[object Number]"]=$M["[object Object]"]=$M["[object RegExp]"]=$M["[object Set]"]=$M["[object String]"]=$M["[object WeakMap]"]=!1;var qM=function(e){return VM(e)&&BM(e.length)&&!!$M[zM(e)]};var HM=function(e){return function(t){return e(t)}},WM={exports:{}};!function(e,t){var n=HT,r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,o=i&&i.exports===r&&n.process,a=function(){try{var e=i&&i.require&&i.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(Kd){}}();e.exports=a}(WM,WM.exports);var GM=WM.exports,KM=qM,YM=HM,XM=GM&&GM.isTypedArray,QM=XM?YM(XM):KM,JM=vM,ZM=MM,eD=qT,tD=RM,nD=FM,rD=QM,iD=Object.prototype.hasOwnProperty;var oD=function(e,t){var n=eD(e),r=!n&&ZM(e),i=!n&&!r&&tD(e),o=!n&&!r&&!i&&rD(e),a=n||r||i||o,s=a?JM(e.length,String):[],l=s.length;for(var c in e)!t&&!iD.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||nD(c,l))||s.push(c);return s},aD=Object.prototype;var sD=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||aD)};var lD=function(e,t){return function(n){return e(t(n))}},cD=lD(Object.keys,Object),uD=sD,hD=cD,dD=Object.prototype.hasOwnProperty;var fD=xj,pD=UM;var mD=function(e){return null!=e&&pD(e.length)&&!fD(e)},yD=oD,gD=function(e){if(!uD(e))return hD(e);var t=[];for(var n in Object(e))dD.call(e,n)&&"constructor"!=n&&t.push(n);return t},vD=mD;var bD=function(e){return vD(e)?yD(e):gD(e)},xD=dM,wD=gM,SD=bD;var ED=function(e){return xD(e,SD,wD)},kD=Object.prototype.hasOwnProperty;var _D=function(e,t,n,r,i,o){var a=1&n,s=ED(e),l=s.length;if(l!=ED(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:kD.call(t,u)))return!1}var h=o.get(e),d=o.get(t);if(h&&d)return h==t&&d==e;var f=!0;o.set(e,t),o.set(t,e);for(var p=a;++c<l;){var m=e[u=s[c]],y=t[u];if(r)var g=a?r(y,m,u,t,e,o):r(m,y,u,e,t,o);if(!(void 0===g?m===y||i(m,y,n,r,o):g)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var v=e.constructor,b=t.constructor;v==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(f=!1)}return o.delete(e),o.delete(t),f},OD=zj(KT,"DataView"),TD=zj(KT,"Promise"),jD=zj(KT,"Set"),CD=OD,ND=xC,PD=TD,AD=jD,ID=zj(KT,"WeakMap"),MD=aj,DD=Tj,RD="[object Map]",LD="[object Promise]",FD="[object Set]",UD="[object WeakMap]",zD="[object DataView]",BD=DD(CD),VD=DD(ND),$D=DD(PD),qD=DD(AD),HD=DD(ID),WD=MD;(CD&&WD(new CD(new ArrayBuffer(1)))!=zD||ND&&WD(new ND)!=RD||PD&&WD(PD.resolve())!=LD||AD&&WD(new AD)!=FD||ID&&WD(new ID)!=UD)&&(WD=function(e){var t=MD(e),n="[object Object]"==t?e.constructor:void 0,r=n?DD(n):"";if(r)switch(r){case BD:return zD;case VD:return RD;case $D:return LD;case qD:return FD;case HD:return UD}return t});var GD=VI,KD=ZI,YD=lM,XD=_D,QD=WD,JD=qT,ZD=RM,eR=QM,tR="[object Arguments]",nR="[object Array]",rR="[object Object]",iR=Object.prototype.hasOwnProperty;var oR=function(e,t,n,r,i,o){var a=JD(e),s=JD(t),l=a?nR:QD(e),c=s?nR:QD(t),u=(l=l==tR?rR:l)==rR,h=(c=c==tR?rR:c)==rR,d=l==c;if(d&&ZD(e)){if(!ZD(t))return!1;a=!0,u=!1}if(d&&!u)return o||(o=new GD),a||eR(e)?KD(e,t,n,r,i,o):YD(e,t,l,n,r,i,o);if(!(1&n)){var f=u&&iR.call(e,"__wrapped__"),p=h&&iR.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,y=p?t.value():t;return o||(o=new GD),i(m,y,n,r,o)}}return!!d&&(o||(o=new GD),XD(e,t,n,r,i,o))},aR=sj;var sR=function e(t,n,r,i,o){return t===n||(null==t||null==n||!aR(t)&&!aR(n)?t!=t&&n!=n:oR(t,n,r,i,e,o))},lR=VI,cR=sR;var uR=yj;var hR=function(e){return e==e&&!uR(e)},dR=hR,fR=bD;var pR=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}},mR=function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var l=(s=n[i])[0],c=e[l],u=s[1];if(a&&s[2]){if(void 0===c&&!(l in e))return!1}else{var h=new lR;if(r)var d=r(c,u,l,e,t,h);if(!(void 0===d?cR(u,c,3,r,h):d))return!1}}return!0},yR=function(e){for(var t=fR(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,dR(i)]}return t},gR=pR;var vR=iN,bR=MM,xR=qT,wR=FM,SR=UM,ER=aN;var kR=function(e,t){return null!=e&&t in Object(e)},_R=function(e,t,n){for(var r=-1,i=(t=vR(t,e)).length,o=!1;++r<i;){var a=ER(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&SR(i)&&wR(a,i)&&(xR(e)||bR(e))};var OR=sR,TR=hN,jR=function(e,t){return null!=e&&_R(e,t,kR)},CR=mj,NR=hR,PR=pR,AR=aN;var IR=function(e){return e};var MR=cN;var DR=function(e){return function(t){return null==t?void 0:t[e]}},RR=function(e){return function(t){return MR(t,e)}},LR=mj,FR=aN;var UR=function(e){var t=yR(e);return 1==t.length&&t[0][2]?gR(t[0][0],t[0][1]):function(n){return n===e||mR(n,e,t)}},zR=function(e,t){return CR(e)&&NR(t)?PR(AR(e),t):function(n){var r=TR(n,e);return void 0===r&&r===t?jR(n,e):OR(t,r,3)}},BR=IR,VR=qT,$R=function(e){return LR(e)?DR(FR(e)):RR(e)};var qR=function(e){return"function"==typeof e?e:null==e?BR:"object"==typeof e?VR(e)?zR(e[0],e[1]):UR(e):$R(e)};var HR=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1};var WR=HR,GR=function(e){return e!=e},KR=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};var YR=function(e,t,n){return t==t?KR(e,t,n):WR(e,GR,n)};var XR=function(e,t){return!!(null==e?0:e.length)&&YR(e,t,0)>-1};var QR=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1};var JR=jD,ZR=function(){},eL=JR&&1/eM(new JR([,-0]))[1]==1/0?function(e){return new JR(e)}:ZR,tL=GI,nL=XR,rL=QR,iL=YI,oL=eL,aL=eM;var sL=qR,lL=function(e,t,n){var r=-1,i=nL,o=e.length,a=!0,s=[],l=s;if(n)a=!1,i=rL;else if(o>=200){var c=t?null:oL(e);if(c)return aL(c);a=!1,i=iL,l=new tL}else l=t?[]:s;e:for(;++r<o;){var u=e[r],h=t?t(u):u;if(u=n||0!==u?u:0,a&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue e;t&&l.push(h),s.push(u)}else i(l,h,n)||(l!==s&&l.push(h),s.push(u))}return s};const cL=n(function(e,t){return e&&e.length?lL(e,sL(t)):[]});function uL(e,t,n){return!0===t?cL(e,n):wj(t)?cL(e,t):e}function hL(e){return(hL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var dL=["ref"];function fL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fL(Object(n),!0).forEach(function(t){xL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wL(r.key),r)}}function yL(e,t,n){return t=vL(t),function(e,t){if(t&&("object"===hL(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,gL()?Reflect.construct(t,n||[],vL(e).constructor):t.apply(e,n))}function gL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(gL=function(){return!!e})()}function vL(e){return(vL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bL(e,t){return(bL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function xL(e,t,n){return(t=wL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wL(e){var t=function(e,t){if("object"!=hL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hL(t)?t:t+""}function SL(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function EL(e){return e.value}var kL=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return xL(t=yL(this,e,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bL(e,t)}(e,B.PureComponent),t=e,r=[{key:"getWithHeight",value:function(e,t){var n=pL(pL({},this.defaultProps),e.props).layout;return"vertical"===n&&HN(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(n=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?pL({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,i=r.layout,o=r.align,a=r.verticalAlign,s=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===o&&"vertical"===i?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===o?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===a?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===a?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),pL(pL({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,r=t.width,i=t.height,o=t.wrapperStyle,a=t.payloadUniqBy,s=t.payload,l=pL(pL({position:"absolute",width:r||"auto",height:i||"auto"},this.getDefaultPosition(o)),o);return V.createElement("div",{className:"recharts-legend-wrapper",style:l,ref:function(t){e.wrapperNode=t}},function(e,t){if(V.isValidElement(e))return V.cloneElement(e,t);if("function"==typeof e)return V.createElement(e,t);t.ref;var n=SL(t,dL);return V.createElement(NI,n)}(n,pL(pL({},this.props),{},{payload:uL(s,a,EL)})))}}])&&mL(t.prototype,n),r&&mL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();xL(kL,"displayName","Legend"),xL(kL,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var _L=MM,OL=qT,TL=YT?YT.isConcatSpreadable:void 0;var jL=cM,CL=function(e){return OL(e)||_L(e)||!!(TL&&e&&e[TL])};var NL=function e(t,n,r,i,o){var a=-1,s=t.length;for(r||(r=CL),o||(o=[]);++a<s;){var l=t[a];n>0&&r(l)?n>1?e(l,n-1,r,i,o):jL(o,l):i||(o[o.length]=l)}return o};var PL=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}(),AL=bD;var IL=function(e,t){return e&&PL(e,t,AL)},ML=mD;var DL=function(e,t){return function(n,r){if(null==n)return n;if(!ML(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}(IL),RL=DL,LL=mD;var FL=function(e,t){var n=-1,r=LL(e)?Array(e.length):[];return RL(e,function(e,i,o){r[++n]=t(e,i,o)}),r};var UL=uj;var zL=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=UL(e),a=void 0!==t,s=null===t,l=t==t,c=UL(t);if(!s&&!c&&!o&&e>t||o&&a&&l&&!s&&!c||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0};var BL=HC,VL=cN,$L=qR,qL=FL,HL=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e},WL=HM,GL=function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var l=zL(i[r],o[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index},KL=IR,YL=qT;var XL=function(e,t,n){t=t.length?BL(t,function(e){return YL(e)?function(t){return VL(t,1===e.length?e[0]:e)}:e}):[KL];var r=-1;t=BL(t,WL($L));var i=qL(e,function(e,n,i){return{criteria:BL(t,function(t){return t(e)}),index:++r,value:e}});return HL(i,function(e,t){return GL(e,t,n)})};var QL=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},JL=Math.max;var ZL=function(e,t,n){return t=JL(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=JL(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),QL(e,this,s)}};var eF=function(e){return function(){return e}},tF=zj,nF=function(){try{var e=tF(Object,"defineProperty");return e({},"",{}),e}catch(Kd){}}(),rF=eF,iF=nF,oF=iF?function(e,t){return iF(e,"toString",{configurable:!0,enumerable:!1,value:rF(t),writable:!0})}:IR,aF=Date.now;var sF=function(e){var t=0,n=0;return function(){var r=aF(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(oF),lF=IR,cF=ZL,uF=sF;var hF=oC,dF=mD,fF=FM,pF=yj;var mF=function(e,t,n){if(!pF(n))return!1;var r=typeof t;return!!("number"==r?dF(n)&&fF(t,n.length):"string"==r&&t in n)&&hF(n[t],e)},yF=NL,gF=XL,vF=mF;const bF=n(function(e,t){return uF(cF(e,t,lF),e+"")}(function(e,t){if(null==e)return[];var n=t.length;return n>1&&vF(e,t[0],t[1])?t=[]:n>2&&vF(t[0],t[1],t[2])&&(t=[t[0]]),gF(e,yF(t,1),[])}));function xF(e){return(xF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wF(){return wF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wF.apply(this,arguments)}function SF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return EF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EF(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kF(Object(n),!0).forEach(function(t){OF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function OF(e,t,n){return t=function(e){var t=function(e,t){if("object"!=xF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xF(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TF(e){return Array.isArray(e)&&WN(e[0])&&WN(e[1])?e.join(" ~ "):e}var jF=function(e){var t=e.separator,n=void 0===t?" : ":t,r=e.contentStyle,i=void 0===r?{}:r,o=e.itemStyle,a=void 0===o?{}:o,s=e.labelStyle,l=void 0===s?{}:s,c=e.payload,u=e.formatter,h=e.itemSorter,d=e.wrapperClassName,f=e.labelClassName,p=e.label,m=e.labelFormatter,y=e.accessibilityLayer,g=void 0!==y&&y,v=_F({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),b=_F({margin:0},l),x=!fN(p),w=x?p:"",S=$T("recharts-default-tooltip",d),E=$T("recharts-tooltip-label",f);x&&m&&null!=c&&(w=m(p,c));var k=g?{role:"status","aria-live":"assertive"}:{};return V.createElement("div",wF({className:S,style:v},k),V.createElement("p",{className:E,style:b},V.isValidElement(w)?w:"".concat(w)),function(){if(c&&c.length){var e=(h?bF(c,h):c).map(function(e,t){if("none"===e.type)return null;var r=_F({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},a),i=e.formatter||u||TF,o=e.value,s=e.name,l=o,h=s;if(i&&null!=l&&null!=h){var d=i(o,s,e,t,c);if(Array.isArray(d)){var f=SF(d,2);l=f[0],h=f[1]}else l=d}return V.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:r},WN(h)?V.createElement("span",{className:"recharts-tooltip-item-name"},h):null,WN(h)?V.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,V.createElement("span",{className:"recharts-tooltip-item-value"},l),V.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return V.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function CF(e){return(CF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NF(e,t,n){return t=function(e){var t=function(e,t){if("object"!=CF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=CF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==CF(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var PF="recharts-tooltip-wrapper",AF={visibility:"hidden"};function IF(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return $T(PF,NF(NF(NF(NF({},"".concat(PF,"-right"),HN(n)&&t&&HN(t.x)&&n>=t.x),"".concat(PF,"-left"),HN(n)&&t&&HN(t.x)&&n<t.x),"".concat(PF,"-bottom"),HN(r)&&t&&HN(t.y)&&r>=t.y),"".concat(PF,"-top"),HN(r)&&t&&HN(t.y)&&r<t.y))}function MF(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,a=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&HN(o[r]))return o[r];var u=n[r]-s-i,h=n[r]+i;return t[r]?a[r]?u:h:a[r]?u<l[r]?Math.max(h,l[r]):Math.max(u,l[r]):h+s>l[r]+c?Math.max(u,l[r]):Math.max(h,l[r])}function DF(e){return(DF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function LF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RF(Object(n),!0).forEach(function(t){$F(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function FF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qF(r.key),r)}}function UF(e,t,n){return t=BF(t),function(e,t){if(t&&("object"===DF(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,zF()?Reflect.construct(t,n||[],BF(e).constructor):t.apply(e,n))}function zF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(zF=function(){return!!e})()}function BF(e){return(BF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function VF(e,t){return(VF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function $F(e,t,n){return(t=qF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qF(e){var t=function(e,t){if("object"!=DF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=DF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==DF(t)?t:t+""}var HF=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return $F(t=UF(this,e,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),$F(t,"handleKeyDown",function(e){var n,r,i,o;"Escape"===e.key&&t.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=t.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(i=null===(o=t.props.coordinate)||void 0===o?void 0:o.y)&&void 0!==i?i:0}})}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VF(e,t)}(e,B.PureComponent),t=e,(n=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,i=t.animationDuration,o=t.animationEasing,a=t.children,s=t.coordinate,l=t.hasPayload,c=t.isAnimationActive,u=t.offset,h=t.position,d=t.reverseDirection,f=t.useTranslate3d,p=t.viewBox,m=t.wrapperStyle,y=function(e){var t,n,r=e.allowEscapeViewBox,i=e.coordinate,o=e.offsetTopLeft,a=e.position,s=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&i?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=MF({allowEscapeViewBox:r,coordinate:i,key:"x",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=MF({allowEscapeViewBox:r,coordinate:i,key:"y",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):AF,cssClasses:IF({translateX:t,translateY:n,coordinate:i})}}({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:h,reverseDirection:d,tooltipBox:this.state.lastBoundingBox,useTranslate3d:f,viewBox:p}),g=y.cssClasses,v=y.cssProperties,b=LF(LF({transition:c&&n?"transform ".concat(i,"ms ").concat(o):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&l?"visible":"hidden",position:"absolute",top:0,left:0},m);return V.createElement("div",{tabIndex:-1,className:g,style:b,ref:function(t){e.wrapperNode=t}},a)}}])&&FF(t.prototype,n),r&&FF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}(),WF={isSsr:!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return WF[e]},set:function(e,t){if("string"==typeof e)WF[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(t){WF[t]=e[t]})}}};function GF(e){return(GF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function YF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KF(Object(n),!0).forEach(function(t){tU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function XF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nU(r.key),r)}}function QF(e,t,n){return t=ZF(t),function(e,t){if(t&&("object"===GF(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,JF()?Reflect.construct(t,n||[],ZF(e).constructor):t.apply(e,n))}function JF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(JF=function(){return!!e})()}function ZF(e){return(ZF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eU(e,t){return(eU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tU(e,t,n){return(t=nU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nU(e){var t=function(e,t){if("object"!=GF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=GF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==GF(t)?t:t+""}function rU(e){return e.dataKey}var iU=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),QF(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eU(e,t)}(e,B.PureComponent),t=e,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,i=t.animationDuration,o=t.animationEasing,a=t.content,s=t.coordinate,l=t.filterNull,c=t.isAnimationActive,u=t.offset,h=t.payload,d=t.payloadUniqBy,f=t.position,p=t.reverseDirection,m=t.useTranslate3d,y=t.viewBox,g=t.wrapperStyle,v=null!=h?h:[];l&&v.length&&(v=uL(h.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),d,rU));var b=v.length>0;return V.createElement(HF,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:c,active:n,coordinate:s,hasPayload:b,offset:u,position:f,reverseDirection:p,useTranslate3d:m,viewBox:y,wrapperStyle:g},function(e,t){return V.isValidElement(e)?V.cloneElement(e,t):"function"==typeof e?V.createElement(e,t):V.createElement(jF,t)}(a,YF(YF({},this.props),{},{payload:v})))}}])&&XF(t.prototype,n),r&&XF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();tU(iU,"displayName","Tooltip"),tU(iU,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!WF.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var oU=KT,aU=/\s/;var sU=function(e){for(var t=e.length;t--&&aU.test(e.charAt(t)););return t},lU=/^\s+/;var cU=function(e){return e?e.slice(0,sU(e)+1).replace(lU,""):e},uU=yj,hU=uj,dU=/^[-+]0x[0-9a-f]+$/i,fU=/^0b[01]+$/i,pU=/^0o[0-7]+$/i,mU=parseInt;var yU=function(e){if("number"==typeof e)return e;if(hU(e))return NaN;if(uU(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=uU(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=cU(e);var n=fU.test(e);return n||pU.test(e)?mU(e.slice(2),n?2:8):dU.test(e)?NaN:+e},gU=yj,vU=function(){return oU.Date.now()},bU=yU,xU=Math.max,wU=Math.min;var SU=function(e,t,n){var r,i,o,a,s,l,c=0,u=!1,h=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,o=i;return r=i=void 0,c=t,a=e.apply(o,n)}function p(e){var n=e-l;return void 0===l||n>=t||n<0||h&&e-c>=o}function m(){var e=vU();if(p(e))return y(e);s=setTimeout(m,function(e){var n=t-(e-l);return h?wU(n,o-(e-c)):n}(e))}function y(e){return s=void 0,d&&r?f(e):(r=i=void 0,a)}function g(){var e=vU(),n=p(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return function(e){return c=e,s=setTimeout(m,t),u?f(e):a}(l);if(h)return clearTimeout(s),s=setTimeout(m,t),f(l)}return void 0===s&&(s=setTimeout(m,t)),a}return t=bU(t)||0,gU(n)&&(u=!!n.leading,o=(h="maxWait"in n)?xU(bU(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d),g.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=i=s=void 0},g.flush=function(){return void 0===s?a:y(vU())},g},EU=yj;const kU=n(function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return EU(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),SU(e,t,{leading:r,maxWait:t,trailing:i})});function _U(e){return(_U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function OU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function TU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OU(Object(n),!0).forEach(function(t){jU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function jU(e,t,n){return t=function(e){var t=function(e,t){if("object"!=_U(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_U(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return NU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NU(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var PU=B.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=void 0===r?{width:-1,height:-1}:r,o=e.width,a=void 0===o?"100%":o,s=e.height,l=void 0===s?"100%":s,c=e.minWidth,u=void 0===c?0:c,h=e.minHeight,d=e.maxHeight,f=e.children,p=e.debounce,m=void 0===p?0:p,y=e.id,g=e.className,v=e.onResize,b=e.style,x=void 0===b?{}:b,w=B.useRef(null),S=B.useRef();S.current=v,B.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var E=CU(B.useState({containerWidth:i.width,containerHeight:i.height}),2),k=E[0],_=E[1],O=B.useCallback(function(e,t){_(function(n){var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]);B.useEffect(function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,i=n.height;O(r,i),null===(t=S.current)||void 0===t||t.call(S,r,i)};m>0&&(e=kU(e,m,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=w.current.getBoundingClientRect(),r=n.width,i=n.height;return O(r,i),t.observe(w.current),function(){t.disconnect()}},[O,m]);var T=B.useMemo(function(){var e=k.containerWidth,t=k.containerHeight;if(e<0||t<0)return null;IP(qN(a)||qN(l),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",a,l),IP(!n||n>0,"The aspect(%s) must be greater than zero.",n);var r=qN(a)?e:a,i=qN(l)?t:l;n&&n>0&&(r?i=r/n:i&&(r=i*n),d&&i>d&&(i=d)),IP(r>0||i>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,i,a,l,u,h,n);var o=!Array.isArray(f)&&fP(f.type).endsWith("Chart");return V.Children.map(f,function(e){return V.isValidElement(e)?B.cloneElement(e,TU({width:r,height:i},o?{style:TU({height:"100%",width:"100%",maxHeight:i,maxWidth:r},e.props.style)}:{})):e})},[n,f,l,d,h,u,k,a]);return V.createElement("div",{id:y?"".concat(y):void 0,className:$T("recharts-responsive-container",g),style:TU(TU({},x),{},{width:a,height:l,minWidth:u,minHeight:h,maxHeight:d}),ref:w},T)}),AU=function(e){return null};function IU(e){return(IU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function DU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MU(Object(n),!0).forEach(function(t){RU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function RU(e,t,n){return t=function(e){var t=function(e,t){if("object"!=IU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=IU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==IU(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}AU.displayName="Cell";var LU={widthCache:{},cacheCount:0},FU={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},UU="recharts_measurement_span";var zU=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e||WF.isSsr)return{width:0,height:0};var n,r=(n=DU({},t),Object.keys(n).forEach(function(e){n[e]||delete n[e]}),n),i=JSON.stringify({text:e,copyStyle:r});if(LU.widthCache[i])return LU.widthCache[i];try{var o=document.getElementById(UU);o||((o=document.createElement("span")).setAttribute("id",UU),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=DU(DU({},FU),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return LU.widthCache[i]=l,++LU.cacheCount>2e3&&(LU.cacheCount=0,LU.widthCache={}),l}catch(Kd){return{width:0,height:0}}};function BU(e){return(BU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HU(r.key),r)}}function HU(e){var t=function(e,t){if("object"!=BU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=BU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==BU(t)?t:t+""}var WU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,KU=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,YU=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,XU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},QU=Object.keys(XU),JU="NaN";var ZU=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||KU.test(n)||(this.num=NaN,this.unit=""),QU.includes(n)&&(this.num=function(e,t){return e*XU[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=VU(null!==(n=YU.exec(t))&&void 0!==n?n:[],3),i=r[1],o=r[2];return new e(parseFloat(i),null!=o?o:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&qU(t.prototype,n),r&&qU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function ez(e){if(e.includes(JU))return JU;for(var t=e;t.includes("*")||t.includes("/");){var n,r=VU(null!==(n=WU.exec(t))&&void 0!==n?n:[],4),i=r[1],o=r[2],a=r[3],s=ZU.parse(null!=i?i:""),l=ZU.parse(null!=a?a:""),c="*"===o?s.multiply(l):s.divide(l);if(c.isNaN())return JU;t=t.replace(WU,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,h=VU(null!==(u=GU.exec(t))&&void 0!==u?u:[],4),d=h[1],f=h[2],p=h[3],m=ZU.parse(null!=d?d:""),y=ZU.parse(null!=p?p:""),g="+"===f?m.add(y):m.subtract(y);if(g.isNaN())return JU;t=t.replace(GU,g.toString())}return t}var tz=/\(([^()]*)\)/;function nz(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=VU(tz.exec(t),2)[1];t=t.replace(tz,ez(n))}return t}(t),t=ez(t)}function rz(e){var t=function(e){try{return nz(e)}catch(Kd){return JU}}(e.slice(5,-1));return t===JU?"":t}var iz=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],oz=["dx","dy","angle","className","breakAll"];function az(){return az=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},az.apply(this,arguments)}function sz(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lz(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return cz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cz(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cz(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var uz=/[ \f\n\r\t\v\u2028\u2029]+/,hz=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var i=[];return fN(t)||(i=n?t.toString().split(""):t.toString().split(uz)),{wordsWithComputedWidth:i.map(function(e){return{word:e,width:zU(e,r).width}}),spaceWidth:n?0:zU(" ",r).width}}catch(Kd){return null}},dz=function(e){return[{words:fN(e)?[]:e.toString().split(uz)}]},fz=function(e){var t=e.width,n=e.scaleToFit,r=e.children,i=e.style,o=e.breakAll,a=e.maxLines;if((t||n)&&!WF.isSsr){var s=hz({breakAll:o,children:r,style:i});return s?function(e,t,n,r,i){var o=e.maxLines,a=e.children,s=e.style,l=e.breakAll,c=HN(o),u=a,h=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var o=t.word,a=t.width,s=e[e.length-1];if(s&&(null==r||i||s.width+a+n<Number(r)))s.words.push(o),s.width+=a+n;else{var l={words:[o],width:a};e.push(l)}return e},[])},d=h(t);if(!c)return d;for(var f,p=function(e){var t=u.slice(0,e),n=hz({breakAll:l,style:s,children:t+"…"}).wordsWithComputedWidth,i=h(n),a=i.length>o||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(i).width>Number(r);return[a,i]},m=0,y=u.length-1,g=0;m<=y&&g<=u.length-1;){var v=Math.floor((m+y)/2),b=lz(p(v-1),2),x=b[0],w=b[1],S=lz(p(v),1)[0];if(x||S||(m=v+1),x&&S&&(y=v-1),!x&&S){f=w;break}g++}return f||d}({breakAll:o,children:r,maxLines:a,style:i},s.wordsWithComputedWidth,s.spaceWidth,t,n):dz(r)}return dz(r)},pz="#808080",mz=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,o=e.lineHeight,a=void 0===o?"1em":o,s=e.capHeight,l=void 0===s?"0.71em":s,c=e.scaleToFit,u=void 0!==c&&c,h=e.textAnchor,d=void 0===h?"start":h,f=e.verticalAnchor,p=void 0===f?"end":f,m=e.fill,y=void 0===m?pz:m,g=sz(e,iz),v=B.useMemo(function(){return fz({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:u,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,u,g.style,g.width]),b=g.dx,x=g.dy,w=g.angle,S=g.className,E=g.breakAll,k=sz(g,oz);if(!WN(n)||!WN(i))return null;var _,O=n+(HN(b)?b:0),T=i+(HN(x)?x:0);switch(p){case"start":_=rz("calc(".concat(l,")"));break;case"middle":_=rz("calc(".concat((v.length-1)/2," * -").concat(a," + (").concat(l," / 2))"));break;default:_=rz("calc(".concat(v.length-1," * -").concat(a,")"))}var j=[];if(u){var C=v[0].width,N=g.width;j.push("scale(".concat((HN(N)?N/C:1)/C,")"))}return w&&j.push("rotate(".concat(w,", ").concat(O,", ").concat(T,")")),j.length&&(k.transform=j.join(" ")),V.createElement("text",az({},wP(k,!0),{x:O,y:T,className:$T("recharts-text",S),textAnchor:d,fill:y.includes("url")?pz:y}),v.map(function(e,t){var n=e.words.join(E?"":" ");return V.createElement("tspan",{x:O,dy:0===t?_:a,key:"".concat(n,"-").concat(t)},n)}))};function yz(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gz(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vz(e){let t,n,r;function i(e,r,i=0,o=e.length){if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=yz,n=(t,n)=>yz(e(t),n),r=(t,n)=>e(t)-n):(t=e===yz||e===gz?e:bz,n=e,r=e),{left:i,center:function(e,t,n=0,o=e.length){const a=i(e,t,n,o-1);return a>n&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,r,i=0,o=e.length){if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function bz(){return 0}function xz(e){return null===e?NaN:+e}const wz=vz(yz).right;vz(xz).center;const Sz=wz;class Ez extends Map{constructor(e,t=_z){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(kz(this,e))}has(e){return super.has(kz(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){const r=t(n);e.has(r)&&(n=e.get(r),e.delete(r));return n}(this,e))}}function kz({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function _z(e){return null!==e&&"object"==typeof e?e.valueOf():e}function Oz(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}const Tz=Math.sqrt(50),jz=Math.sqrt(10),Cz=Math.sqrt(2);function Nz(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Tz?10:o>=jz?5:o>=Cz?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?Nz(e,t,2*n):[s,l,c]}function Pz(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,o,a]=r?Nz(t,e,n):Nz(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function Az(e,t,n){return Nz(e=+e,t=+t,n=+n)[2]}function Iz(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?Az(t,e,n):Az(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Mz(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function Dz(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function Rz(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?Oz:function(e=yz){if(e===yz)return Oz;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}(i);r>n;){if(r-n>600){const o=r-n+1,a=t-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);Rz(e,t,Math.max(n,Math.floor(t-a*l/o+c)),Math.min(r,Math.floor(t+(o-a)*l/o+c)),i)}const o=e[t];let a=n,s=r;for(Lz(e,n,t),i(e[r],o)>0&&Lz(e,n,r);a<s;){for(Lz(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}0===i(e[n],o)?Lz(e,n,s):(++s,Lz(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Lz(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Fz(e,t,n=xz){if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}function Uz(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function zz(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const Bz=Symbol("implicit");function Vz(){var e=new Ez,t=[],n=[],r=Bz;function i(i){let o=e.get(i);if(void 0===o){if(r!==Bz)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Ez;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return Vz(t,n).unknown(r)},Uz.apply(i,arguments),i}function $z(){var e,t,n=Vz().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,l=0,c=0,u=.5;function h(){var n=r().length,h=a<o,d=h?a:o,f=h?o:a;e=(f-d)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),d+=(f-d-e*(n-l))*u,t=e*(1-l),s&&(d=Math.round(d),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}(n).map(function(t){return d+e*t});return i(h?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),h()):r()},n.range=function(e){return arguments.length?([o,a]=e,o=+o,a=+a,h()):[o,a]},n.rangeRound=function(e){return[o,a]=e,o=+o,a=+a,s=!0,h()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,h()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),h()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),h()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,h()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),h()):u},n.copy=function(){return $z(r(),[o,a]).round(s).paddingInner(l).paddingOuter(c).align(u)},Uz.apply(h(),arguments)}function qz(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return qz(t())},e}function Hz(){return qz($z.apply(null,arguments).paddingInner(1))}function Wz(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Gz(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Kz(){}var Yz=.7,Xz=1/Yz,Qz="\\s*([+-]?\\d+)\\s*",Jz="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zz="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eB=/^#([0-9a-f]{3,8})$/,tB=new RegExp(`^rgb\\(${Qz},${Qz},${Qz}\\)$`),nB=new RegExp(`^rgb\\(${Zz},${Zz},${Zz}\\)$`),rB=new RegExp(`^rgba\\(${Qz},${Qz},${Qz},${Jz}\\)$`),iB=new RegExp(`^rgba\\(${Zz},${Zz},${Zz},${Jz}\\)$`),oB=new RegExp(`^hsl\\(${Jz},${Zz},${Zz}\\)$`),aB=new RegExp(`^hsla\\(${Jz},${Zz},${Zz},${Jz}\\)$`),sB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function lB(){return this.rgb().formatHex()}function cB(){return this.rgb().formatRgb()}function uB(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=eB.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?hB(t):3===n?new pB(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?dB(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?dB(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=tB.exec(e))?new pB(t[1],t[2],t[3],1):(t=nB.exec(e))?new pB(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=rB.exec(e))?dB(t[1],t[2],t[3],t[4]):(t=iB.exec(e))?dB(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=oB.exec(e))?xB(t[1],t[2]/100,t[3]/100,1):(t=aB.exec(e))?xB(t[1],t[2]/100,t[3]/100,t[4]):sB.hasOwnProperty(e)?hB(sB[e]):"transparent"===e?new pB(NaN,NaN,NaN,0):null}function hB(e){return new pB(e>>16&255,e>>8&255,255&e,1)}function dB(e,t,n,r){return r<=0&&(e=t=n=NaN),new pB(e,t,n,r)}function fB(e,t,n,r){return 1===arguments.length?((i=e)instanceof Kz||(i=uB(i)),i?new pB((i=i.rgb()).r,i.g,i.b,i.opacity):new pB):new pB(e,t,n,null==r?1:r);var i}function pB(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function mB(){return`#${bB(this.r)}${bB(this.g)}${bB(this.b)}`}function yB(){const e=gB(this.opacity);return`${1===e?"rgb(":"rgba("}${vB(this.r)}, ${vB(this.g)}, ${vB(this.b)}${1===e?")":`, ${e})`}`}function gB(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function vB(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function bB(e){return((e=vB(e))<16?"0":"")+e.toString(16)}function xB(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new SB(e,t,n,r)}function wB(e){if(e instanceof SB)return new SB(e.h,e.s,e.l,e.opacity);if(e instanceof Kz||(e=uB(e)),!e)return new SB;if(e instanceof SB)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new SB(a,s,l,e.opacity)}function SB(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function EB(e){return(e=(e||0)%360)<0?e+360:e}function kB(e){return Math.max(0,Math.min(1,e||0))}function _B(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Wz(Kz,uB,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:lB,formatHex:lB,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return wB(this).formatHsl()},formatRgb:cB,toString:cB}),Wz(pB,fB,Gz(Kz,{brighter(e){return e=null==e?Xz:Math.pow(Xz,e),new pB(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Yz:Math.pow(Yz,e),new pB(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new pB(vB(this.r),vB(this.g),vB(this.b),gB(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mB,formatHex:mB,formatHex8:function(){return`#${bB(this.r)}${bB(this.g)}${bB(this.b)}${bB(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:yB,toString:yB})),Wz(SB,function(e,t,n,r){return 1===arguments.length?wB(e):new SB(e,t,n,null==r?1:r)},Gz(Kz,{brighter(e){return e=null==e?Xz:Math.pow(Xz,e),new SB(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Yz:Math.pow(Yz,e),new SB(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new pB(_B(e>=240?e-240:e+120,i,r),_B(e,i,r),_B(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new SB(EB(this.h),kB(this.s),kB(this.l),gB(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=gB(this.opacity);return`${1===e?"hsl(":"hsla("}${EB(this.h)}, ${100*kB(this.s)}%, ${100*kB(this.l)}%${1===e?")":`, ${e})`}`}}));const OB=e=>()=>e;function TB(e){return 1===(e=+e)?jB:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):OB(isNaN(t)?n:t)}}function jB(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):OB(isNaN(e)?t:e)}const CB=function e(t){var n=TB(t);function r(e,t){var r=n((e=fB(e)).r,(t=fB(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=jB(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function NB(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function PB(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=FB(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function AB(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function IB(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function MB(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=FB(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var DB=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,RB=new RegExp(DB.source,"g");function LB(e,t){var n,r,i,o=DB.lastIndex=RB.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=DB.exec(e))&&(r=RB.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:IB(n,r)})),o=RB.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function FB(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?OB(t):("number"===i?IB:"string"===i?(n=uB(t))?(t=n,CB):LB:t instanceof uB?CB:t instanceof Date?AB:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?PB:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?MB:IB:NB))(e,t)}function UB(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function zB(e){return+e}var BB=[0,1];function VB(e){return e}function $B(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function qB(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=$B(i,r),o=n(a,o)):(r=$B(r,i),o=n(o,a)),function(e){return o(r(e))}}function HB(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=$B(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=Sz(e,t,1,r)-1;return o[n](i[n](t))}}function WB(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function GB(){var e,t,n,r,i,o,a=BB,s=BB,l=FB,c=VB;function u(){var e=Math.min(a.length,s.length);return c!==VB&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?HB:qB,i=o=null,h}function h(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,l)))(e(c(t)))}return h.invert=function(n){return c(t((o||(o=r(s,a.map(e),IB)))(n)))},h.domain=function(e){return arguments.length?(a=Array.from(e,zB),u()):a.slice()},h.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},h.rangeRound=function(e){return s=Array.from(e),l=UB,u()},h.clamp=function(e){return arguments.length?(c=!!e||VB,u()):c!==VB},h.interpolate=function(e){return arguments.length?(l=e,u()):l},h.unknown=function(e){return arguments.length?(n=e,h):n},function(n,r){return e=n,t=r,u()}}function KB(){return GB()(VB,VB)}function YB(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function XB(e){return(e=YB(Math.abs(e)))?e[1]:NaN}var QB,JB=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ZB(e){if(!(t=JB.exec(e)))throw new Error("invalid format: "+e);var t;return new eV({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function eV(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function tV(e,t){var n=YB(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}ZB.prototype=eV.prototype,eV.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const nV={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>tV(100*e,t),r:tV,s:function(e,t){var n=YB(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(QB=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+YB(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function rV(e){return e}var iV,oV,aV,sV=Array.prototype.map,lV=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function cV(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?rV:(t=sV.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?rV:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(sV.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function h(e){var t=(e=ZB(e)).fill,n=e.align,h=e.sign,d=e.symbol,f=e.zero,p=e.width,m=e.comma,y=e.precision,g=e.trim,v=e.type;"n"===v?(m=!0,v="g"):nV[v]||(void 0===y&&(y=12),g=!0,v="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===d?o:/[%p]/.test(v)?l:"",w=nV[v],S=/[defgprs%]/.test(v);function E(e){var i,o,l,d=b,E=x;if("c"===v)E=w(e)+E,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),y),g&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),k&&0===+e&&"+"!==h&&(k=!1),d=(k?"("===h?h:c:"-"===h||"("===h?"":h)+d,E=("s"===v?lV[8+QB/3]:"")+E+(k&&"("===h?")":""),S)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){E=(46===l?a+e.slice(i+1):e.slice(i))+E,e=e.slice(0,i);break}}m&&!f&&(e=r(e,1/0));var _=d.length+e.length+E.length,O=_<p?new Array(p-_+1).join(t):"";switch(m&&f&&(e=r(O+e,O.length?p-E.length:1/0),O=""),n){case"<":e=d+e+E+O;break;case"=":e=d+O+e+E;break;case"^":e=O.slice(0,_=O.length>>1)+d+e+E+O.slice(_);break;default:e=O+d+e+E}return s(e)}return y=void 0===y?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),E.toString=function(){return e+""},E}return{format:h,formatPrefix:function(e,t){var n=h(((e=ZB(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(XB(t)/3))),i=Math.pow(10,-r),o=lV[8+r/3];return function(e){return n(i*e)+o}}}}function uV(e,t,n,r){var i,o=Iz(e,t,n);switch((r=ZB(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(XB(t)/3)))-XB(Math.abs(e)))}(o,a))||(r.precision=i),aV(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,XB(t)-XB(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-XB(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return oV(r)}function hV(e){var t=e.domain;return e.ticks=function(e){var n=t();return Pz(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return uV(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=s,s=i);u-- >0;){if((i=Az(l,c,n))===r)return o[a]=l,o[s]=c,t(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function dV(){var e=KB();return e.copy=function(){return WB(e,dV())},Uz.apply(e,arguments),hV(e)}function fV(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function pV(e){return Math.log(e)}function mV(e){return Math.exp(e)}function yV(e){return-Math.log(-e)}function gV(e){return-Math.exp(-e)}function vV(e){return isFinite(e)?+("1e"+e):e<0?0:e}function bV(e){return(t,n)=>-e(-t,n)}function xV(e){const t=e(pV,mV),n=t.domain;let r,i,o=10;function a(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),i=function(e){return 10===e?vV:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),n()[0]<0?(r=bV(r),i=bV(i),e(yV,gV)):e(pV,mV),t}return t.base=function(e){return arguments.length?(o=+e,a()):o},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=e=>{const t=n();let a=t[0],s=t[t.length-1];const l=s<a;l&&([a,s]=[s,a]);let c,u,h=r(a),d=r(s);const f=null==e?10:+e;let p=[];if(!(o%1)&&d-h<f){if(h=Math.floor(h),d=Math.ceil(d),a>0){for(;h<=d;++h)for(c=1;c<o;++c)if(u=h<0?c/i(-h):c*i(h),!(u<a)){if(u>s)break;p.push(u)}}else for(;h<=d;++h)for(c=o-1;c>=1;--c)if(u=h>0?c/i(-h):c*i(h),!(u<a)){if(u>s)break;p.push(u)}2*p.length<f&&(p=Pz(a,s,f))}else p=Pz(h,d,Math.min(d-h,f)).map(i);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===o?"s":","),"function"!=typeof n&&(o%1||null!=(n=ZB(n)).precision||(n.trim=!0),n=oV(n)),e===1/0)return n;const a=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*o<o-.5&&(t*=o),t<=a?n(e):""}},t.nice=()=>n(fV(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function wV(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function SV(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function EV(e){var t=1,n=e(wV(t),SV(t));return n.constant=function(n){return arguments.length?e(wV(t=+n),SV(t)):t},hV(n)}function kV(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function _V(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function OV(e){return e<0?-e*e:e*e}function TV(e){var t=e(VB,VB),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(VB,VB):.5===n?e(_V,OV):e(kV(n),kV(1/n)):n},hV(t)}function jV(){var e=TV(GB());return e.copy=function(){return WB(e,jV()).exponent(e.exponent())},Uz.apply(e,arguments),e}function CV(e){return Math.sign(e)*e*e}iV=cV({thousands:",",grouping:[3],currency:["$",""]}),oV=iV.format,aV=iV.formatPrefix;const NV=new Date,PV=new Date;function AV(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return a;let s;do{a.push(s=new Date(+n)),t(n,o),e(n)}while(s<n&&n<r);return a},i.filter=n=>AV(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(i.count=(t,r)=>(NV.setTime(+t),PV.setTime(+r),e(NV),e(PV),Math.floor(n(NV,PV))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const IV=AV(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);IV.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?AV(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):IV:null),IV.range;const MV=1e3,DV=6e4,RV=36e5,LV=864e5,FV=6048e5,UV=2592e6,zV=31536e6,BV=AV(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*MV)},(e,t)=>(t-e)/MV,e=>e.getUTCSeconds());BV.range;const VV=AV(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*MV)},(e,t)=>{e.setTime(+e+t*DV)},(e,t)=>(t-e)/DV,e=>e.getMinutes());VV.range;const $V=AV(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*DV)},(e,t)=>(t-e)/DV,e=>e.getUTCMinutes());$V.range;const qV=AV(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*MV-e.getMinutes()*DV)},(e,t)=>{e.setTime(+e+t*RV)},(e,t)=>(t-e)/RV,e=>e.getHours());qV.range;const HV=AV(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*RV)},(e,t)=>(t-e)/RV,e=>e.getUTCHours());HV.range;const WV=AV(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*DV)/LV,e=>e.getDate()-1);WV.range;const GV=AV(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/LV,e=>e.getUTCDate()-1);GV.range;const KV=AV(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/LV,e=>Math.floor(e/LV));function YV(e){return AV(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*DV)/FV)}KV.range;const XV=YV(0),QV=YV(1),JV=YV(2),ZV=YV(3),e$=YV(4),t$=YV(5),n$=YV(6);function r$(e){return AV(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/FV)}XV.range,QV.range,JV.range,ZV.range,e$.range,t$.range,n$.range;const i$=r$(0),o$=r$(1),a$=r$(2),s$=r$(3),l$=r$(4),c$=r$(5),u$=r$(6);i$.range,o$.range,a$.range,s$.range,l$.range,c$.range,u$.range;const h$=AV(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth());h$.range;const d$=AV(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth());d$.range;const f$=AV(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());f$.every=e=>isFinite(e=Math.floor(e))&&e>0?AV(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null,f$.range;const p$=AV(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function m$(e,t,n,r,i,o){const a=[[BV,1,MV],[BV,5,5e3],[BV,15,15e3],[BV,30,3e4],[o,1,DV],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,RV],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,LV],[r,2,1728e5],[n,1,FV],[t,1,UV],[t,3,7776e6],[e,1,zV]];function s(t,n,r){const i=Math.abs(n-t)/r,o=vz(([,,e])=>e).right(a,i);if(o===a.length)return e.every(Iz(t/zV,n/zV,r));if(0===o)return IV.every(Math.max(Iz(t,n,r),1));const[s,l]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"==typeof n.range?n:s(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},s]}p$.every=e=>isFinite(e=Math.floor(e))&&e>0?AV(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null,p$.range;const[y$,g$]=m$(p$,d$,i$,KV,HV,$V),[v$,b$]=m$(f$,h$,XV,WV,qV,VV);function x$(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function w$(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function S$(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var E$,k$,_$,O$={"-":"",_:" ",0:"0"},T$=/^\s*\d+/,j$=/^%/,C$=/[\\^$*+?|[\]().{}]/g;function N$(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function P$(e){return e.replace(C$,"\\$&")}function A$(e){return new RegExp("^(?:"+e.map(P$).join("|")+")","i")}function I$(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function M$(e,t,n){var r=T$.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function D$(e,t,n){var r=T$.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function R$(e,t,n){var r=T$.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function L$(e,t,n){var r=T$.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function F$(e,t,n){var r=T$.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function U$(e,t,n){var r=T$.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function z$(e,t,n){var r=T$.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function B$(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function V$(e,t,n){var r=T$.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function $$(e,t,n){var r=T$.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function q$(e,t,n){var r=T$.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function H$(e,t,n){var r=T$.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function W$(e,t,n){var r=T$.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function G$(e,t,n){var r=T$.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function K$(e,t,n){var r=T$.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Y$(e,t,n){var r=T$.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function X$(e,t,n){var r=T$.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Q$(e,t,n){var r=j$.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function J$(e,t,n){var r=T$.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Z$(e,t,n){var r=T$.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function eq(e,t){return N$(e.getDate(),t,2)}function tq(e,t){return N$(e.getHours(),t,2)}function nq(e,t){return N$(e.getHours()%12||12,t,2)}function rq(e,t){return N$(1+WV.count(f$(e),e),t,3)}function iq(e,t){return N$(e.getMilliseconds(),t,3)}function oq(e,t){return iq(e,t)+"000"}function aq(e,t){return N$(e.getMonth()+1,t,2)}function sq(e,t){return N$(e.getMinutes(),t,2)}function lq(e,t){return N$(e.getSeconds(),t,2)}function cq(e){var t=e.getDay();return 0===t?7:t}function uq(e,t){return N$(XV.count(f$(e)-1,e),t,2)}function hq(e){var t=e.getDay();return t>=4||0===t?e$(e):e$.ceil(e)}function dq(e,t){return e=hq(e),N$(e$.count(f$(e),e)+(4===f$(e).getDay()),t,2)}function fq(e){return e.getDay()}function pq(e,t){return N$(QV.count(f$(e)-1,e),t,2)}function mq(e,t){return N$(e.getFullYear()%100,t,2)}function yq(e,t){return N$((e=hq(e)).getFullYear()%100,t,2)}function gq(e,t){return N$(e.getFullYear()%1e4,t,4)}function vq(e,t){var n=e.getDay();return N$((e=n>=4||0===n?e$(e):e$.ceil(e)).getFullYear()%1e4,t,4)}function bq(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+N$(t/60|0,"0",2)+N$(t%60,"0",2)}function xq(e,t){return N$(e.getUTCDate(),t,2)}function wq(e,t){return N$(e.getUTCHours(),t,2)}function Sq(e,t){return N$(e.getUTCHours()%12||12,t,2)}function Eq(e,t){return N$(1+GV.count(p$(e),e),t,3)}function kq(e,t){return N$(e.getUTCMilliseconds(),t,3)}function _q(e,t){return kq(e,t)+"000"}function Oq(e,t){return N$(e.getUTCMonth()+1,t,2)}function Tq(e,t){return N$(e.getUTCMinutes(),t,2)}function jq(e,t){return N$(e.getUTCSeconds(),t,2)}function Cq(e){var t=e.getUTCDay();return 0===t?7:t}function Nq(e,t){return N$(i$.count(p$(e)-1,e),t,2)}function Pq(e){var t=e.getUTCDay();return t>=4||0===t?l$(e):l$.ceil(e)}function Aq(e,t){return e=Pq(e),N$(l$.count(p$(e),e)+(4===p$(e).getUTCDay()),t,2)}function Iq(e){return e.getUTCDay()}function Mq(e,t){return N$(o$.count(p$(e)-1,e),t,2)}function Dq(e,t){return N$(e.getUTCFullYear()%100,t,2)}function Rq(e,t){return N$((e=Pq(e)).getUTCFullYear()%100,t,2)}function Lq(e,t){return N$(e.getUTCFullYear()%1e4,t,4)}function Fq(e,t){var n=e.getUTCDay();return N$((e=n>=4||0===n?l$(e):l$.ceil(e)).getUTCFullYear()%1e4,t,4)}function Uq(){return"+0000"}function zq(){return"%"}function Bq(e){return+e}function Vq(e){return Math.floor(+e/1e3)}function $q(e){return new Date(e)}function qq(e){return e instanceof Date?+e:+new Date(+e)}function Hq(e,t,n,r,i,o,a,s,l,c){var u=KB(),h=u.invert,d=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),y=c("%I %p"),g=c("%a %d"),v=c("%b %d"),b=c("%B"),x=c("%Y");function w(e){return(l(e)<e?f:s(e)<e?p:a(e)<e?m:o(e)<e?y:r(e)<e?i(e)<e?g:v:n(e)<e?b:x)(e)}return u.invert=function(e){return new Date(h(e))},u.domain=function(e){return arguments.length?d(Array.from(e,qq)):d().map($q)},u.ticks=function(t){var n=d();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=d();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?d(fV(n,e)):u},u.copy=function(){return WB(u,Hq(e,t,n,r,i,o,a,s,l,c))},u}function Wq(){var e,t,n,r,i,o=0,a=1,s=VB,l=!1;function c(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([o,a]=i,e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),c):[o,a]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(FB),c.rangeRound=u(UB),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),c}}function Gq(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Kq(){var e=TV(Wq());return e.copy=function(){return Gq(e,Kq()).exponent(e.exponent())},zz.apply(e,arguments)}function Yq(){var e,t,n,r,i,o,a,s=0,l=.5,c=1,u=1,h=VB,d=!1;function f(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(u*e<u*t?r:i),h(d?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,h=function(e,t){void 0===t&&(t=e,e=FB);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}(e,[n,r,i]),f):[h(0),h(.5),h(1)]}}return f.domain=function(a){return arguments.length?([s,l,c]=a,e=o(s=+s),t=o(l=+l),n=o(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f):[s,l,c]},f.clamp=function(e){return arguments.length?(d=!!e,f):d},f.interpolator=function(e){return arguments.length?(h=e,f):h},f.range=p(FB),f.rangeRound=p(UB),f.unknown=function(e){return arguments.length?(a=e,f):a},function(a){return o=a,e=a(s),t=a(l),n=a(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function Xq(){var e=TV(Yq());return e.copy=function(){return Gq(e,Xq()).exponent(e.exponent())},zz.apply(e,arguments)}!function(e){E$=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=A$(i),u=I$(i),h=A$(o),d=I$(o),f=A$(a),p=I$(a),m=A$(s),y=I$(s),g=A$(l),v=I$(l),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:eq,e:eq,f:oq,g:yq,G:vq,H:tq,I:nq,j:rq,L:iq,m:aq,M:sq,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Bq,s:Vq,S:lq,u:cq,U:uq,V:dq,w:fq,W:pq,x:null,X:null,y:mq,Y:gq,Z:bq,"%":zq},x={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:xq,e:xq,f:_q,g:Rq,G:Fq,H:wq,I:Sq,j:Eq,L:kq,m:Oq,M:Tq,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Bq,s:Vq,S:jq,u:Cq,U:Nq,V:Aq,w:Iq,W:Mq,x:null,X:null,y:Dq,Y:Lq,Z:Uq,"%":zq},w={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return k(e,t,n,r)},d:q$,e:q$,f:X$,g:z$,G:U$,H:W$,I:W$,j:H$,L:Y$,m:$$,M:G$,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:V$,Q:J$,s:Z$,S:K$,u:D$,U:R$,V:L$,w:M$,W:F$,x:function(e,t,r){return k(e,n,t,r)},X:function(e,t,n){return k(e,r,t,n)},y:z$,Y:U$,Z:B$,"%":Q$};function S(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=O$[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function E(e,t){return function(n){var r,i,o=S$(1900,void 0,1);if(k(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=w$(S$(o.y,0,1))).getUTCDay(),r=i>4||0===i?o$.ceil(r):o$(r),r=GV.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=x$(S$(o.y,0,1))).getDay(),r=i>4||0===i?QV.ceil(r):QV(r),r=WV.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?w$(S$(o.y,0,1)).getUTCDay():x$(S$(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,w$(o)):x$(o)}}function k(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=w[i in O$?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),x.x=S(n,x),x.X=S(r,x),x.c=S(t,x),{format:function(e){var t=S(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=E(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=E(e+="",!0);return t.toString=function(){return e},t}}}(e),k$=E$.format,E$.parse,_$=E$.utcFormat,E$.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const Qq=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$z,scaleDiverging:function e(){var t=hV(Yq()(VB));return t.copy=function(){return Gq(t,e())},zz.apply(t,arguments)},scaleDivergingLog:function e(){var t=xV(Yq()).domain([.1,1,10]);return t.copy=function(){return Gq(t,e()).base(t.base())},zz.apply(t,arguments)},scaleDivergingPow:Xq,scaleDivergingSqrt:function(){return Xq.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function e(){var t=EV(Yq());return t.copy=function(){return Gq(t,e()).constant(t.constant())},zz.apply(t,arguments)},scaleIdentity:function e(t){var n;function r(e){return null==e||isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,zB),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,zB):[0,1],hV(r)},scaleImplicit:Bz,scaleLinear:dV,scaleLog:function e(){const t=xV(GB()).domain([1,10]);return t.copy=()=>WB(t,e()).base(t.base()),Uz.apply(t,arguments),t},scaleOrdinal:Vz,scalePoint:Hz,scalePow:jV,scaleQuantile:function e(){var t,n=[],r=[],i=[];function o(){var e=0,t=Math.max(1,r.length);for(i=new Array(t-1);++e<t;)i[e-1]=Fz(n,e/t);return a}function a(e){return null==e||isNaN(e=+e)?t:r[Sz(i,e)]}return a.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]},a.domain=function(e){if(!arguments.length)return n.slice();n=[];for(let t of e)null==t||isNaN(t=+t)||n.push(t);return n.sort(yz),o()},a.range=function(e){return arguments.length?(r=Array.from(e),o()):r.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return i.slice()},a.copy=function(){return e().domain(n).range(r).unknown(t)},Uz.apply(a,arguments)},scaleQuantize:function e(){var t,n=0,r=1,i=1,o=[.5],a=[0,1];function s(e){return null!=e&&e<=e?a[Sz(o,e,0,i)]:t}function l(){var e=-1;for(o=new Array(i);++e<i;)o[e]=((e+1)*r-(e-i)*n)/(i+1);return s}return s.domain=function(e){return arguments.length?([n,r]=e,n=+n,r=+r,l()):[n,r]},s.range=function(e){return arguments.length?(i=(a=Array.from(e)).length-1,l()):a.slice()},s.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,o[0]]:t>=i?[o[i-1],r]:[o[t-1],o[t]]},s.unknown=function(e){return arguments.length?(t=e,s):s},s.thresholds=function(){return o.slice()},s.copy=function(){return e().domain([n,r]).range(a).unknown(t)},Uz.apply(hV(s),arguments)},scaleRadial:function e(){var t,n=KB(),r=[0,1],i=!1;function o(e){var r=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(n(e));return isNaN(r)?t:i?Math.round(r):r}return o.invert=function(e){return n.invert(CV(e))},o.domain=function(e){return arguments.length?(n.domain(e),o):n.domain()},o.range=function(e){return arguments.length?(n.range((r=Array.from(e,zB)).map(CV)),o):r.slice()},o.rangeRound=function(e){return o.range(e).round(!0)},o.round=function(e){return arguments.length?(i=!!e,o):i},o.clamp=function(e){return arguments.length?(n.clamp(e),o):n.clamp()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e(n.domain(),r).round(i).clamp(n.clamp()).unknown(t)},Uz.apply(o,arguments),hV(o)},scaleSequential:function e(){var t=hV(Wq()(VB));return t.copy=function(){return Gq(t,e())},zz.apply(t,arguments)},scaleSequentialLog:function e(){var t=xV(Wq()).domain([1,10]);return t.copy=function(){return Gq(t,e()).base(t.base())},zz.apply(t,arguments)},scaleSequentialPow:Kq,scaleSequentialQuantile:function e(){var t=[],n=VB;function r(e){if(null!=e&&!isNaN(e=+e))return n((Sz(t,e,1)-1)/(t.length-1))}return r.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(yz),r},r.interpolator=function(e){return arguments.length?(n=e,r):n},r.range=function(){return t.map((e,r)=>n(r/(t.length-1)))},r.quantiles=function(e){return Array.from({length:e+1},(n,r)=>function(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return Dz(e);if(t>=1)return Mz(e);var r,i=(r-1)*t,o=Math.floor(i),a=Mz(Rz(e,o).subarray(0,o+1));return a+(Dz(e.subarray(o+1))-a)*(i-o)}}(t,r/e))},r.copy=function(){return e(n).domain(t)},zz.apply(r,arguments)},scaleSequentialSqrt:function(){return Kq.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function e(){var t=EV(Wq());return t.copy=function(){return Gq(t,e()).constant(t.constant())},zz.apply(t,arguments)},scaleSqrt:function(){return jV.apply(null,arguments).exponent(.5)},scaleSymlog:function e(){var t=EV(GB());return t.copy=function(){return WB(t,e()).constant(t.constant())},Uz.apply(t,arguments)},scaleThreshold:function e(){var t,n=[.5],r=[0,1],i=1;function o(e){return null!=e&&e<=e?r[Sz(n,e,0,i)]:t}return o.domain=function(e){return arguments.length?(n=Array.from(e),i=Math.min(n.length,r.length-1),o):n.slice()},o.range=function(e){return arguments.length?(r=Array.from(e),i=Math.min(n.length,r.length-1),o):r.slice()},o.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e().domain(n).range(r).unknown(t)},Uz.apply(o,arguments)},scaleTime:function(){return Uz.apply(Hq(v$,b$,f$,h$,XV,WV,qV,VV,BV,k$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return Uz.apply(Hq(y$,g$,p$,d$,i$,GV,HV,$V,BV,_$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},tickFormat:uV},Symbol.toStringTag,{value:"Module"}));var Jq=uj;var Zq=function(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(void 0===s?a==a&&!Jq(a):n(a,s)))var s=a,l=o}return l};var eH=Zq,tH=function(e,t){return e>t},nH=IR;const rH=n(function(e){return e&&e.length?eH(e,nH,tH):void 0});var iH=Zq,oH=function(e,t){return e<t},aH=IR;const sH=n(function(e){return e&&e.length?iH(e,aH,oH):void 0});var lH=HC,cH=qR,uH=FL,hH=qT;var dH=NL,fH=function(e,t){return(hH(e)?lH:uH)(e,cH(t))};const pH=n(function(e,t){return dH(fH(e,t),1)});var mH=sR;const yH=n(function(e,t){return mH(e,t)});var gH,vH=1e9,bH=!0,xH="[DecimalError] ",wH=xH+"Invalid argument: ",SH=xH+"Exponent out of range: ",EH=Math.floor,kH=Math.pow,_H=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,OH=1e7,TH=9007199254740991,jH=EH(1286742750677284.5),CH={};function NH(e,t){var n,r,i,o,a,s,l,c,u=e.constructor,h=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),bH?zH(t,h):t;if(l=e.d,c=t.d,a=e.e,i=t.e,l=l.slice(),o=a-i){for(o<0?(r=l,o=-o,s=c.length):(r=c,i=a,s=l.length),o>(s=(a=Math.ceil(h/7))>s?a+1:s+1)&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((s=l.length)-(o=c.length)<0&&(o=s,r=c,c=l,l=r),n=0;o;)n=(l[--o]=l[o]+c[o]+n)/OH|0,l[o]%=OH;for(n&&(l.unshift(n),++i),s=l.length;0==l[--s];)l.pop();return t.d=l,t.e=i,bH?zH(t,h):t}function PH(e,t,n){if(e!==~~e||e<t||e>n)throw Error(wH+e)}function AH(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=LH(n)),o+=r;(n=7-(r=(a=e[t])+"").length)&&(o+=LH(n))}else if(0===a)return"0";for(;a%10==0;)a/=10;return o+a}CH.absoluteValue=CH.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},CH.comparedTo=CH.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(i=e.d.length)?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},CH.decimalPlaces=CH.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},CH.dividedBy=CH.div=function(e){return IH(this,new this.constructor(e))},CH.dividedToIntegerBy=CH.idiv=function(e){var t=this.constructor;return zH(IH(this,new t(e),0,1),t.precision)},CH.equals=CH.eq=function(e){return!this.cmp(e)},CH.exponent=function(){return DH(this)},CH.greaterThan=CH.gt=function(e){return this.cmp(e)>0},CH.greaterThanOrEqualTo=CH.gte=function(e){return this.cmp(e)>=0},CH.isInteger=CH.isint=function(){return this.e>this.d.length-2},CH.isNegative=CH.isneg=function(){return this.s<0},CH.isPositive=CH.ispos=function(){return this.s>0},CH.isZero=function(){return 0===this.s},CH.lessThan=CH.lt=function(e){return this.cmp(e)<0},CH.lessThanOrEqualTo=CH.lte=function(e){return this.cmp(e)<1},CH.logarithm=CH.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(gH))throw Error(xH+"NaN");if(n.s<1)throw Error(xH+(n.s?"NaN":"-Infinity"));return n.eq(gH)?new r(0):(bH=!1,t=IH(FH(n,o),FH(e,o),o),bH=!0,zH(t,i))},CH.minus=CH.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?BH(t,e):NH(t,(e.s=-e.s,e))},CH.modulo=CH.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(xH+"NaN");return n.s?(bH=!1,t=IH(n,e,0,1).times(e),bH=!0,n.minus(t)):zH(new r(n),i)},CH.naturalExponential=CH.exp=function(){return MH(this)},CH.naturalLogarithm=CH.ln=function(){return FH(this)},CH.negated=CH.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},CH.plus=CH.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?NH(t,e):BH(t,(e.s=-e.s,e))},CH.precision=CH.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(wH+e);if(t=DH(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},CH.squareRoot=CH.sqrt=function(){var e,t,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(xH+"NaN")}for(e=DH(s),bH=!1,0==(i=Math.sqrt(+s))||i==1/0?(((t=AH(s.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=EH((e+1)/2)-(e<0||e%2),r=new l(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new l(i.toString()),i=a=(n=l.precision)+3;;)if(r=(o=r).plus(IH(s,o,a+2)).times(.5),AH(o.d).slice(0,a)===(t=AH(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&"4999"==t){if(zH(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if("9999"!=t)break;a+=4}return bH=!0,zH(r,n)},CH.times=CH.mul=function(e){var t,n,r,i,o,a,s,l,c,u=this,h=u.constructor,d=u.d,f=(e=new h(e)).d;if(!u.s||!e.s)return new h(0);for(e.s*=u.s,n=u.e+e.e,(l=d.length)<(c=f.length)&&(o=d,d=f,f=o,a=l,l=c,c=a),o=[],r=a=l+c;r--;)o.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)s=o[i]+f[r]*d[i-r-1]+t,o[i--]=s%OH|0,t=s/OH|0;o[i]=(o[i]+t)%OH|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,bH?zH(e,h.precision):e},CH.toDecimalPlaces=CH.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(PH(e,0,vH),void 0===t?t=r.rounding:PH(t,0,8),zH(n,e+DH(n)+1,t))},CH.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=VH(r,!0):(PH(e,0,vH),void 0===t?t=i.rounding:PH(t,0,8),n=VH(r=zH(new i(r),e+1,t),!0,e+1)),n},CH.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?VH(i):(PH(e,0,vH),void 0===t?t=o.rounding:PH(t,0,8),n=VH((r=zH(new o(i),e+DH(i)+1,t)).abs(),!1,e+DH(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},CH.toInteger=CH.toint=function(){var e=this,t=e.constructor;return zH(new t(e),DH(e)+1,t.rounding)},CH.toNumber=function(){return+this},CH.toPower=CH.pow=function(e){var t,n,r,i,o,a,s=this,l=s.constructor,c=+(e=new l(e));if(!e.s)return new l(gH);if(!(s=new l(s)).s){if(e.s<1)throw Error(xH+"Infinity");return s}if(s.eq(gH))return s;if(r=l.precision,e.eq(gH))return zH(s,r);if(a=(t=e.e)>=(n=e.d.length-1),o=s.s,a){if((n=c<0?-c:c)<=TH){for(i=new l(gH),t=Math.ceil(r/7+4),bH=!1;n%2&&$H((i=i.times(s)).d,t),0!==(n=EH(n/2));)$H((s=s.times(s)).d,t);return bH=!0,e.s<0?new l(gH).div(i):zH(i,r)}}else if(o<0)throw Error(xH+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,s.s=1,bH=!1,i=e.times(FH(s,r+12)),bH=!0,(i=MH(i)).s=o,i},CH.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?r=VH(i,(n=DH(i))<=o.toExpNeg||n>=o.toExpPos):(PH(e,1,vH),void 0===t?t=o.rounding:PH(t,0,8),r=VH(i=zH(new o(i),e,t),e<=(n=DH(i))||n<=o.toExpNeg,e)),r},CH.toSignificantDigits=CH.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(PH(e,1,vH),void 0===t?t=n.rounding:PH(t,0,8)),zH(new n(this),e,t)},CH.toString=CH.valueOf=CH.val=CH.toJSON=CH[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=DH(e),n=e.constructor;return VH(e,t<=n.toExpNeg||t>=n.toExpPos)};var IH=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%OH|0,r=n/OH|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*OH+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,a){var s,l,c,u,h,d,f,p,m,y,g,v,b,x,w,S,E,k,_=r.constructor,O=r.s==i.s?1:-1,T=r.d,j=i.d;if(!r.s)return new _(r);if(!i.s)throw Error(xH+"Division by zero");for(l=r.e-i.e,E=j.length,w=T.length,p=(f=new _(O)).d=[],c=0;j[c]==(T[c]||0);)++c;if(j[c]>(T[c]||0)&&--l,(v=null==o?o=_.precision:a?o+(DH(r)-DH(i))+1:o)<0)return new _(0);if(v=v/7+2|0,c=0,1==E)for(u=0,j=j[0],v++;(c<w||u)&&v--;c++)b=u*OH+(T[c]||0),p[c]=b/j|0,u=b%j|0;else{for((u=OH/(j[0]+1)|0)>1&&(j=e(j,u),T=e(T,u),E=j.length,w=T.length),x=E,y=(m=T.slice(0,E)).length;y<E;)m[y++]=0;(k=j.slice()).unshift(0),S=j[0],j[1]>=OH/2&&++S;do{u=0,(s=t(j,m,E,y))<0?(g=m[0],E!=y&&(g=g*OH+(m[1]||0)),(u=g/S|0)>1?(u>=OH&&(u=OH-1),1==(s=t(h=e(j,u),m,d=h.length,y=m.length))&&(u--,n(h,E<d?k:j,d))):(0==u&&(s=u=1),h=j.slice()),(d=h.length)<y&&h.unshift(0),n(m,h,y),-1==s&&(s=t(j,m,E,y=m.length))<1&&(u++,n(m,E<y?k:j,y)),y=m.length):0===s&&(u++,m=[0]),p[c++]=u,s&&m[0]?m[y++]=T[x]||0:(m=[T[x]],y=1)}while((x++<w||void 0!==m[0])&&v--)}return p[0]||p.shift(),f.e=l,zH(f,a?o+DH(f)+1:o)}}();function MH(e,t){var n,r,i,o,a,s=0,l=0,c=e.constructor,u=c.precision;if(DH(e)>16)throw Error(SH+DH(e));if(!e.s)return new c(gH);for(null==t?(bH=!1,a=u):a=t,o=new c(.03125);e.abs().gte(.1);)e=e.times(o),l+=5;for(a+=Math.log(kH(2,l))/Math.LN10*2+5|0,n=r=i=new c(gH),c.precision=a;;){if(r=zH(r.times(e),a),n=n.times(++s),AH((o=i.plus(IH(r,n,a))).d).slice(0,a)===AH(i.d).slice(0,a)){for(;l--;)i=zH(i.times(i),a);return c.precision=u,null==t?(bH=!0,zH(i,u)):i}i=o}}function DH(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function RH(e,t,n){if(t>e.LN10.sd())throw bH=!0,n&&(e.precision=n),Error(xH+"LN10 precision limit exceeded");return zH(new e(e.LN10),t)}function LH(e){for(var t="";e--;)t+="0";return t}function FH(e,t){var n,r,i,o,a,s,l,c,u,h=1,d=e,f=d.d,p=d.constructor,m=p.precision;if(d.s<1)throw Error(xH+(d.s?"NaN":"-Infinity"));if(d.eq(gH))return new p(0);if(null==t?(bH=!1,c=m):c=t,d.eq(10))return null==t&&(bH=!0),RH(p,c);if(c+=10,p.precision=c,r=(n=AH(f)).charAt(0),o=DH(d),!(Math.abs(o)<15e14))return l=RH(p,c+2,m).times(o+""),d=FH(new p(r+"."+n.slice(1)),c-10).plus(l),p.precision=m,null==t?(bH=!0,zH(d,m)):d;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=AH((d=d.times(e)).d)).charAt(0),h++;for(o=DH(d),r>1?(d=new p("0."+n),o++):d=new p(r+"."+n.slice(1)),s=a=d=IH(d.minus(gH),d.plus(gH),c),u=zH(d.times(d),c),i=3;;){if(a=zH(a.times(u),c),AH((l=s.plus(IH(a,new p(i),c))).d).slice(0,c)===AH(s.d).slice(0,c))return s=s.times(2),0!==o&&(s=s.plus(RH(p,c+2,m).times(o+""))),s=IH(s,new p(h),c),p.precision=m,null==t?(bH=!0,zH(s,m)):s;s=l,i+=2}}function UH(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=EH(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),bH&&(e.e>jH||e.e<-jH))throw Error(SH+n)}else e.s=0,e.e=0,e.d=[0];return e}function zH(e,t,n){var r,i,o,a,s,l,c,u,h=e.d;for(a=1,o=h[0];o>=10;o/=10)a++;if((r=t-a)<0)r+=7,i=t,c=h[u=0];else{if((u=Math.ceil((r+1)/7))>=(o=h.length))return e;for(c=o=h[u],a=1;o>=10;o/=10)a++;i=(r%=7)-7+a}if(void 0!==n&&(s=c/(o=kH(10,a-i-1))%10|0,l=t<0||void 0!==h[u+1]||c%o,l=n<4?(s||l)&&(0==n||n==(e.s<0?3:2)):s>5||5==s&&(4==n||l||6==n&&(r>0?i>0?c/kH(10,a-i):0:h[u-1])%10&1||n==(e.s<0?8:7))),t<1||!h[0])return l?(o=DH(e),h.length=1,t=t-o-1,h[0]=kH(10,(7-t%7)%7),e.e=EH(-t/7)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(0==r?(h.length=u,o=1,u--):(h.length=u+1,o=kH(10,7-r),h[u]=i>0?(c/kH(10,a-i)%kH(10,i)|0)*o:0),l)for(;;){if(0==u){(h[0]+=o)==OH&&(h[0]=1,++e.e);break}if(h[u]+=o,h[u]!=OH)break;h[u--]=0,o=1}for(r=h.length;0===h[--r];)h.pop();if(bH&&(e.e>jH||e.e<-jH))throw Error(SH+DH(e));return e}function BH(e,t){var n,r,i,o,a,s,l,c,u,h,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new d(e),bH?zH(t,f):t;if(l=e.d,h=t.d,r=t.e,c=e.e,l=l.slice(),a=c-r){for((u=a<0)?(n=l,a=-a,s=h.length):(n=h,r=c,s=l.length),a>(i=Math.max(Math.ceil(f/7),s)+2)&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for((u=(i=l.length)<(s=h.length))&&(s=i),i=0;i<s;i++)if(l[i]!=h[i]){u=l[i]<h[i];break}a=0}for(u&&(n=l,l=h,h=n,t.s=-t.s),s=l.length,i=h.length-s;i>0;--i)l[s++]=0;for(i=h.length;i>a;){if(l[--i]<h[i]){for(o=i;o&&0===l[--o];)l[o]=OH-1;--l[o],l[i]+=OH}l[i]-=h[i]}for(;0===l[--s];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(t.d=l,t.e=r,bH?zH(t,f):t):new d(0)}function VH(e,t,n){var r,i=DH(e),o=AH(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+LH(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+LH(-i-1)+o,n&&(r=n-a)>0&&(o+=LH(r))):i>=a?(o+=LH(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+LH(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=LH(r))),e.s<0?"-"+o:o}function $H(e,t){if(e.length>t)return e.length=t,!0}function qH(e){if(!e||"object"!=typeof e)throw Error(xH+"Object expected");var t,n,r,i=["precision",1,vH,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(EH(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(wH+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(wH+n+": "+r);this[n]=new this(r)}return this}var HH=function e(t){var n,r,i;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(wH+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):UH(t,e.toString())}if("string"!=typeof e)throw Error(wH+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!_H.test(e))throw Error(wH+e);UH(t,e)}if(o.prototype=CH,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=qH,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});gH=new HH(1);const WH=HH;function GH(e){return function(e){if(Array.isArray(e))return KH(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return KH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KH(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var YH=function(e){return e},XH={"@@functional/placeholder":!0},QH=function(e){return e===XH},JH=function(e){return function t(){return 0===arguments.length||1===arguments.length&&QH(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},ZH=function e(t,n){return 1===t?n:JH(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(e){return e!==XH}).length;return a>=t?n.apply(void 0,i):e(t-a,JH(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=i.map(function(e){return QH(e)?t.shift():e});return n.apply(void 0,GH(o).concat(t))}))})},eW=function(e){return ZH(e.length,e)},tW=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},nW=eW(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),rW=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},iW=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every(function(e,n){return e===t[n]})?n:(t=i,n=e.apply(void 0,i))}};var oW=eW(function(e,t,n){var r=+e;return r+n*(+t-r)}),aW=eW(function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)}),sW=eW(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const lW={rangeStep:function(e,t,n){for(var r=new WH(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o},getDigitCount:function(e){return 0===e?1:Math.floor(new WH(e).abs().log(10).toNumber())+1},interpolateNumber:oW,uninterpolateNumber:aW,uninterpolateTruncation:sW};function cW(e){return function(e){if(Array.isArray(e))return dW(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||hW(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uW(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||hW(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hW(e,t){if(e){if("string"==typeof e)return dW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dW(e,t):void 0}}function dW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fW(e){var t=uW(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function pW(e,t,n){if(e.lte(0))return new WH(0);var r=lW.getDigitCount(e.toNumber()),i=new WH(10).pow(r),o=e.div(i),a=1!==r?.05:.1,s=new WH(Math.ceil(o.div(a).toNumber())).add(n).mul(a).mul(i);return t?s:new WH(Math.ceil(s))}function mW(e,t,n){var r=1,i=new WH(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new WH(10).pow(lW.getDigitCount(e)-1),i=new WH(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new WH(Math.floor(e)))}else 0===e?i=new WH(Math.floor((t-1)/2)):n||(i=new WH(Math.floor(e)));var a=Math.floor((t-1)/2),s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return YH;var r=t.reverse(),i=r[0],o=r.slice(1);return function(){return o.reduce(function(e,t){return t(e)},i.apply(void 0,arguments))}}(nW(function(e){return i.add(new WH(e-a).mul(r)).toNumber()}),tW);return s(0,t)}function yW(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new WH(0),tickMin:new WH(0),tickMax:new WH(0)};var o,a=pW(new WH(t).sub(e).div(n-1),r,i);o=e<=0&&t>=0?new WH(0):(o=new WH(e).add(t).div(2)).sub(new WH(o).mod(a));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new WH(t).sub(o).div(a).toNumber()),c=s+l+1;return c>n?yW(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:a,tickMin:o.sub(new WH(s).mul(a)),tickMax:o.add(new WH(l).mul(a))})}var gW=iW(function(e){var t=uW(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=uW(fW([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(cW(tW(0,i-1).map(function(){return 1/0}))):[].concat(cW(tW(0,i-1).map(function(){return-1/0})),[c]);return n>r?rW(u):u}if(l===c)return mW(l,i,o);var h=yW(l,c,a,o),d=h.step,f=h.tickMin,p=h.tickMax,m=lW.rangeStep(f,p.add(new WH(.1).mul(d)),d);return n>r?rW(m):m}),vW=iW(function(e,t){var n=uW(e,2),r=n[0],i=n[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=uW(fW([r,i]),2),s=a[0],l=a[1];if(s===-1/0||l===1/0)return[r,i];if(s===l)return[s];var c=Math.max(t,2),u=pW(new WH(l).sub(s).div(c-1),o,0),h=[].concat(cW(lW.rangeStep(new WH(s),new WH(l).sub(new WH(.99).mul(u)),u)),[l]);return r>i?rW(h):h}),bW="Invariant failed";function xW(e,t){if(!e)throw new Error(bW)}var wW=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function SW(e){return(SW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function EW(){return EW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EW.apply(this,arguments)}function kW(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _W(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function OW(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function TW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IW(r.key),r)}}function jW(e,t,n){return t=NW(t),function(e,t){if(t&&("object"===SW(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,CW()?Reflect.construct(t,n||[],NW(e).constructor):t.apply(e,n))}function CW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(CW=function(){return!!e})()}function NW(e){return(NW=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PW(e,t){return(PW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function AW(e,t,n){return(t=IW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IW(e){var t=function(e,t){if("object"!=SW(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=SW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==SW(t)?t:t+""}var MW=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),jW(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PW(e,t)}(e,V.Component),t=e,(n=[{key:"render",value:function(){var e=this.props,t=e.offset,n=e.layout,r=e.width,i=e.dataKey,o=e.data,a=e.dataPointFormatter,s=e.xAxis,l=e.yAxis,c=OW(e,wW),u=wP(c,!1);"x"===this.props.direction&&"number"!==s.type&&xW(!1);var h=o.map(function(e){var o=a(e,i),c=o.x,h=o.y,d=o.value,f=o.errorVal;if(!f)return null;var p,m,y=[];if(Array.isArray(f)){var g=kW(f,2);p=g[0],m=g[1]}else p=m=f;if("vertical"===n){var v=s.scale,b=h+t,x=b+r,w=b-r,S=v(d-p),E=v(d+m);y.push({x1:E,y1:x,x2:E,y2:w}),y.push({x1:S,y1:b,x2:E,y2:b}),y.push({x1:S,y1:x,x2:S,y2:w})}else if("horizontal"===n){var k=l.scale,_=c+t,O=_-r,T=_+r,j=k(d-p),C=k(d+m);y.push({x1:O,y1:C,x2:T,y2:C}),y.push({x1:_,y1:j,x2:_,y2:C}),y.push({x1:O,y1:j,x2:T,y2:j})}return V.createElement(AP,EW({className:"recharts-errorBar",key:"bar-".concat(y.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},u),y.map(function(e){return V.createElement("line",EW({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return V.createElement(AP,{className:"recharts-errorBars"},h)}}])&&TW(t.prototype,n),r&&TW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function DW(e){return(DW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function LW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RW(Object(n),!0).forEach(function(t){FW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function FW(e,t,n){return t=function(e){var t=function(e,t){if("object"!=DW(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=DW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==DW(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}AW(MW,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),AW(MW,"displayName","ErrorBar");var UW=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,i=e.legendContent,o=vP(t,kL);if(!o)return null;var a,s=kL.defaultProps,l=void 0!==s?LW(LW({},s),o.props):{};return a=o.props&&o.props.payload?o.props&&o.props.payload:"children"===i?(n||[]).reduce(function(e,t){var n=t.item,r=t.props,i=r.sectors||r.data||[];return e.concat(i.map(function(e){return{type:o.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(n||[]).map(function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?LW(LW({},n),t.props):{},i=r.dataKey,o=r.name,a=r.legendType;return{inactive:r.hide,dataKey:i,type:l.iconType||a||"square",color:KW(t),value:o||i,payload:r}}),LW(LW(LW({},l),kL.getWithHeight(o,r)),{},{payload:a,item:o})};function zW(e){return(zW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BW(e){return function(e){if(Array.isArray(e))return VW(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return VW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VW(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$W(Object(n),!0).forEach(function(t){HW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$W(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function HW(e,t,n){return t=function(e){var t=function(e,t){if("object"!=zW(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=zW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zW(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WW(e,t,n){return fN(e)||fN(t)?n:WN(t)?dN(e,t,n):wj(t)?t(e):n}function GW(e,t,n,r){var i=pH(e,function(e){return WW(e,t)});if("number"===n){var o=i.filter(function(e){return HN(e)||parseFloat(e)});return o.length?[sH(o),rH(o)]:[1/0,-1/0]}return(r?i.filter(function(e){return!fN(e)}):i).map(function(e){return WN(e)||e instanceof Date?e:""})}var KW=function(e){var t,n,r=e.type.displayName,i=null!==(t=e.type)&&void 0!==t&&t.defaultProps?qW(qW({},e.type.defaultProps),e.props):e.props,o=i.stroke,a=i.fill;switch(r){case"Line":n=o;break;case"Area":case"Radar":n=o&&"none"!==o?o:a;break;default:n=a}return n},YW=function(e,t,n,r,i){var o=gP(t.props.children,MW).filter(function(e){return function(e,t,n){return!!fN(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,i,e.props.direction)});if(o&&o.length){var a=o.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var r=WW(t,n);if(fN(r))return e;var i=Array.isArray(r)?[sH(r),rH(r)]:[r,r],o=a.reduce(function(e,n){var r=WW(t,n,0),o=i[0]-Math.abs(Array.isArray(r)?r[0]:r),a=i[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(o,e[0]),Math.max(a,e[1])]},[1/0,-1/0]);return[Math.min(o[0],e[0]),Math.max(o[1],e[1])]},[1/0,-1/0])}return null},XW=function(e,t,n,r,i){var o=t.map(function(t){var o=t.props.dataKey;return"number"===n&&o&&YW(e,t,o,r)||GW(e,o,n,i)});if("number"===n)return o.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var a={};return o.reduce(function(e,t){for(var n=0,r=t.length;n<r;n++)a[t[n]]||(a[t[n]]=!0,e.push(t[n]));return e},[])},QW=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},JW=function(e,t,n,r){if(r)return e.map(function(e){return e.coordinate});var i,o,a=e.map(function(e){return e.coordinate===t&&(i=!0),e.coordinate===n&&(o=!0),e.coordinate});return i||a.push(t),o||a.push(n),a},ZW=function(e,t,n){if(!e)return null;var r=e.scale,i=e.duplicateDomain,o=e.type,a=e.range,s="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===o&&r.bandwidth?r.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null==a?void 0:a.length)>=2?2*$N(a[0]-a[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=i?i.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}}).filter(function(e){return!VN(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}}):r.ticks&&!n?r.ticks(e.tickCount).map(function(e){return{coordinate:r(e)+l,value:e,offset:l}}):r.domain().map(function(e,t){return{coordinate:r(e)+l,value:i?i[e]:e,index:t,offset:l}})},eG=new WeakMap,tG=function(e,t){if("function"!=typeof t)return e;eG.has(e)||eG.set(e,new WeakMap);var n=eG.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},nG=1e-4,rG={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,a=0;a<t;++a){var s=VN(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}oI(e,t)}},none:oI,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}oI(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,l=0,c=0;s<i;++s){for(var u=e[t[s]],h=u[a][1]||0,d=(h-(u[a-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];d+=(p[a][1]||0)-(p[a-1][1]||0)}l+=h,c+=d*h}n[a-1][1]+=n[a-1][0]=o,l&&(o-=c/l)}n[a-1][1]+=n[a-1][0]=o,oI(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var a=VN(e[o][n][1])?e[o][n][0]:e[o][n][1];a>=0?(e[o][n][0]=i,e[o][n][1]=i+a,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}}},iG=function(e,t,n){var r=t.map(function(e){return e.props.dataKey}),i=rG[n],o=function(){var e=oA([]),t=aI,n=oI,r=sI;function i(i){var o,a,s=Array.from(e.apply(this,arguments),lI),l=s.length,c=-1;for(const e of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(e,s[o].key,c,i)]).data=e;for(o=0,a=vA(t(s));o<l;++o)s[a[o]].index=o;return n(s,a),s}return i.keys=function(t){return arguments.length?(e="function"==typeof t?t:oA(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"==typeof e?e:oA(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?aI:"function"==typeof e?e:oA(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?oI:e,i):n},i}().keys(r).value(function(e,t){return+WW(e,t,0)}).order(aI).offset(i);return o(e)};function oG(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,o=e.index,a=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!fN(i[t.dataKey])){var s=JN(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=WW(i,fN(a)?t.dataKey:a);return fN(l)?null:t.scale(l)}var aG=function(e){var t=e.axis,n=e.ticks,r=e.offset,i=e.bandSize,o=e.entry,a=e.index;if("category"===t.type)return n[a]?n[a].coordinate+r:null;var s=WW(o,t.dataKey,t.domain[a]);return fN(s)?null:t.scale(s)-i/2+r},sG=function(e,t,n){return Object.keys(e).reduce(function(r,i){var o=e[i].stackedData.reduce(function(e,r){var i=r.slice(t,n+1).reduce(function(e,t){return[sH(t.concat([e[0]]).filter(HN)),rH(t.concat([e[1]]).filter(HN))]},[1/0,-1/0]);return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},lG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uG=function(e,t,n){if(wj(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(HN(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(lG.test(e[0])){var i=+lG.exec(e[0])[1];r[0]=t[0]-i}else wj(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(HN(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(cG.test(e[1])){var o=+cG.exec(e[1])[1];r[1]=t[1]+o}else wj(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},hG=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=bF(t,function(e){return e.coordinate}),o=1/0,a=1,s=i.length;a<s;a++){var l=i[a],c=i[a-1];o=Math.min((l.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},dG=function(e,t,n){return e&&e.length?yH(e,dN(n,"type.defaultProps.domain"))?t:e:t},fG=function(e,t){var n=e.type.defaultProps?qW(qW({},e.type.defaultProps),e.props):e.props,r=n.dataKey,i=n.name,o=n.unit,a=n.formatter,s=n.tooltipType,l=n.chartType,c=n.hide;return qW(qW({},wP(e,!1)),{},{dataKey:r,unit:o,formatter:a,name:i||r,color:KW(e),value:WW(t,r),type:s,payload:t,chartType:l,hide:c})};function pG(e){return(pG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mG(Object(n),!0).forEach(function(t){gG(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mG(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gG(e,t,n){return t=function(e){var t=function(e,t){if("object"!=pG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pG(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vG=Math.PI/180,bG=function(e){return 180*e/Math.PI},xG=function(e,t,n,r){return{x:e+Math.cos(-vG*r)*n,y:t+Math.sin(-vG*r)*n}},wG=function(e,t){var n=e.x,r=e.y,i=t.cx,o=t.cy,a=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-o,2))}({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a};var s=(n-i)/a,l=Math.acos(s);return r>o&&(l=2*Math.PI-l),{radius:a,angle:bG(l),angleInRadian:l}},SG=function(e,t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360);return e+360*Math.min(i,o)},EG=function(e,t){var n=e.x,r=e.y,i=wG({x:n,y:r},t),o=i.radius,a=i.angle,s=t.innerRadius,l=t.outerRadius;if(o<s||o>l)return!1;if(0===o)return!0;var c,u=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-360*o,endAngle:n-360*o}}(t),h=u.startAngle,d=u.endAngle,f=a;if(h<=d){for(;f>d;)f-=360;for(;f<h;)f+=360;c=f>=h&&f<=d}else{for(;f>h;)f-=360;for(;f<d;)f+=360;c=f>=d&&f<=h}return c?yG(yG({},t),{},{radius:o,angle:SG(f,t)}):null};function kG(e){return(kG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _G=["offset"];function OG(e){return function(e){if(Array.isArray(e))return TG(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return TG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TG(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jG(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function CG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function NG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CG(Object(n),!0).forEach(function(t){PG(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CG(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function PG(e,t,n){return t=function(e){var t=function(e,t){if("object"!=kG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kG(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AG(){return AG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AG.apply(this,arguments)}var IG=function(e,t,n){var r,i,o=e.position,a=e.viewBox,s=e.offset,l=e.className,c=a,u=c.cx,h=c.cy,d=c.innerRadius,f=c.outerRadius,p=c.startAngle,m=c.endAngle,y=c.clockWise,g=(d+f)/2,v=function(e,t){return $N(t-e)*Math.min(Math.abs(t-e),360)}(p,m),b=v>=0?1:-1;"insideStart"===o?(r=p+b*s,i=y):"insideEnd"===o?(r=m-b*s,i=!y):"end"===o&&(r=m+b*s,i=y),i=v<=0?i:!i;var x=xG(u,h,g,r),w=xG(u,h,g,r+359*(i?1:-1)),S="M".concat(x.x,",").concat(x.y,"\n    A").concat(g,",").concat(g,",0,1,").concat(i?0:1,",\n    ").concat(w.x,",").concat(w.y),E=fN(e.id)?KN("recharts-radial-line-"):e.id;return V.createElement("text",AG({},n,{dominantBaseline:"central",className:$T("recharts-radial-bar-label",l)}),V.createElement("defs",null,V.createElement("path",{id:E,d:S})),V.createElement("textPath",{xlinkHref:"#".concat(E)},t))};function MG(e){var t,n=e.offset,r=NG({offset:void 0===n?5:n},jG(e,_G)),i=r.viewBox,o=r.position,a=r.value,s=r.children,l=r.content,c=r.className,u=void 0===c?"":c,h=r.textBreakAll;if(!i||fN(a)&&fN(s)&&!B.isValidElement(l)&&!wj(l))return null;if(B.isValidElement(l))return B.cloneElement(l,r);if(wj(l)){if(t=B.createElement(l,r),B.isValidElement(t))return t}else t=function(e){var t=e.value,n=e.formatter,r=fN(e.children)?t:e.children;return wj(n)?n(r):r}(r);var d=function(e){return"cx"in e&&HN(e.cx)}(i),f=wP(r,!0);if(d&&("insideStart"===o||"insideEnd"===o||"end"===o))return IG(r,t,f);var p=d?function(e){var t=e.viewBox,n=e.offset,r=e.position,i=t,o=i.cx,a=i.cy,s=i.innerRadius,l=i.outerRadius,c=(i.startAngle+i.endAngle)/2;if("outside"===r){var u=xG(o,a,l+n,c),h=u.x;return{x:h,y:u.y,textAnchor:h>=o?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var d=xG(o,a,(s+l)/2,c);return{x:d.x,y:d.y,textAnchor:"middle",verticalAnchor:"middle"}}(r):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,i=e.position,o=t,a=o.x,s=o.y,l=o.width,c=o.height,u=c>=0?1:-1,h=u*r,d=u>0?"end":"start",f=u>0?"start":"end",p=l>=0?1:-1,m=p*r,y=p>0?"end":"start",g=p>0?"start":"end";if("top"===i)return NG(NG({},{x:a+l/2,y:s-u*r,textAnchor:"middle",verticalAnchor:d}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===i)return NG(NG({},{x:a+l/2,y:s+c+h,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(n.y+n.height-(s+c),0),width:l}:{});if("left"===i){var v={x:a-m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"};return NG(NG({},v),n?{width:Math.max(v.x-n.x,0),height:c}:{})}if("right"===i){var b={x:a+l+m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return NG(NG({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:c}:{})}var x=n?{width:l,height:c}:{};return"insideLeft"===i?NG({x:a+m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},x):"insideRight"===i?NG({x:a+l-m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"},x):"insideTop"===i?NG({x:a+l/2,y:s+h,textAnchor:"middle",verticalAnchor:f},x):"insideBottom"===i?NG({x:a+l/2,y:s+c-h,textAnchor:"middle",verticalAnchor:d},x):"insideTopLeft"===i?NG({x:a+m,y:s+h,textAnchor:g,verticalAnchor:f},x):"insideTopRight"===i?NG({x:a+l-m,y:s+h,textAnchor:y,verticalAnchor:f},x):"insideBottomLeft"===i?NG({x:a+m,y:s+c-h,textAnchor:g,verticalAnchor:d},x):"insideBottomRight"===i?NG({x:a+l-m,y:s+c-h,textAnchor:y,verticalAnchor:d},x):gj(i)&&(HN(i.x)||qN(i.x))&&(HN(i.y)||qN(i.y))?NG({x:a+YN(i.x,l),y:s+YN(i.y,c),textAnchor:"end",verticalAnchor:"end"},x):NG({x:a+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},x)}(r);return V.createElement(mz,AG({className:$T("recharts-label",u)},f,p,{breakAll:h}),t)}MG.displayName="Label";var DG=function(e){var t=e.cx,n=e.cy,r=e.angle,i=e.startAngle,o=e.endAngle,a=e.r,s=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,h=e.y,d=e.top,f=e.left,p=e.width,m=e.height,y=e.clockWise,g=e.labelViewBox;if(g)return g;if(HN(p)&&HN(m)){if(HN(u)&&HN(h))return{x:u,y:h,width:p,height:m};if(HN(d)&&HN(f))return{x:d,y:f,width:p,height:m}}return HN(u)&&HN(h)?{x:u,y:h,width:0,height:0}:HN(t)&&HN(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:l||0,outerRadius:c||s||a||0,clockWise:y}:e.viewBox?e.viewBox:{}};MG.parseViewBox=DG,MG.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=DG(e),o=gP(r,MG).map(function(e,n){return B.cloneElement(e,{viewBox:t||i,key:"label-".concat(n)})});if(!n)return o;var a=function(e,t){return e?!0===e?V.createElement(MG,{key:"label-implicit",viewBox:t}):WN(e)?V.createElement(MG,{key:"label-implicit",viewBox:t,value:e}):B.isValidElement(e)?e.type===MG?B.cloneElement(e,{key:"label-implicit",viewBox:t}):V.createElement(MG,{key:"label-implicit",content:e,viewBox:t}):wj(e)?V.createElement(MG,{key:"label-implicit",content:e,viewBox:t}):gj(e)?V.createElement(MG,AG({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||i);return[a].concat(OG(o))};const RG=n(function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0});function LG(e){return(LG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var FG=["valueAccessor"],UG=["data","dataKey","clockWise","id","textBreakAll"];function zG(e){return function(e){if(Array.isArray(e))return BG(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return BG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BG(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function VG(){return VG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VG.apply(this,arguments)}function $G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$G(Object(n),!0).forEach(function(t){HG(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$G(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function HG(e,t,n){return t=function(e){var t=function(e,t){if("object"!=LG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=LG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==LG(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WG(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var GG=function(e){return Array.isArray(e.value)?RG(e.value):e.value};function KG(e){var t=e.valueAccessor,n=void 0===t?GG:t,r=WG(e,FG),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,c=WG(r,UG);return i&&i.length?V.createElement(AP,{className:"recharts-label-list"},i.map(function(e,t){var r=fN(o)?n(e,t):WW(e&&e.payload,o),i=fN(s)?{}:{id:"".concat(s,"-").concat(t)};return V.createElement(MG,VG({},wP(e,!0),c,i,{parentViewBox:e.parentViewBox,value:r,textBreakAll:l,viewBox:MG.parseViewBox(fN(a)?e:qG(qG({},e),{},{clockWise:a})),key:"label-".concat(t),index:t}))})):null}function YG(e){return(YG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function XG(){return XG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XG.apply(this,arguments)}function QG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function JG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QG(Object(n),!0).forEach(function(t){ZG(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QG(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ZG(e,t,n){return t=function(e){var t=function(e,t){if("object"!=YG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=YG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==YG(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}KG.displayName="LabelList",KG.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=gP(e.children,KG).map(function(e,n){return B.cloneElement(e,{data:t,key:"labelList-".concat(n)})});return n?[function(e,t){return e?!0===e?V.createElement(KG,{key:"labelList-implicit",data:t}):V.isValidElement(e)||wj(e)?V.createElement(KG,{key:"labelList-implicit",data:t,content:e}):gj(e)?V.createElement(KG,VG({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(zG(r)):r};var eK=function(e){var t=e.cx,n=e.cy,r=e.radius,i=e.angle,o=e.sign,a=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,c=s*(a?1:-1)+r,u=Math.asin(s/c)/vG,h=l?i:i+o*u,d=l?i-o*u:i;return{center:xG(t,n,c,h),circleTangency:xG(t,n,r,h),lineTangency:xG(t,n,c*Math.cos(u*vG),d),theta:u}},tK=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.startAngle,a=function(e,t){return $N(t-e)*Math.min(Math.abs(t-e),359.999)}(o,e.endAngle),s=o+a,l=xG(t,n,i,o),c=xG(t,n,i,s),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(a)>180),",").concat(+(o>s),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var h=xG(t,n,r,o),d=xG(t,n,r,s);u+="L ".concat(d.x,",").concat(d.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(a)>180),",").concat(+(o<=s),",\n            ").concat(h.x,",").concat(h.y," Z")}else u+="L ".concat(t,",").concat(n," Z");return u},nK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},rK=function(e){var t=JG(JG({},nK),e),n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,a=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,h=t.className;if(o<i||c===u)return null;var d,f=$T("recharts-sector",h),p=o-i,m=YN(a,p,0,!0);return d=m>0&&Math.abs(c-u)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=$N(c-l),h=eK({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:o,cornerIsExternal:s}),d=h.circleTangency,f=h.lineTangency,p=h.theta,m=eK({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:o,cornerIsExternal:s}),y=m.circleTangency,g=m.lineTangency,v=m.theta,b=s?Math.abs(l-c):Math.abs(l-c)-p-v;if(b<0)return a?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*o,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*-o,",0\n      "):tK({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var x="M ".concat(f.x,",").concat(f.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n  ");if(r>0){var w=eK({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),S=w.circleTangency,E=w.lineTangency,k=w.theta,_=eK({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),O=_.circleTangency,T=_.lineTangency,j=_.theta,C=s?Math.abs(l-c):Math.abs(l-c)-k-j;if(C<0&&0===o)return"".concat(x,"L").concat(t,",").concat(n,"Z");x+="L".concat(T.x,",").concat(T.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(O.x,",").concat(O.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(C>180),",").concat(+(u>0),",").concat(S.x,",").concat(S.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(E.x,",").concat(E.y,"Z")}else x+="L".concat(t,",").concat(n,"Z");return x}({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,p/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u}):tK({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:u}),V.createElement("path",XG({},wP(t,!0),{className:f,d:d,role:"img"}))};function iK(e){return(iK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oK(){return oK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oK.apply(this,arguments)}function aK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aK(Object(n),!0).forEach(function(t){lK(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aK(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function lK(e,t,n){return t=function(e){var t=function(e,t){if("object"!=iK(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=iK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==iK(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cK={curveBasisClosed:function(e){return new WA(e)},curveBasisOpen:function(e){return new GA(e)},curveBasis:function(e){return new HA(e)},curveBumpX:function(e){return new _A(e,!0)},curveBumpY:function(e){return new _A(e,!1)},curveLinearClosed:function(e){return new KA(e)},curveLinear:xA,curveMonotoneX:function(e){return new ZA(e)},curveMonotoneY:function(e){return new eI(e)},curveNatural:function(e){return new nI(e)},curveStep:function(e){return new iI(e,.5)},curveStepAfter:function(e){return new iI(e,1)},curveStepBefore:function(e){return new iI(e,0)}},uK=function(e){return e.x===+e.x&&e.y===+e.y},hK=function(e){return e.x},dK=function(e){return e.y},fK=function(e){var t,n=e.type,r=void 0===n?"linear":n,i=e.points,o=void 0===i?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(wj(e))return e;var n="curve".concat(iA(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?cK[n]||xA:cK["".concat(n).concat("vertical"===t?"Y":"X")]}(r,s),h=c?o.filter(function(e){return uK(e)}):o;if(Array.isArray(a)){var d=c?a.filter(function(e){return uK(e)}):a,f=h.map(function(e,t){return sK(sK({},e),{},{base:d[t]})});return(t="vertical"===s?kA().y(dK).x1(hK).x0(function(e){return e.base.x}):kA().x(hK).y1(dK).y0(function(e){return e.base.y})).defined(uK).curve(u),t(f)}return(t="vertical"===s&&HN(a)?kA().y(dK).x1(hK).x0(a):HN(a)?kA().x(hK).y1(dK).y0(a):EA().x(hK).y(dK)).defined(uK).curve(u),t(h)},pK=function(e){var t=e.className,n=e.points,r=e.path,i=e.pathRef;if(!(n&&n.length||r))return null;var o=n&&n.length?fK(e):r;return B.createElement("path",oK({},wP(e,!1),aP(e),{className:$T("recharts-curve",t),d:o,ref:i}))},mK={exports:{}};function yK(){}function gK(){}gK.resetWarningCache=yK;mK.exports=function(){function e(e,t,n,r,i,o){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:gK,resetWarningCache:yK};return n.PropTypes=n,n}();const vK=n(mK.exports);var bK=Object.getOwnPropertyNames,xK=Object.getOwnPropertySymbols,wK=Object.prototype.hasOwnProperty;function SK(e,t){return function(n,r,i){return e(n,r,i)&&t(n,r,i)}}function EK(e){return function(t,n,r){if(!t||!n||"object"!=typeof t||"object"!=typeof n)return e(t,n,r);var i=r.cache,o=i.get(t),a=i.get(n);if(o&&a)return o===n&&a===t;i.set(t,n),i.set(n,t);var s=e(t,n,r);return i.delete(t),i.delete(n),s}}function kK(e){return bK(e).concat(xK(e))}var _K=Object.hasOwn||function(e,t){return wK.call(e,t)};function OK(e,t){return e===t||!e&&!t&&e!=e&&t!=t}var TK=Object.getOwnPropertyDescriptor,jK=Object.keys;function CK(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function NK(e,t){return OK(e.getTime(),t.getTime())}function PK(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function AK(e,t){return e===t}function IK(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,o,a=new Array(r),s=e.entries(),l=0;(i=s.next())&&!i.done;){for(var c=t.entries(),u=!1,h=0;(o=c.next())&&!o.done;)if(a[h])h++;else{var d=i.value,f=o.value;if(n.equals(d[0],f[0],l,h,e,t,n)&&n.equals(d[1],f[1],d[0],f[0],e,t,n)){u=a[h]=!0;break}h++}if(!u)return!1;l++}return!0}var MK=OK;function DK(e,t,n){var r=jK(e),i=r.length;if(jK(t).length!==i)return!1;for(;i-- >0;)if(!VK(e,t,n,r[i]))return!1;return!0}function RK(e,t,n){var r,i,o,a=kK(e),s=a.length;if(kK(t).length!==s)return!1;for(;s-- >0;){if(!VK(e,t,n,r=a[s]))return!1;if(i=TK(e,r),o=TK(t,r),(i||o)&&(!i||!o||i.configurable!==o.configurable||i.enumerable!==o.enumerable||i.writable!==o.writable))return!1}return!0}function LK(e,t){return OK(e.valueOf(),t.valueOf())}function FK(e,t){return e.source===t.source&&e.flags===t.flags}function UK(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,o,a=new Array(r),s=e.values();(i=s.next())&&!i.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!a[u]&&n.equals(i.value,o.value,i.value,o.value,e,t,n)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function zK(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function BK(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function VK(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||_K(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var $K=Array.isArray,qK="function"==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,HK=Object.assign,WK=Object.prototype.toString.call.bind(Object.prototype.toString);var GK=KK();function KK(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,i=e.createInternalComparator,o=e.createState,a=e.strict,s=void 0!==a&&a,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?RK:CK,areDatesEqual:NK,areErrorsEqual:PK,areFunctionsEqual:AK,areMapsEqual:r?SK(IK,RK):IK,areNumbersEqual:MK,areObjectsEqual:r?RK:DK,arePrimitiveWrappersEqual:LK,areRegExpsEqual:FK,areSetsEqual:r?SK(UK,RK):UK,areTypedArraysEqual:r?RK:zK,areUrlsEqual:BK};if(n&&(i=HK({},i,n(i))),t){var o=EK(i.areArraysEqual),a=EK(i.areMapsEqual),s=EK(i.areObjectsEqual),l=EK(i.areSetsEqual);i=HK({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,o=e.areMapsEqual,a=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,h=e.areTypedArraysEqual,d=e.areUrlsEqual;return function(e,f,p){if(e===f)return!0;if(null==e||null==f)return!1;var m=typeof e;if(m!==typeof f)return!1;if("object"!==m)return"number"===m?a(e,f,p):"function"===m&&i(e,f,p);var y=e.constructor;if(y!==f.constructor)return!1;if(y===Object)return s(e,f,p);if($K(e))return t(e,f,p);if(null!=qK&&qK(e))return h(e,f,p);if(y===Date)return n(e,f,p);if(y===RegExp)return c(e,f,p);if(y===Map)return o(e,f,p);if(y===Set)return u(e,f,p);var g=WK(e);return"[object Date]"===g?n(e,f,p):"[object RegExp]"===g?c(e,f,p):"[object Map]"===g?o(e,f,p):"[object Set]"===g?u(e,f,p):"[object Object]"===g?"function"!=typeof e.then&&"function"!=typeof f.then&&s(e,f,p):"[object URL]"===g?d(e,f,p):"[object Error]"===g?r(e,f,p):"[object Arguments]"===g?s(e,f,p):("[object Boolean]"===g||"[object Number]"===g||"[object String]"===g)&&l(e,f,p)}}(l),u=i?i(c):(t=c,function(e,n,r,i,o,a,s){return t(e,n,s)});return function(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,o=e.strict;if(r)return function(e,a){var s=r(),l=s.cache,c=void 0===l?t?new WeakMap:void 0:l,u=s.meta;return n(e,a,{cache:c,equals:i,meta:u,strict:o})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(e,t){return n(e,t,a)}}({circular:r,comparator:c,createState:o,equals:u,strict:s})}function YK(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame(function r(i){n<0&&(n=i),i-n>t?(e(i),n=-1):function(e){"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)})}function XK(e){return(XK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function QK(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return JK(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JK(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JK(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ZK(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var i=QK(r),o=i[0],a=i.slice(1);return"number"==typeof o?void YK(n.bind(null,a),o):(n(o),void YK(n.bind(null,a)))}"object"===XK(r)&&e(r),"function"==typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function eY(e){return(eY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tY(Object(n),!0).forEach(function(t){rY(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tY(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rY(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==eY(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eY(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eY(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}KK({strict:!0}),KK({circular:!0}),KK({circular:!0,strict:!0}),KK({createInternalComparator:function(){return OK}}),KK({strict:!0,createInternalComparator:function(){return OK}}),KK({circular:!0,createInternalComparator:function(){return OK}}),KK({circular:!0,createInternalComparator:function(){return OK},strict:!0});var iY=function(e){return e},oY=function(e,t){return Object.keys(t).reduce(function(n,r){return nY(nY({},n),{},rY({},r,e(r,t[r])))},{})},aY=function(e,t,n){return e.map(function(e){return"".concat((r=e,r.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(n);var r}).join(",")};function sY(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||cY(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lY(e){return function(e){if(Array.isArray(e))return uY(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||cY(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cY(e,t){if(e){if("string"==typeof e)return uY(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uY(e,t):void 0}}function uY(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hY=1e-4,dY=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},fY=function(e,t){return e.map(function(e,n){return e*Math.pow(t,n)}).reduce(function(e,t){return e+t})},pY=function(e,t){return function(n){var r=dY(e,t);return fY(r,n)}},mY=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=t[2],a=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,i=0,o=1,a=1;break;case"ease":r=.25,i=.1,o=.25,a=1;break;case"ease-in":r=.42,i=0,o=1,a=1;break;case"ease-out":r=.42,i=0,o=.58,a=1;break;case"ease-in-out":r=0,i=0,o=.58,a=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=sY(s[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),4);r=l[0],i=l[1],o=l[2],a=l[3]}}var c,u,h=pY(r,o),d=pY(i,a),f=(c=r,u=o,function(e){var t=dY(c,u),n=[].concat(lY(t.map(function(e,t){return e*t}).slice(1)),[0]);return fY(n,e)}),p=function(e){return e>1?1:e<0?0:e},m=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=h(n)-t,o=f(n);if(Math.abs(i-t)<hY||o<hY)return d(n);n=p(n-i/o)}return d(n)};return m.isStepper=!1,m},yY=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"==typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return mY(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,i=void 0===r?8:r,o=e.dt,a=void 0===o?17:o,s=function(e,t,r){var o=r+(-(e-t)*n-r*i)*a/1e3,s=r*a/1e3+e;return Math.abs(s-t)<hY&&Math.abs(o)<hY?[t,0]:[s,o]};return s.isStepper=!0,s.dt=a,s}();default:if("cubic-bezier"===r.split("(")[0])return mY(r)}return"function"==typeof r?r:null};function gY(e){return(gY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vY(e){return function(e){if(Array.isArray(e))return kY(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||EY(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bY(Object(n),!0).forEach(function(t){wY(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bY(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wY(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==gY(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==gY(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===gY(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SY(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||EY(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EY(e,t){if(e){if("string"==typeof e)return kY(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kY(e,t):void 0}}function kY(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _Y=function(e,t,n){return e+(t-e)*n},OY=function(e){return e.from!==e.to},TY=function e(t,n,r){var i=oY(function(e,n){if(OY(n)){var r=SY(t(n.from,n.to,n.velocity),2),i=r[0],o=r[1];return xY(xY({},n),{},{from:i,velocity:o})}return n},n);return r<1?oY(function(e,t){return OY(t)?xY(xY({},t),{},{velocity:_Y(t.velocity,i[e].velocity,r),from:_Y(t.from,i[e].from,r)}):t},n):e(t,i,r-1)};const jY=function(e,t,n,r,i){var o,a,s,l,c=(o=e,a=t,[Object.keys(o),Object.keys(a)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),u=c.reduce(function(n,r){return xY(xY({},n),{},wY({},r,[e[r],t[r]]))},{}),h=c.reduce(function(n,r){return xY(xY({},n),{},wY({},r,{from:e[r],velocity:0,to:t[r]}))},{}),d=-1,f=function(){return null};return f=n.isStepper?function(r){s||(s=r);var o=(r-s)/n.dt;h=TY(n,h,o),i(xY(xY(xY({},e),t),oY(function(e,t){return t.from},h))),s=r,Object.values(h).filter(OY).length&&(d=requestAnimationFrame(f))}:function(o){l||(l=o);var a=(o-l)/r,s=oY(function(e,t){return _Y.apply(void 0,vY(t).concat([n(a)]))},u);if(i(xY(xY(xY({},e),t),s)),a<1)d=requestAnimationFrame(f);else{var c=oY(function(e,t){return _Y.apply(void 0,vY(t).concat([n(1)]))},u);i(xY(xY(xY({},e),t),c))}},function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(d)}}};function CY(e){return(CY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var NY=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function PY(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function AY(e){return function(e){if(Array.isArray(e))return IY(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return IY(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IY(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IY(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function MY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function DY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MY(Object(n),!0).forEach(function(t){RY(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MY(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function RY(e,t,n){return(t=FY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,FY(r.key),r)}}function FY(e){var t=function(e,t){if("object"!==CY(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==CY(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===CY(t)?t:String(t)}function UY(e,t){return(UY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function zY(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Kd){return!1}}();return function(){var n,r=$Y(e);if(t){var i=$Y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return BY(this,n)}}function BY(e,t){if(t&&("object"===CY(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return VY(e)}function VY(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $Y(e){return($Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qY=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UY(e,t)}(i,B.PureComponent);var e,t,n,r=zY(i);function i(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var o=(n=r.call(this,e,t)).props,a=o.isActive,s=o.attributeName,l=o.from,c=o.to,u=o.steps,h=o.children,d=o.duration;if(n.handleStyleChange=n.handleStyleChange.bind(VY(n)),n.changeStyle=n.changeStyle.bind(VY(n)),!a||d<=0)return n.state={style:{}},"function"==typeof h&&(n.state={style:c}),BY(n);if(u&&u.length)n.state={style:u[0].style};else if(l){if("function"==typeof h)return n.state={style:l},BY(n);n.state={style:s?RY({},s,l):l}}else n.state={style:{}};return n}return e=i,(t=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,i=t.attributeName,o=t.shouldReAnimate,a=t.to,s=t.from,l=this.state.style;if(r)if(n){if(!(GK(e.to,a)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||o?s:e.to;if(this.state&&l){var h={style:i?RY({},i,u):u};(i&&l[i]!==u||!i&&l!==u)&&this.setState(h)}this.runAnimation(DY(DY({},this.props),{},{from:u,begin:0}))}}else{var d={style:i?RY({},i,a):a};this.state&&l&&(i&&l[i]!==a||!i&&l!==a)&&this.setState(d)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,i=e.duration,o=e.easing,a=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,c=jY(n,r,yY(o),i,this.changeStyle);this.manager.start([l,a,function(){t.stopJSAnimation=c()},i,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,i=e.onAnimationStart,o=n[0],a=o.style,s=o.duration,l=void 0===s?0:s;return this.manager.start([i].concat(AY(n.reduce(function(e,r,i){if(0===i)return e;var o=r.duration,a=r.easing,s=void 0===a?"ease":a,l=r.style,c=r.properties,u=r.onAnimationEnd,h=i>0?n[i-1]:r,d=c||Object.keys(l);if("function"==typeof s||"spring"===s)return[].concat(AY(e),[t.runJSAnimation.bind(t,{from:h.style,to:l,duration:o,easing:s}),o]);var f=aY(d,o,s),p=DY(DY(DY({},h.style),l),{},{transition:f});return[].concat(AY(e),[p,o,u]).filter(iY)},[a,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=ZK());var t=e.begin,n=e.duration,r=e.attributeName,i=e.to,o=e.easing,a=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!=typeof o&&"function"!=typeof c&&"spring"!==o)if(l.length>1)this.runStepAnimation(e);else{var h=r?RY({},r,i):i,d=aY(Object.keys(h),n,o);u.start([a,t,DY(DY({},h),{},{transition:d}),n,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children;e.begin;var n=e.duration;e.attributeName,e.easing;var r=e.isActive;e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart;var i=PY(e,NY),o=B.Children.count(t),a=this.state.style;if("function"==typeof t)return t(a);if(!r||0===o||n<=0)return t;var s=function(e){var t=e.props,n=t.style,r=void 0===n?{}:n,o=t.className;return B.cloneElement(e,DY(DY({},i),{},{style:DY(DY({},r),a),className:o}))};return 1===o?s(B.Children.only(t)):V.createElement("div",null,B.Children.map(t,function(e){return s(e)}))}}])&&LY(e.prototype,t),n&&LY(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();qY.displayName="Animate",qY.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},qY.propTypes={from:vK.oneOfType([vK.object,vK.string]),to:vK.oneOfType([vK.object,vK.string]),attributeName:vK.string,duration:vK.number,begin:vK.number,easing:vK.oneOfType([vK.string,vK.func]),steps:vK.arrayOf(vK.shape({duration:vK.number.isRequired,style:vK.object.isRequired,easing:vK.oneOfType([vK.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),vK.func]),properties:vK.arrayOf("string"),onAnimationEnd:vK.func})),children:vK.oneOfType([vK.node,vK.func]),isActive:vK.bool,canBegin:vK.bool,onAnimationEnd:vK.func,shouldReAnimate:vK.bool,onAnimationStart:vK.func,onAnimationReStart:vK.func};const HY=qY;function WY(e){return(WY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GY(){return GY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GY.apply(this,arguments)}function KY(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return YY(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YY(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YY(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function XY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function QY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XY(Object(n),!0).forEach(function(t){JY(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XY(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function JY(e,t,n){return t=function(e){var t=function(e,t){if("object"!=WY(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=WY(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==WY(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ZY=function(e,t,n,r,i){var o,a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],h=0;h<4;h++)u[h]=i[h]>a?a:i[h];o="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(o+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),o+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(o+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*u[1])),o+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(o+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),o+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(o+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*u[3])),o+="Z"}else if(a>0&&i===+i&&i>0){var d=Math.min(a,i);o="M ".concat(e,",").concat(t+s*d,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(e+l*d,",").concat(t,"\n            L ").concat(e+n-l*d,",").concat(t,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*d,"\n            L ").concat(e+n,",").concat(t+r-s*d,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(e+n-l*d,",").concat(t+r,"\n            L ").concat(e+l*d,",").concat(t+r,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*d," Z")}else o="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return o},eX=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,i=t.x,o=t.y,a=t.width,s=t.height;if(Math.abs(a)>0&&Math.abs(s)>0){var l=Math.min(i,i+a),c=Math.max(i,i+a),u=Math.min(o,o+s),h=Math.max(o,o+s);return n>=l&&n<=c&&r>=u&&r<=h}return!1},tX={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nX=function(e){var t=QY(QY({},tX),e),n=B.useRef(),r=KY(B.useState(-1),2),i=r[0],o=r[1];B.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&o(e)}catch(t){}},[]);var a=t.x,s=t.y,l=t.width,c=t.height,u=t.radius,h=t.className,d=t.animationEasing,f=t.animationDuration,p=t.animationBegin,m=t.isAnimationActive,y=t.isUpdateAnimationActive;if(a!==+a||s!==+s||l!==+l||c!==+c||0===l||0===c)return null;var g=$T("recharts-rectangle",h);return y?V.createElement(HY,{canBegin:i>0,from:{width:l,height:c,x:a,y:s},to:{width:l,height:c,x:a,y:s},duration:f,animationEasing:d,isActive:y},function(e){var r=e.width,o=e.height,a=e.x,s=e.y;return V.createElement(HY,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:f,isActive:m,easing:d},V.createElement("path",GY({},wP(t,!0),{className:g,d:ZY(a,s,r,o,u),ref:n})))}):V.createElement("path",GY({},wP(t,!0),{className:g,d:ZY(a,s,l,c,u)}))};function rX(){return rX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rX.apply(this,arguments)}var iX=function(e){var t=e.cx,n=e.cy,r=e.r,i=$T("recharts-dot",e.className);return t===+t&&n===+n&&r===+r?B.createElement("circle",rX({},wP(e,!1),aP(e),{className:i,cx:t,cy:n,r:r})):null};function oX(e){return(oX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var aX=["x","y","top","left","width","height","className"];function sX(){return sX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sX.apply(this,arguments)}function lX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cX(e,t,n){return t=function(e){var t=function(e,t){if("object"!=oX(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oX(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uX(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var hX=function(e,t,n,r,i,o){return"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n)},dX=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,o=e.top,a=void 0===o?0:o,s=e.left,l=void 0===s?0:s,c=e.width,u=void 0===c?0:c,h=e.height,d=void 0===h?0:h,f=e.className,p=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lX(Object(n),!0).forEach(function(t){cX(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lX(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:n,y:i,top:a,left:l,width:u,height:d},uX(e,aX));return HN(n)&&HN(i)&&HN(u)&&HN(d)&&HN(a)&&HN(l)?V.createElement("path",sX({},wP(p,!0),{className:$T("recharts-cross",f),d:hX(n,i,u,d,a,l)})):null},fX=lD(Object.getPrototypeOf,Object),pX=aj,mX=fX,yX=sj,gX=Function.prototype,vX=Object.prototype,bX=gX.toString,xX=vX.hasOwnProperty,wX=bX.call(Object);const SX=n(function(e){if(!yX(e)||"[object Object]"!=pX(e))return!1;var t=mX(e);if(null===t)return!0;var n=xX.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&bX.call(n)==wX});var EX=aj,kX=sj;const _X=n(function(e){return!0===e||!1===e||kX(e)&&"[object Boolean]"==EX(e)});function OX(e){return(OX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TX(){return TX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TX.apply(this,arguments)}function jX(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return CX(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CX(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CX(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function NX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function PX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NX(Object(n),!0).forEach(function(t){AX(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NX(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function AX(e,t,n){return t=function(e){var t=function(e,t){if("object"!=OX(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=OX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==OX(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var IX=function(e,t,n,r,i){var o,a=n-r;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-a/2,",").concat(t+i),o+="L ".concat(e+n-a/2-r,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z")},MX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},DX=function(e){var t=PX(PX({},MX),e),n=B.useRef(),r=jX(B.useState(-1),2),i=r[0],o=r[1];B.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&o(e)}catch(t){}},[]);var a=t.x,s=t.y,l=t.upperWidth,c=t.lowerWidth,u=t.height,h=t.className,d=t.animationEasing,f=t.animationDuration,p=t.animationBegin,m=t.isUpdateAnimationActive;if(a!==+a||s!==+s||l!==+l||c!==+c||u!==+u||0===l&&0===c||0===u)return null;var y=$T("recharts-trapezoid",h);return m?V.createElement(HY,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:u,x:a,y:s},to:{upperWidth:l,lowerWidth:c,height:u,x:a,y:s},duration:f,animationEasing:d,isActive:m},function(e){var r=e.upperWidth,o=e.lowerWidth,a=e.height,s=e.x,l=e.y;return V.createElement(HY,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:f,easing:d},V.createElement("path",TX({},wP(t,!0),{className:y,d:IX(s,l,r,o,a),ref:n})))}):V.createElement("g",null,V.createElement("path",TX({},wP(t,!0),{className:y,d:IX(a,s,l,c,u)})))},RX=["option","shapeType","propTransformer","activeClassName","isActive"];function LX(e){return(LX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FX(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function UX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UX(Object(n),!0).forEach(function(t){BX(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UX(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function BX(e,t,n){return t=function(e){var t=function(e,t){if("object"!=LX(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=LX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==LX(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VX(e,t){return zX(zX({},t),e)}function $X(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return V.createElement(nX,n);case"trapezoid":return V.createElement(DX,n);case"sector":return V.createElement(rK,n);case"symbols":if(function(e){return"symbols"===e}(t))return V.createElement(vI,n);break;default:return null}}function qX(e){var t,n=e.option,r=e.shapeType,i=e.propTransformer,o=void 0===i?VX:i,a=e.activeClassName,s=void 0===a?"recharts-active-shape":a,l=e.isActive,c=FX(e,RX);if(B.isValidElement(n))t=B.cloneElement(n,zX(zX({},c),function(e){return B.isValidElement(e)?e.props:e}(n)));else if(wj(n))t=n(c);else if(SX(n)&&!_X(n)){var u=o(n,c);t=V.createElement($X,{shapeType:r,elementProps:u})}else{var h=c;t=V.createElement($X,{shapeType:r,elementProps:h})}return l?V.createElement(AP,{className:s},t):t}function HX(e,t){return null!=t&&"trapezoids"in e.props}function WX(e,t){return null!=t&&"sectors"in e.props}function GX(e,t){return null!=t&&"points"in e.props}function KX(e,t){var n,r,i=e.x===(null==t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,o=e.y===(null==t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return i&&o}function YX(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function XX(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function QX(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=function(e,t){var n;return HX(e,t)?n="trapezoids":WX(e,t)?n="sectors":GX(e,t)&&(n="points"),n}(n,t),o=function(e,t){var n,r;return HX(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:WX(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:GX(e,t)?t.payload:{}}(n,t),a=r.filter(function(e,r){var a=yH(o,e),s=n.props[i].filter(function(e){var r=function(e,t){var n;return HX(e,t)?n=KX:WX(e,t)?n=YX:GX(e,t)&&(n=XX),n}(n,t);return r(e,t)}),l=n.props[i].indexOf(s[s.length-1]);return a&&r===l});return r.indexOf(a[a.length-1])}var JX=Math.ceil,ZX=Math.max;var eQ=yU,tQ=1/0;var nQ=function(e){return e?(e=eQ(e))===tQ||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},rQ=function(e,t,n,r){for(var i=-1,o=ZX(JX((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a},iQ=mF,oQ=nQ;const aQ=n(function(e){return function(t,n,r){return r&&"number"!=typeof r&&iQ(t,n,r)&&(n=r=void 0),t=oQ(t),void 0===n?(n=t,t=0):n=oQ(n),r=void 0===r?t<n?1:-1:oQ(r),rQ(t,n,r,e)}}());function sQ(e){return(sQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lQ(Object(n),!0).forEach(function(t){uQ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lQ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function uQ(e,t,n){return t=function(e){var t=function(e,t){if("object"!=sQ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sQ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sQ(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hQ=["Webkit","Moz","O","ms"];function dQ(e){return(dQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fQ(){return fQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fQ.apply(this,arguments)}function pQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pQ(Object(n),!0).forEach(function(t){wQ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pQ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function yQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SQ(r.key),r)}}function gQ(e,t,n){return t=bQ(t),function(e,t){if(t&&("object"===dQ(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,vQ()?Reflect.construct(t,n||[],bQ(e).constructor):t.apply(e,n))}function vQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(vQ=function(){return!!e})()}function bQ(e){return(bQ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xQ(e,t){return(xQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function wQ(e,t,n){return(t=SQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SQ(e){var t=function(e,t){if("object"!=dQ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dQ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dQ(t)?t:t+""}var EQ=function(e){return e.changedTouches&&!!e.changedTouches.length},kQ=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),wQ(n=gQ(this,e,[t]),"handleDrag",function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)}),wQ(n,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])}),wQ(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=n.props,t=e.endIndex,r=e.onDragEnd,i=e.startIndex;null==r||r({endIndex:t,startIndex:i})}),n.detachDragEndListener()}),wQ(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),wQ(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),wQ(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),wQ(n,"handleSlideDragStart",function(e){var t=EQ(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xQ(e,t)}(e,B.PureComponent),t=e,n=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(t){var n=t.startX,r=t.endX,i=this.state.scaleValues,o=this.props,a=o.gap,s=o.data.length-1,l=Math.min(n,r),c=Math.max(n,r),u=e.getIndexInRange(i,l),h=e.getIndexInRange(i,c);return{startIndex:u-u%a,endIndex:h===s?s:h-h%a}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,i=t.dataKey,o=WW(n[e],i,e);return wj(r)?r(o,e):o}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,i=t.endX,o=this.props,a=o.x,s=o.width,l=o.travellerWidth,c=o.startIndex,u=o.endIndex,h=o.onChange,d=e.pageX-n;d>0?d=Math.min(d,a+s-l-i,a+s-l-r):d<0&&(d=Math.max(d,a-r,a-i));var f=this.getIndex({startX:r+d,endX:i+d});f.startIndex===c&&f.endIndex===u||!h||h(f),this.setState({startX:r+d,endX:i+d,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=EQ(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,i=t.endX,o=t.startX,a=this.state[r],s=this.props,l=s.x,c=s.width,u=s.travellerWidth,h=s.onChange,d=s.gap,f=s.data,p={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,l+c-u-a):m<0&&(m=Math.max(m,l-a)),p[r]=a+m;var y=this.getIndex(p),g=y.startIndex,v=y.endIndex;this.setState(wQ(wQ({},r,a+m),"brushMoveStartX",e.pageX),function(){var e;h&&(e=f.length-1,("startX"===r&&(i>o?g%d===0:v%d===0)||i<o&&v===e||"endX"===r&&(i>o?v%d===0:g%d===0)||i>o&&v===e)&&h(y))})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,i=r.scaleValues,o=r.startX,a=r.endX,s=this.state[t],l=i.indexOf(s);if(-1!==l){var c=l+e;if(!(-1===c||c>=i.length)){var u=i[c];"startX"===t&&u>=a||"endX"===t&&u<=o||this.setState(wQ({},t,u),function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,i=e.height,o=e.fill,a=e.stroke;return V.createElement("rect",{stroke:a,fill:o,x:t,y:n,width:r,height:i})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,i=e.height,o=e.data,a=e.children,s=e.padding,l=B.Children.only(a);return l?V.cloneElement(l,{x:t,y:n,width:r,height:i,margin:s,compact:!0,data:o}):null}},{key:"renderTravellerLayer",value:function(t,n){var r,i,o=this,a=this.props,s=a.y,l=a.travellerWidth,c=a.height,u=a.traveller,h=a.ariaLabel,d=a.data,f=a.startIndex,p=a.endIndex,m=Math.max(t,this.props.x),y=mQ(mQ({},wP(this.props,!1)),{},{x:m,y:s,width:l,height:c}),g=h||"Min value: ".concat(null===(r=d[f])||void 0===r?void 0:r.name,", Max value: ").concat(null===(i=d[p])||void 0===i?void 0:i.name);return V.createElement(AP,{tabIndex:0,role:"slider","aria-label":g,"aria-valuenow":t,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),o.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(u,y))}},{key:"renderSlide",value:function(e,t){var n=this.props,r=n.y,i=n.height,o=n.stroke,a=n.travellerWidth,s=Math.min(e,t)+a,l=Math.max(Math.abs(t-e)-a,0);return V.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:o,fillOpacity:.2,x:s,y:r,width:l,height:i})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,r=e.y,i=e.height,o=e.travellerWidth,a=e.stroke,s=this.state,l=s.startX,c=s.endX,u={pointerEvents:"none",fill:a};return V.createElement(AP,{className:"recharts-brush-texts"},V.createElement(mz,fQ({textAnchor:"end",verticalAnchor:"middle",x:Math.min(l,c)-5,y:r+i/2},u),this.getTextOfTick(t)),V.createElement(mz,fQ({textAnchor:"start",verticalAnchor:"middle",x:Math.max(l,c)+o+5,y:r+i/2},u),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,r=e.children,i=e.x,o=e.y,a=e.width,s=e.height,l=e.alwaysShowText,c=this.state,u=c.startX,h=c.endX,d=c.isTextActive,f=c.isSlideMoving,p=c.isTravellerMoving,m=c.isTravellerFocused;if(!t||!t.length||!HN(i)||!HN(o)||!HN(a)||!HN(s)||a<=0||s<=0)return null;var y=$T("recharts-brush",n),g=1===V.Children.count(r),v=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,function(e){return e.toUpperCase()}),r=hQ.reduce(function(e,r){return cQ(cQ({},e),{},uQ({},r+n,t))},{});return r[e]=t,r}("userSelect","none");return V.createElement(AP,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:v},this.renderBackground(),g&&this.renderPanorama(),this.renderSlide(u,h),this.renderTravellerLayer(u,"startX"),this.renderTravellerLayer(h,"endX"),(d||f||p||m||l)&&this.renderText())}}],r=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.stroke,a=Math.floor(n+i/2)-1;return V.createElement(V.Fragment,null,V.createElement("rect",{x:t,y:n,width:r,height:i,fill:o,stroke:"none"}),V.createElement("line",{x1:t+1,y1:a,x2:t+r-1,y2:a,fill:"none",stroke:"#fff"}),V.createElement("line",{x1:t+1,y1:a+2,x2:t+r-1,y2:a+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(t,n){return V.isValidElement(t)?V.cloneElement(t,n):wj(t)?t(n):e.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,i=e.x,o=e.travellerWidth,a=e.updateId,s=e.startIndex,l=e.endIndex;if(n!==t.prevData||a!==t.prevUpdateId)return mQ({prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,i=e.x,o=e.width,a=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=Hz().domain(aQ(0,s)).range([i,i+o-a]),c=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:i,travellerWidth:o,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||i!==t.prevX||o!==t.prevTravellerWidth)){t.scale.range([i,i+r-o]);var c=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i}return t>=e[r]?r:n}}],n&&yQ(t.prototype,n),r&&yQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();wQ(kQ,"displayName","Brush"),wQ(kQ,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var _Q=DL;var OQ=KI,TQ=qR,jQ=function(e,t){var n;return _Q(e,function(e,r,i){return!(n=t(e,r,i))}),!!n},CQ=qT,NQ=mF;const PQ=n(function(e,t,n){var r=CQ(e)?OQ:jQ;return n&&NQ(e,t,n)&&(t=void 0),r(e,TQ(t))});var AQ=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},IQ=nF;var MQ=function(e,t,n){"__proto__"==t&&IQ?IQ(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},DQ=IL,RQ=qR;const LQ=n(function(e,t){var n={};return t=RQ(t),DQ(e,function(e,r,i){MQ(n,r,t(e,r,i))}),n});var FQ=DL;var UQ=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0},zQ=function(e,t){var n=!0;return FQ(e,function(e,r,i){return n=!!t(e,r,i)}),n},BQ=qR,VQ=qT,$Q=mF;const qQ=n(function(e,t,n){var r=VQ(e)?UQ:zQ;return n&&$Q(e,t,n)&&(t=void 0),r(e,BQ(t))});var HQ=["x","y"];function WQ(e){return(WQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GQ(){return GQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GQ.apply(this,arguments)}function KQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function YQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KQ(Object(n),!0).forEach(function(t){XQ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KQ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function XQ(e,t,n){return t=function(e){var t=function(e,t){if("object"!=WQ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=WQ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==WQ(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QQ(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function JQ(e,t){var n=e.x,r=e.y,i=QQ(e,HQ),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),h="".concat(t.width||i.width),d=parseInt(h,10);return YQ(YQ(YQ(YQ(YQ({},t),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:d,name:t.name,radius:t.radius})}function ZQ(e){return V.createElement(qX,GQ({shapeType:"rectangle",propTransformer:JQ,activeClassName:"recharts-active-bar"},e))}var eJ,tJ=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"==typeof e)return e;var i=HN(n)||function(e){return fN(e)}(n);return i?e(n,r):(i||xW(!1),t)}},nJ=["value","background"];function rJ(e){return(rJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iJ(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oJ(){return oJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oJ.apply(this,arguments)}function aJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aJ(Object(n),!0).forEach(function(t){fJ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aJ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function lJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pJ(r.key),r)}}function cJ(e,t,n){return t=hJ(t),function(e,t){if(t&&("object"===rJ(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,uJ()?Reflect.construct(t,n||[],hJ(e).constructor):t.apply(e,n))}function uJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(uJ=function(){return!!e})()}function hJ(e){return(hJ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dJ(e,t){return(dJ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function fJ(e,t,n){return(t=pJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pJ(e){var t=function(e,t){if("object"!=rJ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rJ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rJ(t)?t:t+""}var mJ=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return fJ(t=cJ(this,e,[].concat(r)),"state",{isAnimationFinished:!1}),fJ(t,"id",KN("recharts-bar-")),fJ(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),e&&e()}),fJ(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),e&&e()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dJ(e,t)}(e,B.PureComponent),t=e,n=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,r=n.shape,i=n.dataKey,o=n.activeIndex,a=n.activeBar,s=wP(this.props,!1);return e&&e.map(function(e,n){var l=n===o,c=l?a:r,u=sJ(sJ(sJ({},s),e),{},{isActive:l,option:c,index:n,dataKey:i,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return V.createElement(AP,oJ({className:"recharts-bar-rectangle"},sP(t.props,e,n),{key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(n)}),V.createElement(ZQ,u))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,r=t.layout,i=t.isAnimationActive,o=t.animationBegin,a=t.animationDuration,s=t.animationEasing,l=t.animationId,c=this.state.prevData;return V.createElement(HY,{begin:o,duration:a,isActive:i,easing:s,from:{t:0},to:{t:1},key:"bar-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var i=t.t,o=n.map(function(e,t){var n=c&&c[t];if(n){var o=QN(n.x,e.x),a=QN(n.y,e.y),s=QN(n.width,e.width),l=QN(n.height,e.height);return sJ(sJ({},e),{},{x:o(i),y:a(i),width:s(i),height:l(i)})}if("horizontal"===r){var u=QN(0,e.height)(i);return sJ(sJ({},e),{},{y:e.y+e.height-u,height:u})}var h=QN(0,e.width)(i);return sJ(sJ({},e),{},{width:h})});return V.createElement(AP,null,e.renderRectanglesStatically(o))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&yH(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,r=t.dataKey,i=t.activeIndex,o=wP(this.props.background,!1);return n.map(function(t,n){t.value;var a=t.background,s=iJ(t,nJ);if(!a)return null;var l=sJ(sJ(sJ(sJ(sJ({},s),{},{fill:"#eee"},a),o),sP(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:r,index:n,className:"recharts-bar-background-rectangle"});return V.createElement(ZQ,oJ({key:"background-bar-".concat(n),option:e.props.background,isActive:n===i},l))})}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.data,i=n.xAxis,o=n.yAxis,a=n.layout,s=gP(n.children,MW);if(!s)return null;var l="vertical"===a?r[0].height/2:r[0].width/2,c=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:WW(e,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return V.createElement(AP,u,s.map(function(e){return V.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:r,xAxis:i,yAxis:o,layout:a,offset:l,dataPointFormatter:c})}))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,r=e.className,i=e.xAxis,o=e.yAxis,a=e.left,s=e.top,l=e.width,c=e.height,u=e.isAnimationActive,h=e.background,d=e.id;if(t||!n||!n.length)return null;var f=this.state.isAnimationFinished,p=$T("recharts-bar",r),m=i&&i.allowDataOverflow,y=o&&o.allowDataOverflow,g=m||y,v=fN(d)?this.id:d;return V.createElement(AP,{className:p},m||y?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(v)},V.createElement("rect",{x:m?a:a-l/2,y:y?s:s-c/2,width:m?l:2*l,height:y?c:2*c}))):null,V.createElement(AP,{className:"recharts-bar-rectangles",clipPath:g?"url(#clipPath-".concat(v,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(g,v),(!u||f)&&KG.renderCallByParent(this.props,n))}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],n&&lJ(t.prototype,n),r&&lJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function yJ(e){return(yJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wJ(r.key),r)}}function vJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vJ(Object(n),!0).forEach(function(t){xJ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vJ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xJ(e,t,n){return(t=wJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wJ(e){var t=function(e,t){if("object"!=yJ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yJ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yJ(t)?t:t+""}eJ=mJ,fJ(mJ,"displayName","Bar"),fJ(mJ,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!WF.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),fJ(mJ,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,a=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,h=e.displayedData,d=e.offset,f=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!f)return null;var p=t.layout,m=n.type.defaultProps,y=void 0!==m?sJ(sJ({},m),n.props):n.props,g=y.dataKey,v=y.children,b=y.minPointSize,x="horizontal"===p?a:o,w=c?x.scale.domain():null,S=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]}({numericAxis:x}),E=gP(v,AU),k=h.map(function(e,t){var r,h,d,m,y,v;c?r=function(e,t){if(!t||2!==t.length||!HN(t[0])||!HN(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!HN(e[0])||e[0]<n)&&(i[0]=n),(!HN(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i}(c[u+t],w):(r=WW(e,g),Array.isArray(r)||(r=[S,r]));var x=tJ(b,eJ.defaultProps.minPointSize)(r[1],t);if("horizontal"===p){var k,_=[a.scale(r[0]),a.scale(r[1])],O=_[0],T=_[1];h=aG({axis:o,ticks:s,bandSize:i,offset:f.offset,entry:e,index:t}),d=null!==(k=null!=T?T:O)&&void 0!==k?k:void 0,m=f.size;var j=O-T;if(y=Number.isNaN(j)?0:j,v={x:h,y:a.y,width:m,height:a.height},Math.abs(x)>0&&Math.abs(y)<Math.abs(x)){var C=$N(y||x)*(Math.abs(x)-Math.abs(y));d-=C,y+=C}}else{var N=[o.scale(r[0]),o.scale(r[1])],P=N[0],A=N[1];if(h=P,d=aG({axis:a,ticks:l,bandSize:i,offset:f.offset,entry:e,index:t}),m=A-P,y=f.size,v={x:o.x,y:d,width:o.width,height:y},Math.abs(x)>0&&Math.abs(m)<Math.abs(x))m+=$N(m||x)*(Math.abs(x)-Math.abs(m))}return sJ(sJ(sJ({},e),{},{x:h,y:d,width:m,height:y,value:c?r:r[1],payload:e,background:v},E&&E[t]&&E[t].props),{},{tooltipPayload:[fG(n,e)],tooltipPosition:{x:h+m/2,y:d+y/2}})});return sJ({data:k,layout:p},d)});var SJ=function(e,t,n,r,i){var o=e.width,a=e.height,s=e.layout,l=e.children,c=Object.keys(t),u={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:a-n.bottom,bottomMirror:a-n.bottom},h=!!vP(l,mJ);return c.reduce(function(o,a){var l,c,d,f,p,m=t[a],y=m.orientation,g=m.domain,v=m.padding,b=void 0===v?{}:v,x=m.mirror,w=m.reversed,S="".concat(y).concat(x?"Mirror":"");if("number"===m.type&&("gap"===m.padding||"no-gap"===m.padding)){var E=g[1]-g[0],k=1/0,_=m.categoricalDomain.sort(ZN);if(_.forEach(function(e,t){t>0&&(k=Math.min((e||0)-(_[t-1]||0),k))}),Number.isFinite(k)){var O=k/E,T="vertical"===m.layout?n.height:n.width;if("gap"===m.padding&&(l=O*T/2),"no-gap"===m.padding){var j=YN(e.barCategoryGap,O*T),C=O*T/2;l=C-j-(C-j)/T*j}}}c="xAxis"===r?[n.left+(b.left||0)+(l||0),n.left+n.width-(b.right||0)-(l||0)]:"yAxis"===r?"horizontal"===s?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(l||0),n.top+n.height-(b.bottom||0)-(l||0)]:m.range,w&&(c=[c[1],c[0]]);var N=function(e,t,n){var r=e.scale,i=e.type,o=e.layout,a=e.axisType;if("auto"===r)return"radial"===o&&"radiusAxis"===a?{scale:$z(),realScaleType:"band"}:"radial"===o&&"angleAxis"===a?{scale:dV(),realScaleType:"linear"}:"category"===i&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!n)?{scale:Hz(),realScaleType:"point"}:"category"===i?{scale:$z(),realScaleType:"band"}:{scale:dV(),realScaleType:"linear"};if(gN(r)){var s="scale".concat(iA(r));return{scale:(Qq[s]||Hz)(),realScaleType:Qq[s]?s:"point"}}return wj(r)?{scale:r}:{scale:Hz(),realScaleType:"point"}}(m,i,h),P=N.scale,A=N.realScaleType;P.domain(g).range(c),function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-nG,o=Math.max(r[0],r[1])+nG,a=e(t[0]),s=e(t[n-1]);(a<i||a>o||s<i||s>o)&&e.domain([t[0],t[n-1]])}}(P);var I=function(e,t){var n=t.realScaleType,r=t.type,i=t.tickCount,o=t.originalDomain,a=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(i&&"number"===r&&o&&("auto"===o[0]||"auto"===o[1])){var l=e.domain();if(!l.length)return null;var c=gW(l,i,a);return e.domain([sH(c),rH(c)]),{niceTicks:c}}if(i&&"number"===r){var u=e.domain();return{niceTicks:vW(u,i,a)}}return null}(P,bJ(bJ({},m),{},{realScaleType:A}));"xAxis"===r?(p="top"===y&&!x||"bottom"===y&&x,d=n.left,f=u[S]-p*m.height):"yAxis"===r&&(p="left"===y&&!x||"right"===y&&x,d=u[S]-p*m.width,f=n.top);var M=bJ(bJ(bJ({},m),I),{},{realScaleType:A,x:d,y:f,scale:P,width:"xAxis"===r?n.width:m.width,height:"yAxis"===r?n.height:m.height});return M.bandSize=hG(M,I),m.hide||"xAxis"!==r?m.hide||(u[S]+=(p?-1:1)*M.width):u[S]+=(p?-1:1)*M.height,bJ(bJ({},o),{},xJ({},a,M))},{})},EJ=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return{x:Math.min(n,i),y:Math.min(r,o),width:Math.abs(i-n),height:Math.abs(o-r)}},kJ=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i;case"end":var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&gJ(t.prototype,n),r&&gJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();xJ(kJ,"EPS",1e-4);var _J=function(e){var t=Object.keys(e).reduce(function(t,n){return bJ(bJ({},t),{},xJ({},n,kJ.create(e[n])))},{});return bJ(bJ({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return LQ(e,function(e,n){return t[n].apply(e,{bandAware:r,position:i})})},isInRange:function(e){return qQ(e,function(e,n){return t[n].isInRange(e)})}})};var OJ=qR,TJ=mD,jJ=bD;var CJ=function(e){return function(t,n,r){var i=Object(t);if(!TJ(t)){var o=OJ(n);t=jJ(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}},NJ=nQ;var PJ=HR,AJ=qR,IJ=function(e){var t=NJ(e),n=t%1;return t==t?n?t-n:t:0},MJ=Math.max;const DJ=n(CJ(function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:IJ(n);return i<0&&(i=MJ(r+i,0)),PJ(e,AJ(t),i)}));var RJ=zC(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),LJ=B.createContext(void 0),FJ=B.createContext(void 0),UJ=B.createContext(void 0),zJ=B.createContext({}),BJ=B.createContext(void 0),VJ=B.createContext(0),$J=B.createContext(0),qJ=function(e){var t=e.state,n=t.xAxisMap,r=t.yAxisMap,i=t.offset,o=e.clipPathId,a=e.children,s=e.width,l=e.height,c=RJ(i);return V.createElement(LJ.Provider,{value:n},V.createElement(FJ.Provider,{value:r},V.createElement(zJ.Provider,{value:i},V.createElement(UJ.Provider,{value:c},V.createElement(BJ.Provider,{value:o},V.createElement(VJ.Provider,{value:l},V.createElement($J.Provider,{value:s},a)))))))},HJ=function(e){var t=B.useContext(LJ);null==t&&xW(!1);var n=t[e];return null==n&&xW(!1),n},WJ=function(e){var t=B.useContext(FJ);null==t&&xW(!1);var n=t[e];return null==n&&xW(!1),n},GJ=function(){return B.useContext($J)},KJ=function(){return B.useContext(VJ)};function YJ(e){return(YJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function XJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iZ(r.key),r)}}function QJ(e,t,n){return t=ZJ(t),function(e,t){if(t&&("object"===YJ(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,JJ()?Reflect.construct(t,n||[],ZJ(e).constructor):t.apply(e,n))}function JJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(JJ=function(){return!!e})()}function ZJ(e){return(ZJ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eZ(e,t){return(eZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tZ(Object(n),!0).forEach(function(t){rZ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tZ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rZ(e,t,n){return(t=iZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iZ(e){var t=function(e,t){if("object"!=YJ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=YJ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==YJ(t)?t:t+""}function oZ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return aZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aZ(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sZ(){return sZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sZ.apply(this,arguments)}function lZ(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,o=e.yAxisId,a=e.shape,s=e.className,l=e.alwaysShow,c=B.useContext(BJ),u=HJ(i),h=WJ(o),d=B.useContext(UJ);if(!c||!d)return null;IP(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=function(e,t,n,r,i,o,a,s,l){var c=i.x,u=i.y,h=i.width,d=i.height;if(n){var f=l.y,p=e.y.apply(f,{position:o});if(AQ(l,"discard")&&!e.y.isInRange(p))return null;var m=[{x:c+h,y:p},{x:c,y:p}];return"left"===s?m.reverse():m}if(t){var y=l.x,g=e.x.apply(y,{position:o});if(AQ(l,"discard")&&!e.x.isInRange(g))return null;var v=[{x:g,y:u+d},{x:g,y:u}];return"top"===a?v.reverse():v}if(r){var b=l.segment.map(function(t){return e.apply(t,{position:o})});return AQ(l,"discard")&&PQ(b,function(t){return!e.isInRange(t)})?null:b}return null}(_J({x:u.scale,y:h.scale}),WN(t),WN(n),r&&2===r.length,d,e.position,u.orientation,h.orientation,e);if(!f)return null;var p=oZ(f,2),m=p[0],y=m.x,g=m.y,v=p[1],b=v.x,x=v.y,w=nZ(nZ({clipPath:AQ(e,"hidden")?"url(#".concat(c,")"):void 0},wP(e,!0)),{},{x1:y,y1:g,x2:b,y2:x});return V.createElement(AP,{className:$T("recharts-reference-line",s)},function(e,t){return V.isValidElement(e)?V.cloneElement(e,t):wj(e)?e(t):V.createElement("line",sZ({},t,{className:"recharts-reference-line-line"}))}(a,w),MG.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2;return EJ({x:t,y:n},{x:r,y:i})}({x1:y,y1:g,x2:b,y2:x})))}var cZ=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),QJ(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eZ(e,t)}(e,V.Component),t=e,(n=[{key:"render",value:function(){return V.createElement(lZ,this.props)}}])&&XJ(t.prototype,n),r&&XJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function uZ(){return uZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uZ.apply(this,arguments)}function hZ(e){return(hZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dZ(Object(n),!0).forEach(function(t){bZ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dZ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xZ(r.key),r)}}function mZ(e,t,n){return t=gZ(t),function(e,t){if(t&&("object"===hZ(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,yZ()?Reflect.construct(t,n||[],gZ(e).constructor):t.apply(e,n))}function yZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(yZ=function(){return!!e})()}function gZ(e){return(gZ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vZ(e,t){return(vZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function bZ(e,t,n){return(t=xZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xZ(e){var t=function(e,t){if("object"!=hZ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hZ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hZ(t)?t:t+""}rZ(cZ,"displayName","ReferenceLine"),rZ(cZ,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var wZ=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),mZ(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vZ(e,t)}(e,V.Component),t=e,n=[{key:"render",value:function(){var t=this.props,n=t.x,r=t.y,i=t.r,o=t.alwaysShow,a=t.clipPathId,s=WN(n),l=WN(r);if(IP(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!l)return null;var c=function(e){var t=e.x,n=e.y,r=e.xAxis,i=e.yAxis,o=_J({x:r.scale,y:i.scale}),a=o.apply({x:t,y:n},{bandAware:!0});return AQ(e,"discard")&&!o.isInRange(a)?null:a}(this.props);if(!c)return null;var u=c.x,h=c.y,d=this.props,f=d.shape,p=d.className,m=fZ(fZ({clipPath:AQ(this.props,"hidden")?"url(#".concat(a,")"):void 0},wP(this.props,!0)),{},{cx:u,cy:h});return V.createElement(AP,{className:$T("recharts-reference-dot",p)},e.renderDot(f,m),MG.renderCallByParent(this.props,{x:u-i,y:h-i,width:2*i,height:2*i}))}}],n&&pZ(t.prototype,n),r&&pZ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function SZ(){return SZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SZ.apply(this,arguments)}function EZ(e){return(EZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kZ(Object(n),!0).forEach(function(t){PZ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kZ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function OZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,AZ(r.key),r)}}function TZ(e,t,n){return t=CZ(t),function(e,t){if(t&&("object"===EZ(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jZ()?Reflect.construct(t,n||[],CZ(e).constructor):t.apply(e,n))}function jZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(jZ=function(){return!!e})()}function CZ(e){return(CZ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function NZ(e,t){return(NZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function PZ(e,t,n){return(t=AZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AZ(e){var t=function(e,t){if("object"!=EZ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=EZ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==EZ(t)?t:t+""}bZ(wZ,"displayName","ReferenceDot"),bZ(wZ,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),bZ(wZ,"renderDot",function(e,t){return V.isValidElement(e)?V.cloneElement(e,t):wj(e)?e(t):V.createElement(iX,uZ({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))});var IZ=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),TZ(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NZ(e,t)}(e,V.Component),t=e,n=[{key:"render",value:function(){var t=this.props,n=t.x1,r=t.x2,i=t.y1,o=t.y2,a=t.className,s=t.alwaysShow,l=t.clipPathId;IP(void 0===s,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=WN(n),u=WN(r),h=WN(i),d=WN(o),f=this.props.shape;if(!(c||u||h||d||f))return null;var p=function(e,t,n,r,i){var o=i.x1,a=i.x2,s=i.y1,l=i.y2,c=i.xAxis,u=i.yAxis;if(!c||!u)return null;var h=_J({x:c.scale,y:u.scale}),d={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(s,{position:"start"}):h.y.rangeMin},f={x:t?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:r?h.y.apply(l,{position:"end"}):h.y.rangeMax};return!AQ(i,"discard")||h.isInRange(d)&&h.isInRange(f)?EJ(d,f):null}(c,u,h,d,this.props);if(!p&&!f)return null;var m=AQ(this.props,"hidden")?"url(#".concat(l,")"):void 0;return V.createElement(AP,{className:$T("recharts-reference-area",a)},e.renderRect(f,_Z(_Z({clipPath:m},wP(this.props,!0)),p)),MG.renderCallByParent(this.props,p))}}],n&&OZ(t.prototype,n),r&&OZ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function MZ(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t){if(void 0!==n&&!0!==n(e[i]))return;r.push(e[i])}return r}function DZ(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,o=Math.atan(n/t),a=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(a)}({width:e.width+t.width,height:e.height+t.height},n)}function RZ(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function LZ(e){return(LZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function UZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FZ(Object(n),!0).forEach(function(t){zZ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FZ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zZ(e,t,n){return t=function(e){var t=function(e,t){if("object"!=LZ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=LZ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==LZ(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BZ(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,a=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,h=e.angle;if(!i||!i.length||!r)return[];if(HN(l)||WF.isSsr)return function(e,t){return MZ(e,t+1)}(i,"number"==typeof l&&HN(l)?l:0);var d=[],f="top"===s||"bottom"===s?"width":"height",p=u&&"width"===f?zU(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,r){var i=wj(c)?c(e.value,r):e.value;return"width"===f?DZ(zU(i,{fontSize:t,letterSpacing:n}),p,h):zU(i,{fontSize:t,letterSpacing:n})[f]},y=i.length>=2?$N(i[1].coordinate-i[0].coordinate):1,g=function(e,t,n){var r="width"===n,i=e.x,o=e.y,a=e.width,s=e.height;return 1===t?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}(o,y,f);return"equidistantPreserveStart"===l?function(e,t,n,r,i){for(var o,a=(r||[]).slice(),s=t.start,l=t.end,c=0,u=1,h=s,d=function(){var t=null==r?void 0:r[c];if(void 0===t)return{v:MZ(r,u)};var o,a=c,d=function(){return void 0===o&&(o=n(t,a)),o},f=t.coordinate,p=0===c||RZ(e,f,d,h,l);p||(c=0,h=s,u+=1),p&&(h=f+e*(d()/2+i),c+=u)};u<=a.length;)if(o=d())return o.v;return[]}(y,g,m,i,a):(d="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=t.start,c=t.end;if(o){var u=r[s-1],h=n(u,s-1),d=e*(u.coordinate+e*h/2-c);a[s-1]=u=UZ(UZ({},u),{},{tickCoord:d>0?u.coordinate-d*e:u.coordinate}),RZ(e,u.tickCoord,function(){return h},l,c)&&(c=u.tickCoord-e*(h/2+i),a[s-1]=UZ(UZ({},u),{},{isShow:!0}))}for(var f=o?s-1:s,p=function(t){var r,o=a[t],s=function(){return void 0===r&&(r=n(o,t)),r};if(0===t){var u=e*(o.coordinate-e*s()/2-l);a[t]=o=UZ(UZ({},o),{},{tickCoord:u<0?o.coordinate-u*e:o.coordinate})}else a[t]=o=UZ(UZ({},o),{},{tickCoord:o.coordinate});RZ(e,o.tickCoord,s,l,c)&&(l=o.tickCoord+e*(s()/2+i),a[t]=UZ(UZ({},o),{},{isShow:!0}))},m=0;m<f;m++)p(m);return a}(y,g,m,i,a,"preserveStartEnd"===l):function(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=t.start,l=t.end,c=function(t){var r,c=o[t],u=function(){return void 0===r&&(r=n(c,t)),r};if(t===a-1){var h=e*(c.coordinate+e*u()/2-l);o[t]=c=UZ(UZ({},c),{},{tickCoord:h>0?c.coordinate-h*e:c.coordinate})}else o[t]=c=UZ(UZ({},c),{},{tickCoord:c.coordinate});RZ(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+i),o[t]=UZ(UZ({},c),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return o}(y,g,m,i,a),d.filter(function(e){return e.isShow}))}PZ(IZ,"displayName","ReferenceArea"),PZ(IZ,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),PZ(IZ,"renderRect",function(e,t){return V.isValidElement(e)?V.cloneElement(e,t):wj(e)?e(t):V.createElement(nX,SZ({},t,{className:"recharts-reference-area-rect"}))});var VZ=["viewBox"],$Z=["viewBox"],qZ=["ticks"];function HZ(e){return(HZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WZ(){return WZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WZ.apply(this,arguments)}function GZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function KZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GZ(Object(n),!0).forEach(function(t){t0(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GZ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function YZ(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function XZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n0(r.key),r)}}function QZ(e,t,n){return t=ZZ(t),function(e,t){if(t&&("object"===HZ(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,JZ()?Reflect.construct(t,n||[],ZZ(e).constructor):t.apply(e,n))}function JZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(JZ=function(){return!!e})()}function ZZ(e){return(ZZ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function e0(e,t){return(e0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function t0(e,t,n){return(t=n0(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n0(e){var t=function(e,t){if("object"!=HZ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=HZ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==HZ(t)?t:t+""}var r0=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=QZ(this,e,[t])).state={fontSize:"",letterSpacing:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e0(e,t)}(e,B.Component),t=e,r=[{key:"renderTickItem",value:function(e,t,n){var r=$T(t.className,"recharts-cartesian-axis-tick-value");return V.isValidElement(e)?V.cloneElement(e,KZ(KZ({},t),{},{className:r})):wj(e)?e(KZ(KZ({},t),{},{className:r})):V.createElement(mz,WZ({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],(n=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=YZ(e,VZ),i=this.props,o=i.viewBox,a=YZ(i,$Z);return!eP(n,o)||!eP(r,a)||!eP(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,i,o,a,s=this.props,l=s.x,c=s.y,u=s.width,h=s.height,d=s.orientation,f=s.tickSize,p=s.mirror,m=s.tickMargin,y=p?-1:1,g=e.tickSize||f,v=HN(e.tickCoord)?e.tickCoord:e.coordinate;switch(d){case"top":t=n=e.coordinate,a=(r=(i=c+ +!p*h)-y*g)-y*m,o=v;break;case"left":r=i=e.coordinate,o=(t=(n=l+ +!p*u)-y*g)-y*m,a=v;break;case"right":r=i=e.coordinate,o=(t=(n=l+ +p*u)+y*g)+y*m,a=v;break;default:t=n=e.coordinate,a=(r=(i=c+ +p*h)+y*g)+y*m,o=v}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:o,y:a}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,i=e.height,o=e.orientation,a=e.mirror,s=e.axisLine,l=KZ(KZ(KZ({},wP(this.props,!1)),wP(s,!1)),{},{fill:"none"});if("top"===o||"bottom"===o){var c=+("top"===o&&!a||"bottom"===o&&a);l=KZ(KZ({},l),{},{x1:t,y1:n+c*i,x2:t+r,y2:n+c*i})}else{var u=+("left"===o&&!a||"right"===o&&a);l=KZ(KZ({},l),{},{x1:t+u*r,y1:n,x2:t+u*r,y2:n+i})}return V.createElement("line",WZ({},l,{className:$T("recharts-cartesian-axis-line",dN(s,"className"))}))}},{key:"renderTicks",value:function(t,n,r){var i=this,o=this.props,a=o.tickLine,s=o.stroke,l=o.tick,c=o.tickFormatter,u=o.unit,h=BZ(KZ(KZ({},this.props),{},{ticks:t}),n,r),d=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),p=wP(this.props,!1),m=wP(l,!1),y=KZ(KZ({},p),{},{fill:"none"},wP(a,!1)),g=h.map(function(t,n){var r=i.getTickLineCoord(t),o=r.line,g=r.tick,v=KZ(KZ(KZ(KZ({textAnchor:d,verticalAnchor:f},p),{},{stroke:"none",fill:s},m),g),{},{index:n,payload:t,visibleTicksCount:h.length,tickFormatter:c});return V.createElement(AP,WZ({className:"recharts-cartesian-axis-tick",key:"tick-".concat(t.value,"-").concat(t.coordinate,"-").concat(t.tickCoord)},sP(i.props,t,n)),a&&V.createElement("line",WZ({},y,o,{className:$T("recharts-cartesian-axis-tick-line",dN(a,"className"))})),l&&e.renderTickItem(l,v,"".concat(wj(c)?c(t.value,n):t.value).concat(u||"")))});return V.createElement("g",{className:"recharts-cartesian-axis-ticks"},g)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,r=t.width,i=t.height,o=t.ticksGenerator,a=t.className;if(t.hide)return null;var s=this.props,l=s.ticks,c=YZ(s,qZ),u=l;return wj(o)&&(u=l&&l.length>0?o(this.props):o(c)),r<=0||i<=0||!u||!u.length?null:V.createElement(AP,{className:$T("recharts-cartesian-axis",a),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(u,this.state.fontSize,this.state.letterSpacing),MG.renderCallByParent(this.props))}}])&&XZ(t.prototype,n),r&&XZ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();t0(r0,"displayName","CartesianAxis"),t0(r0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var i0=["x1","y1","x2","y2","key"],o0=["offset"];function a0(e){return(a0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s0(Object(n),!0).forEach(function(t){c0(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s0(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c0(e,t,n){return t=function(e){var t=function(e,t){if("object"!=a0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a0(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u0(){return u0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u0.apply(this,arguments)}function h0(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var d0=function(e){var t=e.fill;if(!t||"none"===t)return null;var n=e.fillOpacity,r=e.x,i=e.y,o=e.width,a=e.height,s=e.ry;return V.createElement("rect",{x:r,y:i,ry:s,width:o,height:a,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function f0(e,t){var n;if(V.isValidElement(e))n=V.cloneElement(e,t);else if(wj(e))n=e(t);else{var r=t.x1,i=t.y1,o=t.x2,a=t.y2,s=t.key,l=h0(t,i0),c=wP(l,!1);c.offset;var u=h0(c,o0);n=V.createElement("line",u0({},u,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function p0(e){var t=e.x,n=e.width,r=e.horizontal,i=void 0===r||r,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(r,o){var a=l0(l0({},e),{},{x1:t,y1:r,x2:t+n,y2:r,key:"line-".concat(o),index:o});return f0(i,a)});return V.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function m0(e){var t=e.y,n=e.height,r=e.vertical,i=void 0===r||r,o=e.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(r,o){var a=l0(l0({},e),{},{x1:r,y1:t,x2:r,y2:t+n,key:"line-".concat(o),index:o});return f0(i,a)});return V.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function y0(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,o=e.width,a=e.height,s=e.horizontalPoints,l=e.horizontal;if(!(void 0===l||l)||!t||!t.length)return null;var c=s.map(function(e){return Math.round(e+i-i)}).sort(function(e,t){return e-t});i!==c[0]&&c.unshift(0);var u=c.map(function(e,s){var l=!c[s+1]?i+a-e:c[s+1]-e;if(l<=0)return null;var u=s%t.length;return V.createElement("rect",{key:"react-".concat(s),y:e,x:r,height:l,width:o,stroke:"none",fill:t[u],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function g0(e){var t=e.vertical,n=void 0===t||t,r=e.verticalFill,i=e.fillOpacity,o=e.x,a=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(e){return Math.round(e+o-o)}).sort(function(e,t){return e-t});o!==u[0]&&u.unshift(0);var h=u.map(function(e,t){var n=!u[t+1]?o+s-e:u[t+1]-e;if(n<=0)return null;var c=t%r.length;return V.createElement("rect",{key:"react-".concat(t),x:e,y:a,width:n,height:l,stroke:"none",fill:r[c],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var v0=function(e,t){var n=e.xAxis,r=e.width,i=e.height,o=e.offset;return JW(BZ(l0(l0(l0({},r0.defaultProps),n),{},{ticks:ZW(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},b0=function(e,t){var n=e.yAxis,r=e.width,i=e.height,o=e.offset;return JW(BZ(l0(l0(l0({},r0.defaultProps),n),{},{ticks:ZW(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},x0={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function w0(e){var t,n,r,i,o,a,s,l,c=GJ(),u=KJ(),h=B.useContext(zJ),d=l0(l0({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:x0.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:x0.fill,horizontal:null!==(r=e.horizontal)&&void 0!==r?r:x0.horizontal,horizontalFill:null!==(i=e.horizontalFill)&&void 0!==i?i:x0.horizontalFill,vertical:null!==(o=e.vertical)&&void 0!==o?o:x0.vertical,verticalFill:null!==(a=e.verticalFill)&&void 0!==a?a:x0.verticalFill,x:HN(e.x)?e.x:h.left,y:HN(e.y)?e.y:h.top,width:HN(e.width)?e.width:h.width,height:HN(e.height)?e.height:h.height}),f=d.x,p=d.y,m=d.width,y=d.height,g=d.syncWithTicks,v=d.horizontalValues,b=d.verticalValues,x=(s=B.useContext(LJ),XN(s)),w=(l=B.useContext(FJ),DJ(l,function(e){return qQ(e.domain,Number.isFinite)})||XN(l));if(!HN(m)||m<=0||!HN(y)||y<=0||!HN(f)||f!==+f||!HN(p)||p!==+p)return null;var S=d.verticalCoordinatesGenerator||v0,E=d.horizontalCoordinatesGenerator||b0,k=d.horizontalPoints,_=d.verticalPoints;if((!k||!k.length)&&wj(E)){var O=v&&v.length,T=E({yAxis:w?l0(l0({},w),{},{ticks:O?v:w.ticks}):void 0,width:c,height:u,offset:h},!!O||g);IP(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(a0(T),"]")),Array.isArray(T)&&(k=T)}if((!_||!_.length)&&wj(S)){var j=b&&b.length,C=S({xAxis:x?l0(l0({},x),{},{ticks:j?b:x.ticks}):void 0,width:c,height:u,offset:h},!!j||g);IP(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(a0(C),"]")),Array.isArray(C)&&(_=C)}return V.createElement("g",{className:"recharts-cartesian-grid"},V.createElement(d0,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),V.createElement(p0,u0({},d,{offset:h,horizontalPoints:k,xAxis:x,yAxis:w})),V.createElement(m0,u0({},d,{offset:h,verticalPoints:_,xAxis:x,yAxis:w})),V.createElement(y0,u0({},d,{horizontalPoints:k})),V.createElement(g0,u0({},d,{verticalPoints:_})))}w0.displayName="CartesianGrid";var S0=["type","layout","connectNulls","ref"],E0=["key"];function k0(e){return(k0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _0(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function O0(){return O0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O0.apply(this,arguments)}function T0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function j0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T0(Object(n),!0).forEach(function(t){R0(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T0(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function C0(e){return function(e){if(Array.isArray(e))return N0(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return N0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N0(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N0(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L0(r.key),r)}}function A0(e,t,n){return t=M0(t),function(e,t){if(t&&("object"===k0(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,I0()?Reflect.construct(t,n||[],M0(e).constructor):t.apply(e,n))}function I0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(I0=function(){return!!e})()}function M0(e){return(M0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D0(e,t){return(D0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function R0(e,t,n){return(t=L0(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L0(e){var t=function(e,t){if("object"!=k0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=k0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==k0(t)?t:t+""}var F0=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return R0(t=A0(this,e,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),R0(t,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),R0(t,"getStrokeDasharray",function(n,r,i){var o=i.reduce(function(e,t){return e+t});if(!o)return t.generateSimpleStrokeDasharray(r,n);for(var a=Math.floor(n/o),s=n%o,l=r-n,c=[],u=0,h=0;u<i.length;h+=i[u],++u)if(h+i[u]>s){c=[].concat(C0(i.slice(0,u)),[s-h]);break}var d=c.length%2==0?[0,l]:[l];return[].concat(C0(e.repeat(i,a)),C0(c),d).map(function(e){return"".concat(e,"px")}).join(", ")}),R0(t,"id",KN("recharts-line-")),R0(t,"pathRef",function(e){t.mainCurve=e}),R0(t,"handleAnimationEnd",function(){t.setState({isAnimationFinished:!0}),t.props.onAnimationEnd&&t.props.onAnimationEnd()}),R0(t,"handleAnimationStart",function(){t.setState({isAnimationFinished:!1}),t.props.onAnimationStart&&t.props.onAnimationStart()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D0(e,t)}(e,B.PureComponent),t=e,n=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.points,i=n.xAxis,o=n.yAxis,a=n.layout,s=gP(n.children,MW);if(!s)return null;var l=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:WW(e.payload,t)}},c={clipPath:e?"url(#clipPath-".concat(t,")"):null};return V.createElement(AP,c,s.map(function(e){return V.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:r,xAxis:i,yAxis:o,layout:a,dataPointFormatter:l})}))}},{key:"renderDots",value:function(t,n,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.dot,a=i.points,s=i.dataKey,l=wP(this.props,!1),c=wP(o,!0),u=a.map(function(t,n){var r=j0(j0(j0({key:"dot-".concat(n),r:3},l),c),{},{index:n,cx:t.x,cy:t.y,value:t.value,dataKey:s,payload:t.payload,points:a});return e.renderDotItem(o,r)}),h={clipPath:t?"url(#clipPath-".concat(n?"":"dots-").concat(r,")"):null};return V.createElement(AP,O0({className:"recharts-line-dots",key:"dots"},h),u)}},{key:"renderCurveStatically",value:function(e,t,n,r){var i=this.props,o=i.type,a=i.layout,s=i.connectNulls;i.ref;var l=_0(i,S0),c=j0(j0(j0({},wP(l,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},r),{},{type:o,layout:a,connectNulls:s});return V.createElement(pK,O0({},c,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,r=this.props,i=r.points,o=r.strokeDasharray,a=r.isAnimationActive,s=r.animationBegin,l=r.animationDuration,c=r.animationEasing,u=r.animationId,h=r.animateNewValues,d=r.width,f=r.height,p=this.state,m=p.prevPoints,y=p.totalLength;return V.createElement(HY,{begin:s,duration:l,isActive:a,easing:c,from:{t:0},to:{t:1},key:"line-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(r){var a=r.t;if(m){var s=m.length/i.length,l=i.map(function(e,t){var n=Math.floor(t*s);if(m[n]){var r=m[n],i=QN(r.x,e.x),o=QN(r.y,e.y);return j0(j0({},e),{},{x:i(a),y:o(a)})}if(h){var l=QN(2*d,e.x),c=QN(f/2,e.y);return j0(j0({},e),{},{x:l(a),y:c(a)})}return j0(j0({},e),{},{x:e.x,y:e.y})});return n.renderCurveStatically(l,e,t)}var c,u=QN(0,y)(a);if(o){var p="".concat(o).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});c=n.getStrokeDasharray(u,y,p)}else c=n.generateSimpleStrokeDasharray(y,u);return n.renderCurveStatically(i,e,t,{strokeDasharray:c})})}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,i=n.isAnimationActive,o=this.state,a=o.prevPoints,s=o.totalLength;return i&&r&&r.length&&(!a&&s>0||!yH(a,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,r=t.dot,i=t.points,o=t.className,a=t.xAxis,s=t.yAxis,l=t.top,c=t.left,u=t.width,h=t.height,d=t.isAnimationActive,f=t.id;if(n||!i||!i.length)return null;var p=this.state.isAnimationFinished,m=1===i.length,y=$T("recharts-line",o),g=a&&a.allowDataOverflow,v=s&&s.allowDataOverflow,b=g||v,x=fN(f)?this.id:f,w=null!==(e=wP(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},S=w.r,E=void 0===S?3:S,k=w.strokeWidth,_=void 0===k?2:k,O=(function(e){return e&&"object"===hP(e)&&"clipDot"in e}(r)?r:{}).clipDot,T=void 0===O||O,j=2*E+_;return V.createElement(AP,{className:y},g||v?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(x)},V.createElement("rect",{x:g?c:c-u/2,y:v?l:l-h/2,width:g?u:2*u,height:v?h:2*h})),!T&&V.createElement("clipPath",{id:"clipPath-dots-".concat(x)},V.createElement("rect",{x:c-j/2,y:l-j/2,width:u+j,height:h+j}))):null,!m&&this.renderCurve(b,x),this.renderErrorBar(b,x),(m||r)&&this.renderDots(b,T,x),(!d||p)&&KG.renderCallByParent(this.props,i))}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!=0?[].concat(C0(e),[0]):e,r=[],i=0;i<t;++i)r=[].concat(C0(r),C0(n));return r}},{key:"renderDotItem",value:function(e,t){var n;if(V.isValidElement(e))n=V.cloneElement(e,t);else if(wj(e))n=e(t);else{var r=t.key,i=_0(t,E0),o=$T("recharts-line-dot","boolean"!=typeof e?e.className:"");n=V.createElement(iX,O0({key:r},i,{className:o}))}return n}}],n&&P0(t.prototype,n),r&&P0(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function U0(e){return(U0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,W0(r.key),r)}}function B0(e,t,n){return t=$0(t),function(e,t){if(t&&("object"===U0(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,V0()?Reflect.construct(t,n||[],$0(e).constructor):t.apply(e,n))}function V0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(V0=function(){return!!e})()}function $0(e){return($0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q0(e,t){return(q0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function H0(e,t,n){return(t=W0(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W0(e){var t=function(e,t){if("object"!=U0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=U0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==U0(t)?t:t+""}function G0(){return G0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G0.apply(this,arguments)}function K0(e){var t=e.xAxisId,n=GJ(),r=KJ(),i=HJ(t);return null==i?null:B.createElement(r0,G0({},i,{className:$T("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return ZW(e,!0)}}))}R0(F0,"displayName","Line"),R0(F0,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!WF.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),R0(F0,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,a=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout;return j0({points:l.map(function(e,t){var l=WW(e,a);return"horizontal"===u?{x:oG({axis:n,ticks:i,bandSize:s,entry:e,index:t}),y:fN(l)?null:r.scale(l),value:l,payload:e}:{x:fN(l)?null:n.scale(l),y:oG({axis:r,ticks:o,bandSize:s,entry:e,index:t}),value:l,payload:e}}),layout:u},c)});var Y0=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),B0(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q0(e,t)}(e,B.Component),t=e,(n=[{key:"render",value:function(){return B.createElement(K0,this.props)}}])&&z0(t.prototype,n),r&&z0(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function X0(e){return(X0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r1(r.key),r)}}function J0(e,t,n){return t=e1(t),function(e,t){if(t&&("object"===X0(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Z0()?Reflect.construct(t,n||[],e1(e).constructor):t.apply(e,n))}function Z0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Z0=function(){return!!e})()}function e1(e){return(e1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function t1(e,t){return(t1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function n1(e,t,n){return(t=r1(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r1(e){var t=function(e,t){if("object"!=X0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=X0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==X0(t)?t:t+""}function i1(){return i1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i1.apply(this,arguments)}H0(Y0,"displayName","XAxis"),H0(Y0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var o1=function(e){var t=e.yAxisId,n=GJ(),r=KJ(),i=WJ(t);return null==i?null:B.createElement(r0,i1({},i,{className:$T("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return ZW(e,!0)}}))},a1=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),J0(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t1(e,t)}(e,B.Component),t=e,(n=[{key:"render",value:function(){return B.createElement(o1,this.props)}}])&&Q0(t.prototype,n),r&&Q0(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function s1(e){return function(e){if(Array.isArray(e))return l1(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l1(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n1(a1,"displayName","YAxis"),n1(a1,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var c1=function(e,t,n,r,i){var o=gP(e,cZ),a=gP(e,wZ),s=[].concat(s1(o),s1(a)),l=gP(e,IZ),c="".concat(r,"Id"),u=r[0],h=t;if(s.length&&(h=s.reduce(function(e,t){if(t.props[c]===n&&AQ(t.props,"extendDomain")&&HN(t.props[u])){var r=t.props[u];return[Math.min(e[0],r),Math.max(e[1],r)]}return e},h)),l.length){var d="".concat(u,"1"),f="".concat(u,"2");h=l.reduce(function(e,t){if(t.props[c]===n&&AQ(t.props,"extendDomain")&&HN(t.props[d])&&HN(t.props[f])){var r=t.props[d],i=t.props[f];return[Math.min(e[0],r,i),Math.max(e[1],r,i)]}return e},h)}return i&&i.length&&(h=i.reduce(function(e,t){return HN(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},h)),h},u1={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,o),!0;case 6:return u.fn.call(u.context,t,r,i,o,a),!0}for(c=1,l=new Array(h-1);c<h;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var d,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),h){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(d=1,l=new Array(h-1);d<h;d++)l[d-1]=arguments[d];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}(u1);var h1=new(n(u1.exports)),d1="recharts.syncMouseEvents";function f1(e){return(f1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y1(r.key),r)}}function m1(e,t,n){return(t=y1(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y1(e){var t=function(e,t){if("object"!=f1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f1(t)?t:t+""}var g1=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m1(this,"activeIndex",0),m1(this,"coordinateList",[]),m1(this,"layout","horizontal")},t=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,i=e.container,o=void 0===i?null:i,a=e.layout,s=void 0===a?null:a,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,h=void 0===u?null:u;this.coordinateList=null!==(t=null!=r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!=o?o:this.container,this.layout=null!=s?s:this.layout,this.offset=null!=c?c:this.offset,this.mouseHandlerCallback=null!=h?h:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,i=n.y,o=n.height,a=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+a+s,u=i+this.offset.top+o/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}],t&&p1(e.prototype,t),n&&p1(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function v1(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle;return{points:[xG(t,n,r,i),xG(t,n,r,o)],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function b1(e,t,n){var r,i,o,a;if("horizontal"===e)o=r=t.x,i=n.top,a=n.top+n.height;else if("vertical"===e)a=i=t.y,r=n.left,o=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return v1(t);var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,h=t.angle,d=xG(s,l,c,h),f=xG(s,l,u,h);r=d.x,i=d.y,o=f.x,a=f.y}return[{x:r,y:i},{x:o,y:a}]}function x1(e){return(x1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function S1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w1(Object(n),!0).forEach(function(t){E1(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w1(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function E1(e,t,n){return t=function(e){var t=function(e,t){if("object"!=x1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=x1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==x1(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k1(e){var t,n,r,i=e.element,o=e.tooltipEventType,a=e.isActive,s=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,h=e.tooltipAxisBandSize,d=e.layout,f=e.chartName,p=null!==(t=i.props.cursor)&&void 0!==t?t:null===(n=i.type.defaultProps)||void 0===n?void 0:n.cursor;if(!i||!p||!a||!s||"ScatterChart"!==f&&"axis"!==o)return null;var m=pK;if("ScatterChart"===f)r=s,m=dX;else if("BarChart"===f)r=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(d,s,c,h),m=nX;else if("radial"===d){var y=v1(s),g=y.cx,v=y.cy,b=y.radius;r={cx:g,cy:v,startAngle:y.startAngle,endAngle:y.endAngle,innerRadius:b,outerRadius:b},m=rK}else r={points:b1(d,s,c)},m=pK;var x=S1(S1(S1(S1({stroke:"#ccc",pointerEvents:"none"},c),r),wP(p,!1)),{},{payload:l,payloadIndex:u,className:$T("recharts-tooltip-cursor",p.className)});return B.isValidElement(p)?B.cloneElement(p,x):B.createElement(m,x)}var _1=["item"],O1=["children","className","width","height","style","compact","title","desc"];function T1(e){return(T1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j1(){return j1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j1.apply(this,arguments)}function C1(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||L1(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N1(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function P1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,V1(r.key),r)}}function A1(e,t,n){return t=M1(t),function(e,t){if(t&&("object"===T1(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,I1()?Reflect.construct(t,n||[],M1(e).constructor):t.apply(e,n))}function I1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(I1=function(){return!!e})()}function M1(e){return(M1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D1(e,t){return(D1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function R1(e){return function(e){if(Array.isArray(e))return F1(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||L1(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L1(e,t){if(e){if("string"==typeof e)return F1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F1(e,t):void 0}}function F1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function z1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U1(Object(n),!0).forEach(function(t){B1(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U1(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function B1(e,t,n){return(t=V1(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V1(e){var t=function(e,t){if("object"!=T1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=T1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==T1(t)?t:t+""}var $1={xAxis:["bottom","top"],yAxis:["left","right"]},q1={width:"100%",height:"100%"},H1={x:0,y:0};function W1(e){return e}var G1=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,i=t.dataEndIndex,o=(null!=n?n:[]).reduce(function(e,t){var n=t.props.data;return n&&n.length?[].concat(R1(e),R1(n)):e},[]);return o.length>0?o:e&&e.length&&HN(r)&&HN(i)?e.slice(r,i+1):[]};function K1(e){return"number"===e?[0,"auto"]:void 0}var Y1=function(e,t,n,r){var i=e.graphicalItems,o=e.tooltipAxis,a=G1(t,e);return n<0||!i||!i.length||n>=a.length?null:i.reduce(function(i,s){var l,c,u=null!==(l=s.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),o.dataKey&&!o.allowDuplicatedCategory)?c=JN(void 0===u?a:u,o.dataKey,r):c=u&&u[n]||a[n];return c?[].concat(R1(i),[fG(s,c)]):i},[])},X1=function(e,t,n,r){var i=r||{x:e.chartX,y:e.chartY},o=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(i,n),a=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,a=null!==(t=null==n?void 0:n.length)&&void 0!==t?t:0;if(a<=1)return 0;if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var s=i.range,l=0;l<a;l++){var c=l>0?r[l-1].coordinate:r[a-1].coordinate,u=r[l].coordinate,h=l>=a-1?r[0].coordinate:r[l+1].coordinate,d=void 0;if($N(u-c)!==$N(h-u)){var f=[];if($N(h-u)===$N(s[1]-s[0])){d=h;var p=u+s[1]-s[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{d=c;var m=h+s[1]-s[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var y=[Math.min(u,(d+u)/2),Math.max(u,(d+u)/2)];if(e>y[0]&&e<=y[1]||e>=f[0]&&e<=f[1]){o=r[l].index;break}}else{var g=Math.min(c,h),v=Math.max(c,h);if(e>(g+u)/2&&e<=(v+u)/2){o=r[l].index;break}}}else for(var b=0;b<a;b++)if(0===b&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b===a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2){o=n[b].index;break}return o}(o,a,l,s);if(c>=0&&l){var u=l[c]&&l[c].value,h=Y1(e,t,c,u),d=function(e,t,n,r){var i=t.find(function(e){return e&&e.index===n});if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var o=i.coordinate,a=r.radius;return z1(z1(z1({},r),xG(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,l=r.angle;return z1(z1(z1({},r),xG(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return H1}(n,a,c,i);return{activeTooltipIndex:c,activeLabel:u,activePayload:h,activeCoordinate:d}}return null},Q1=function(e,t){var n=t.axes,r=t.graphicalItems,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,h=e.stackOffset,d=QW(c,i);return n.reduce(function(t,n){var f,p=void 0!==n.type.defaultProps?z1(z1({},n.type.defaultProps),n.props):n.props,m=p.type,y=p.dataKey,g=p.allowDataOverflow,v=p.allowDuplicatedCategory,b=p.scale,x=p.ticks,w=p.includeHidden,S=p[o];if(t[S])return t;var E,k,_,O=G1(e.data,{graphicalItems:r.filter(function(e){var t;return(o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o])===S}),dataStartIndex:s,dataEndIndex:l}),T=O.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null==e?void 0:e[0],i=null==e?void 0:e[1];if(r&&i&&HN(r)&&HN(i))return!0}return!1})(p.domain,g,m)&&(E=uG(p.domain,null,g),!d||"number"!==m&&"auto"===b||(_=GW(O,y,"category")));var j=K1(m);if(!E||0===E.length){var C,N=null!==(C=p.domain)&&void 0!==C?C:j;if(y){if(E=GW(O,y,m),"category"===m&&d){var P=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(E);v&&P?(k=E,E=aQ(0,T)):v||(E=dG(N,E,n).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(R1(e),[t])},[]))}else if("category"===m)E=v?E.filter(function(e){return""!==e&&!fN(e)}):dG(N,E,n).reduce(function(e,t){return e.indexOf(t)>=0||""===t||fN(t)?e:[].concat(R1(e),[t])},[]);else if("number"===m){var A=function(e,t,n,r,i){var o=t.map(function(t){return YW(e,t,n,i,r)}).filter(function(e){return!fN(e)});return o&&o.length?o.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(O,r.filter(function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===S&&(w||!i)}),y,i,c);A&&(E=A)}!d||"number"!==m&&"auto"===b||(_=GW(O,y,"category"))}else E=d?aQ(0,T):a&&a[S]&&a[S].hasStack&&"number"===m?"expand"===h?[0,1]:sG(a[S].stackGroups,s,l):XW(O,r.filter(function(e){var t=o in e.props?e.props[o]:e.type.defaultProps[o],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===S&&(w||!n)}),m,c,!0);if("number"===m)E=c1(u,E,S,i,x),N&&(E=uG(N,E,g));else if("category"===m&&N){var I=N;E.every(function(e){return I.indexOf(e)>=0})&&(E=I)}}return z1(z1({},t),{},B1({},S,z1(z1({},p),{},{axisType:i,domain:E,categoricalDomain:_,duplicateDomain:k,originalDomain:null!==(f=p.domain)&&void 0!==f?f:j,isCategorical:d,layout:c})))},{})},J1=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,i=t.AxisComp,o=t.graphicalItems,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(r,"Id"),h=gP(c,i),d={};return h&&h.length?d=Q1(e,{axes:h,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:l}):o&&o.length&&(d=function(e,t){var n=t.graphicalItems,r=t.Axis,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,h=G1(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:l}),d=h.length,f=QW(c,i),p=-1;return n.reduce(function(e,t){var m,y=(void 0!==t.type.defaultProps?z1(z1({},t.type.defaultProps),t.props):t.props)[o],g=K1("number");return e[y]?e:(p++,f?m=aQ(0,d):a&&a[y]&&a[y].hasStack?(m=sG(a[y].stackGroups,s,l),m=c1(u,m,y,i)):(m=uG(g,XW(h,n.filter(function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===y&&!i}),"number",c),r.defaultProps.allowDataOverflow),m=c1(u,m,y,i)),z1(z1({},e),{},B1({},y,z1(z1({axisType:i},r.defaultProps),{},{hide:!0,orientation:dN($1,"".concat(i,".").concat(p%2),null),domain:m,originalDomain:g,isCategorical:f,layout:c}))))},{})}(e,{Axis:i,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:l})),d},Z1=function(e){var t=e.children,n=e.defaultShowTooltip,r=vP(t,kQ),i=0,o=0;return e.data&&0!==e.data.length&&(o=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(i=r.props.startIndex),r.props.endIndex>=0&&(o=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},e2=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},t2=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),i=void 0===r?{}:r,o=e.yAxisMap,a=void 0===o?{}:o,s=n.width,l=n.height,c=n.children,u=n.margin||{},h=vP(c,kQ),d=vP(c,kL),f=Object.keys(a).reduce(function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:z1(z1({},e),{},B1({},r,e[r]+n.width))},{left:u.left||0,right:u.right||0}),p=Object.keys(i).reduce(function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:z1(z1({},e),{},B1({},r,dN(e,"".concat(r))+n.height))},{top:u.top||0,bottom:u.bottom||0}),m=z1(z1({},p),f),y=m.bottom;h&&(m.bottom+=h.props.height||kQ.defaultProps.height),d&&t&&(m=function(e,t,n,r){var i=n.children,o=n.width,a=n.margin,s=o-(a.left||0)-(a.right||0),l=UW({children:i,legendWidth:s});if(l){var c=r||{},u=c.width,h=c.height,d=l.align,f=l.verticalAlign,p=l.layout;if(("vertical"===p||"horizontal"===p&&"middle"===f)&&"center"!==d&&HN(e[d]))return qW(qW({},e),{},HW({},d,e[d]+(u||0)));if(("horizontal"===p||"vertical"===p&&"center"===d)&&"middle"!==f&&HN(e[f]))return qW(qW({},e),{},HW({},f,e[f]+(h||0)))}return e}(m,0,n,t));var g=s-m.left-m.right,v=l-m.top-m.bottom;return z1(z1({brushBottom:y},m),{},{width:Math.max(g,0),height:Math.max(v,0)})},n2=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},r2=function(e){var t=e.chartName,n=e.GraphicalChild,r=e.defaultTooltipEventType,i=void 0===r?"axis":r,o=e.validateTooltipEventTypes,a=void 0===o?["axis"]:o,s=e.axisComponents,l=e.legendContent,c=e.formatAxisMap,u=e.defaultProps,h=function(e,t){var n=t.graphicalItems,r=t.stackGroups,i=t.offset,o=t.updateId,a=t.dataStartIndex,l=t.dataEndIndex,c=e.barSize,u=e.layout,h=e.barGap,d=e.barCategoryGap,f=e.maxBarSize,p=e2(u),m=p.numericAxisName,y=p.cateAxisName,g=function(e){return!(!e||!e.length)&&e.some(function(e){var t=fP(e&&e.type);return t&&t.indexOf("Bar")>=0})}(n),v=[];return n.forEach(function(n,p){var b=G1(e.data,{graphicalItems:[n],dataStartIndex:a,dataEndIndex:l}),x=void 0!==n.type.defaultProps?z1(z1({},n.type.defaultProps),n.props):n.props,w=x.dataKey,S=x.maxBarSize,E=x["".concat(m,"Id")],k=x["".concat(y,"Id")],_=s.reduce(function(e,n){var r=t["".concat(n.axisType,"Map")],i=x["".concat(n.axisType,"Id")];r&&r[i]||"zAxis"===n.axisType||xW(!1);var o=r[i];return z1(z1({},e),{},B1(B1({},n.axisType,o),"".concat(n.axisType,"Ticks"),ZW(o)))},{}),O=_[y],T=_["".concat(y,"Ticks")],j=r&&r[E]&&r[E].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?qW(qW({},e.type.defaultProps),e.props):e.props).stackId;if(WN(r)){var i=t[r];if(i){var o=i.items.indexOf(e);return o>=0?i.stackedData[o]:null}}return null}(n,r[E].stackGroups),C=fP(n.type).indexOf("Bar")>=0,N=hG(O,T),P=[],A=g&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,i=void 0===r?{}:r;if(!i)return{};for(var o={},a=Object.keys(i),s=0,l=a.length;s<l;s++)for(var c=i[a[s]].stackGroups,u=Object.keys(c),h=0,d=u.length;h<d;h++){var f=c[u[h]],p=f.items,m=f.cateAxisId,y=p.filter(function(e){return fP(e.type).indexOf("Bar")>=0});if(y&&y.length){var g=y[0].type.defaultProps,v=void 0!==g?qW(qW({},g),y[0].props):y[0].props,b=v.barSize,x=v[m];o[x]||(o[x]=[]);var w=fN(b)?t:b;o[x].push({item:y[0],stackList:y.slice(1),barSize:fN(w)?void 0:YN(w,n,0)})}}return o}({barSize:c,stackGroups:r,totalSize:n2(_,y)});if(C){var I,M,D=fN(S)?f:S,R=null!==(I=null!==(M=hG(O,T,!0))&&void 0!==M?M:D)&&void 0!==I?I:0;P=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,i=e.sizeList,o=void 0===i?[]:i,a=e.maxBarSize,s=o.length;if(s<1)return null;var l,c=YN(t,r,0,!0),u=[];if(o[0].barSize===+o[0].barSize){var h=!1,d=r/s,f=o.reduce(function(e,t){return e+t.barSize||0},0);(f+=(s-1)*c)>=r&&(f-=(s-1)*c,c=0),f>=r&&d>0&&(h=!0,f=s*(d*=.9));var p={offset:((r-f)/2|0)-c,size:0};l=o.reduce(function(e,t){var n={item:t.item,position:{offset:p.offset+p.size+c,size:h?d:t.barSize}},r=[].concat(BW(e),[n]);return p=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:p})}),r},u)}else{var m=YN(n,r,0,!0);r-2*m-(s-1)*c<=0&&(c=0);var y=(r-2*m-(s-1)*c)/s;y>1&&(y>>=0);var g=a===+a?Math.min(y,a):y;l=o.reduce(function(e,t,n){var r=[].concat(BW(e),[{item:t.item,position:{offset:m+(y+c)*n+(y-g)/2,size:g}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:r[r.length-1].position})}),r},u)}return l}({barGap:h,barCategoryGap:d,bandSize:R!==N?R:N,sizeList:A[k],maxBarSize:D}),R!==N&&(P=P.map(function(e){return z1(z1({},e),{},{position:z1(z1({},e.position),{},{offset:e.position.offset-R/2})})}))}var L,F,U=n&&n.type&&n.type.getComposedData;U&&v.push({props:z1(z1({},U(z1(z1({},_),{},{displayedData:b,props:e,dataKey:w,item:n,bandSize:N,barPosition:P,offset:i,stackedData:j,layout:u,dataStartIndex:a,dataEndIndex:l}))),{},B1(B1(B1({key:n.key||"item-".concat(p)},m,_[m]),y,_[y]),"animationId",o)),childIndex:(L=n,F=e.children,yP(F).indexOf(L)),item:n})}),v},d=function(e,r){var i=e.props,o=e.dataStartIndex,a=e.dataEndIndex,l=e.updateId;if(!bP({props:i}))return null;var u=i.children,d=i.layout,f=i.stackOffset,p=i.data,m=i.reverseStackOrder,y=e2(d),g=y.numericAxisName,v=y.cateAxisName,b=gP(u,n),x=function(e,t,n,r,i,o){if(!e)return null;var a=(o?t.reverse():t).reduce(function(e,t){var i,o=null!==(i=t.type)&&void 0!==i&&i.defaultProps?qW(qW({},t.type.defaultProps),t.props):t.props,a=o.stackId;if(o.hide)return e;var s=o[n],l=e[s]||{hasStack:!1,stackGroups:{}};if(WN(a)){var c=l.stackGroups[a]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[a]=c}else l.stackGroups[KN("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return qW(qW({},e),{},HW({},s,l))},{});return Object.keys(a).reduce(function(t,o){var s=a[o];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce(function(t,o){var a=s.stackGroups[o];return qW(qW({},t),{},HW({},o,{numericAxisId:n,cateAxisId:r,items:a.items,stackedData:iG(e,a.items,i)}))},{})),qW(qW({},t),{},HW({},o,s))},{})}(p,b,"".concat(g,"Id"),"".concat(v,"Id"),f,m),w=s.reduce(function(e,t){var n="".concat(t.axisType,"Map");return z1(z1({},e),{},B1({},n,J1(i,z1(z1({},t),{},{graphicalItems:b,stackGroups:t.axisType===g&&x,dataStartIndex:o,dataEndIndex:a}))))},{}),S=t2(z1(z1({},w),{},{props:i,graphicalItems:b}),null==r?void 0:r.legendBBox);Object.keys(w).forEach(function(e){w[e]=c(i,w[e],S,e.replace("Map",""),t)});var E,k,_=w["".concat(v,"Map")],O=(E=XN(_),{tooltipTicks:k=ZW(E,!1,!0),orderedTooltipTicks:bF(k,function(e){return e.coordinate}),tooltipAxis:E,tooltipAxisBandSize:hG(E,k)}),T=h(i,z1(z1({},w),{},{dataStartIndex:o,dataEndIndex:a,updateId:l,graphicalItems:b,stackGroups:x,offset:S}));return z1(z1({formattedGraphicalItems:T,graphicalItems:b,offset:S,stackGroups:x},O),w)},f=function(){function e(n){var r,i,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),B1(o=A1(this,e,[n]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),B1(o,"accessibilityManager",new g1),B1(o,"handleLegendBBoxUpdate",function(e){if(e){var t=o.state,n=t.dataStartIndex,r=t.dataEndIndex,i=t.updateId;o.setState(z1({legendBBox:e},d({props:o.props,dataStartIndex:n,dataEndIndex:r,updateId:i},z1(z1({},o.state),{},{legendBBox:e}))))}}),B1(o,"handleReceiveSyncEvent",function(e,t,n){if(o.props.syncId===e){if(n===o.eventEmitterSymbol&&"function"!=typeof o.props.syncMethod)return;o.applySyncEvent(t)}}),B1(o,"handleBrushChange",function(e){var t=e.startIndex,n=e.endIndex;if(t!==o.state.dataStartIndex||n!==o.state.dataEndIndex){var r=o.state.updateId;o.setState(function(){return z1({dataStartIndex:t,dataEndIndex:n},d({props:o.props,dataStartIndex:t,dataEndIndex:n,updateId:r},o.state))}),o.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}}),B1(o,"handleMouseEnter",function(e){var t=o.getMouseInfo(e);if(t){var n=z1(z1({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseEnter;wj(r)&&r(n,e)}}),B1(o,"triggeredAfterMouseMove",function(e){var t=o.getMouseInfo(e),n=t?z1(z1({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseMove;wj(r)&&r(n,e)}),B1(o,"handleItemMouseEnter",function(e){o.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),B1(o,"handleItemMouseLeave",function(){o.setState(function(){return{isTooltipActive:!1}})}),B1(o,"handleMouseMove",function(e){e.persist(),o.throttleTriggeredAfterMouseMove(e)}),B1(o,"handleMouseLeave",function(e){o.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};o.setState(t),o.triggerSyncEvent(t);var n=o.props.onMouseLeave;wj(n)&&n(t,e)}),B1(o,"handleOuterEvent",function(e){var t,n=function(e){var t=e&&e.type;return t&&dP[t]?dP[t]:null}(e),r=dN(o.props,"".concat(n));n&&wj(r)&&r(null!==(t=/.*touch.*/i.test(n)?o.getMouseInfo(e.changedTouches[0]):o.getMouseInfo(e))&&void 0!==t?t:{},e)}),B1(o,"handleClick",function(e){var t=o.getMouseInfo(e);if(t){var n=z1(z1({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onClick;wj(r)&&r(n,e)}}),B1(o,"handleMouseDown",function(e){var t=o.props.onMouseDown;wj(t)&&t(o.getMouseInfo(e),e)}),B1(o,"handleMouseUp",function(e){var t=o.props.onMouseUp;wj(t)&&t(o.getMouseInfo(e),e)}),B1(o,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),B1(o,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseDown(e.changedTouches[0])}),B1(o,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseUp(e.changedTouches[0])}),B1(o,"handleDoubleClick",function(e){var t=o.props.onDoubleClick;wj(t)&&t(o.getMouseInfo(e),e)}),B1(o,"handleContextMenu",function(e){var t=o.props.onContextMenu;wj(t)&&t(o.getMouseInfo(e),e)}),B1(o,"triggerSyncEvent",function(e){void 0!==o.props.syncId&&h1.emit(d1,o.props.syncId,e,o.eventEmitterSymbol)}),B1(o,"applySyncEvent",function(e){var t=o.props,n=t.layout,r=t.syncMethod,i=o.state.updateId,a=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)o.setState(z1({dataStartIndex:a,dataEndIndex:s},d({props:o.props,dataStartIndex:a,dataEndIndex:s,updateId:i},o.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,h=o.state,f=h.offset,p=h.tooltipTicks;if(!f)return;if("function"==typeof r)u=r(p,e);else if("value"===r){u=-1;for(var m=0;m<p.length;m++)if(p[m].value===e.activeLabel){u=m;break}}var y=z1(z1({},f),{},{x:f.left,y:f.top}),g=Math.min(l,y.x+y.width),v=Math.min(c,y.y+y.height),b=p[u]&&p[u].value,x=Y1(o.state,o.props.data,u),w=p[u]?{x:"horizontal"===n?p[u].coordinate:g,y:"horizontal"===n?v:p[u].coordinate}:H1;o.setState(z1(z1({},e),{},{activeLabel:b,activeCoordinate:w,activePayload:x,activeTooltipIndex:u}))}else o.setState(e)}),B1(o,"renderCursor",function(e){var n,r=o.state,i=r.isTooltipActive,a=r.activeCoordinate,s=r.activePayload,l=r.offset,c=r.activeTooltipIndex,u=r.tooltipAxisBandSize,h=o.getTooltipEventType(),d=null!==(n=e.props.active)&&void 0!==n?n:i,f=o.props.layout,p=e.key||"_recharts-cursor";return V.createElement(k1,{key:p,activeCoordinate:a,activePayload:s,activeTooltipIndex:c,chartName:t,element:e,isActive:d,layout:f,offset:l,tooltipAxisBandSize:u,tooltipEventType:h})}),B1(o,"renderPolarAxis",function(e,t,n){var r=dN(e,"type.axisType"),i=dN(o.state,"".concat(r,"Map")),a=e.type.defaultProps,s=void 0!==a?z1(z1({},a),e.props):e.props,l=i&&i[s["".concat(r,"Id")]];return B.cloneElement(e,z1(z1({},l),{},{className:$T(r,l.className),key:e.key||"".concat(t,"-").concat(n),ticks:ZW(l,!0)}))}),B1(o,"renderPolarGrid",function(e){var t=e.props,n=t.radialLines,r=t.polarAngles,i=t.polarRadius,a=o.state,s=a.radiusAxisMap,l=a.angleAxisMap,c=XN(s),u=XN(l),h=u.cx,d=u.cy,f=u.innerRadius,p=u.outerRadius;return B.cloneElement(e,{polarAngles:Array.isArray(r)?r:ZW(u,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(i)?i:ZW(c,!0).map(function(e){return e.coordinate}),cx:h,cy:d,innerRadius:f,outerRadius:p,key:e.key||"polar-grid",radialLines:n})}),B1(o,"renderLegend",function(){var e=o.state.formattedGraphicalItems,t=o.props,n=t.children,r=t.width,i=t.height,a=o.props.margin||{},s=r-(a.left||0)-(a.right||0),c=UW({children:n,formattedGraphicalItems:e,legendWidth:s,legendContent:l});if(!c)return null;var u=c.item,h=N1(c,_1);return B.cloneElement(u,z1(z1({},h),{},{chartWidth:r,chartHeight:i,margin:a,onBBoxUpdate:o.handleLegendBBoxUpdate}))}),B1(o,"renderTooltip",function(){var e,t=o.props,n=t.children,r=t.accessibilityLayer,i=vP(n,iU);if(!i)return null;var a=o.state,s=a.isTooltipActive,l=a.activeCoordinate,c=a.activePayload,u=a.activeLabel,h=a.offset,d=null!==(e=i.props.active)&&void 0!==e?e:s;return B.cloneElement(i,{viewBox:z1(z1({},h),{},{x:h.left,y:h.top}),active:d,label:u,payload:d?c:[],coordinate:l,accessibilityLayer:r})}),B1(o,"renderBrush",function(e){var t=o.props,n=t.margin,r=t.data,i=o.state,a=i.offset,s=i.dataStartIndex,l=i.dataEndIndex,c=i.updateId;return B.cloneElement(e,{key:e.key||"_recharts-brush",onChange:tG(o.handleBrushChange,e.props.onChange),data:r,x:HN(e.props.x)?e.props.x:a.left,y:HN(e.props.y)?e.props.y:a.top+a.height+a.brushBottom-(n.bottom||0),width:HN(e.props.width)?e.props.width:a.width,startIndex:s,endIndex:l,updateId:"brush-".concat(c)})}),B1(o,"renderReferenceElement",function(e,t,n){if(!e)return null;var r=o.clipPathId,i=o.state,a=i.xAxisMap,s=i.yAxisMap,l=i.offset,c=e.type.defaultProps||{},u=e.props,h=u.xAxisId,d=void 0===h?c.xAxisId:h,f=u.yAxisId,p=void 0===f?c.yAxisId:f;return B.cloneElement(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:a[d],yAxis:s[p],viewBox:{x:l.left,y:l.top,width:l.width,height:l.height},clipPathId:r})}),B1(o,"renderActivePoints",function(t){var n=t.item,r=t.activePoint,i=t.basePoint,o=t.childIndex,a=t.isRange,s=[],l=n.props.key,c=void 0!==n.item.type.defaultProps?z1(z1({},n.item.type.defaultProps),n.item.props):n.item.props,u=c.activeDot,h=z1(z1({index:o,dataKey:c.dataKey,cx:r.x,cy:r.y,r:4,fill:KW(n.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},wP(u,!1)),aP(u));return s.push(e.renderActiveDot(u,h,"".concat(l,"-activePoint-").concat(o))),i?s.push(e.renderActiveDot(u,z1(z1({},h),{},{cx:i.x,cy:i.y}),"".concat(l,"-basePoint-").concat(o))):a&&s.push(null),s}),B1(o,"renderGraphicChild",function(e,t,n){var r=o.filterFormatItem(e,t,n);if(!r)return null;var i=o.getTooltipEventType(),a=o.state,s=a.isTooltipActive,l=a.tooltipAxis,c=a.activeTooltipIndex,u=a.activeLabel,h=vP(o.props.children,iU),d=r.props,f=d.points,p=d.isRange,m=d.baseLine,y=void 0!==r.item.type.defaultProps?z1(z1({},r.item.type.defaultProps),r.item.props):r.item.props,g=y.activeDot,v=y.hide,b=y.activeBar,x=y.activeShape,w=Boolean(!v&&s&&h&&(g||b||x)),S={};"axis"!==i&&h&&"click"===h.props.trigger?S={onClick:tG(o.handleItemMouseEnter,e.props.onClick)}:"axis"!==i&&(S={onMouseLeave:tG(o.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:tG(o.handleItemMouseEnter,e.props.onMouseEnter)});var E=B.cloneElement(e,z1(z1({},r.props),S));if(w){if(!(c>=0)){var k,_=(null!==(k=o.getItemByXY(o.state.activeCoordinate))&&void 0!==k?k:{graphicalItem:E}).graphicalItem,O=_.item,T=void 0===O?e:O,j=_.childIndex,C=z1(z1(z1({},r.props),S),{},{activeIndex:j});return[B.cloneElement(T,C),null,null]}var N,P;if(l.dataKey&&!l.allowDuplicatedCategory){var A="function"==typeof l.dataKey?function(e){return"function"==typeof l.dataKey?l.dataKey(e.payload):null}:"payload.".concat(l.dataKey.toString());N=JN(f,A,u),P=p&&m&&JN(m,A,u)}else N=null==f?void 0:f[c],P=p&&m&&m[c];if(x||b){var I=void 0!==e.props.activeIndex?e.props.activeIndex:c;return[B.cloneElement(e,z1(z1(z1({},r.props),S),{},{activeIndex:I})),null,null]}if(!fN(N))return[E].concat(R1(o.renderActivePoints({item:r,activePoint:N,basePoint:P,childIndex:c,isRange:p})))}return p?[E,null,null]:[E,null]}),B1(o,"renderCustomized",function(e,t,n){return B.cloneElement(e,z1(z1({key:"recharts-customized-".concat(n)},o.props),o.state))}),B1(o,"renderMap",{CartesianGrid:{handler:W1,once:!0},ReferenceArea:{handler:o.renderReferenceElement},ReferenceLine:{handler:W1},ReferenceDot:{handler:o.renderReferenceElement},XAxis:{handler:W1},YAxis:{handler:W1},Brush:{handler:o.renderBrush,once:!0},Bar:{handler:o.renderGraphicChild},Line:{handler:o.renderGraphicChild},Area:{handler:o.renderGraphicChild},Radar:{handler:o.renderGraphicChild},RadialBar:{handler:o.renderGraphicChild},Scatter:{handler:o.renderGraphicChild},Pie:{handler:o.renderGraphicChild},Funnel:{handler:o.renderGraphicChild},Tooltip:{handler:o.renderCursor,once:!0},PolarGrid:{handler:o.renderPolarGrid,once:!0},PolarAngleAxis:{handler:o.renderPolarAxis},PolarRadiusAxis:{handler:o.renderPolarAxis},Customized:{handler:o.renderCustomized}}),o.clipPathId="".concat(null!==(r=n.id)&&void 0!==r?r:KN("recharts"),"-clip"),o.throttleTriggeredAfterMouseMove=kU(o.triggeredAfterMouseMove,null!==(i=n.throttleDelay)&&void 0!==i?i:1e3/60),o.state={},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D1(e,t)}(e,B.Component),n=e,r=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,i=e.layout,o=vP(t,iU);if(o){var a=o.props.defaultIndex;if(!("number"!=typeof a||a<0||a>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[a]&&this.state.tooltipTicks[a].value,l=Y1(this.state,n,a,s),c=this.state.tooltipTicks[a].coordinate,u=(this.state.offset.top+r)/2,h="horizontal"===i?{x:c,y:u}:{y:c,x:u},d=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});d&&(h=z1(z1({},h),d.props.points[a].tooltipPosition),l=d.props.points[a].tooltipPayload);var f={activeTooltipIndex:a,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:h};this.setState(f),this.renderCursor(o),this.accessibilityManager.setIndex(a)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){SP([vP(e.children,iU)],[vP(this.props.children,iU)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=vP(this.props.children,iU);if(e&&"boolean"==typeof e.props.shared){var t=e.props.shared?"axis":"item";return a.indexOf(t)>=0?t:i}return i}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),i={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},o={chartX:Math.round(e.pageX-i.left),chartY:Math.round(e.pageY-i.top)},a=r.width/n.offsetWidth||1,s=this.inRange(o.chartX,o.chartY,a);if(!s)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap,h=this.getTooltipEventType(),d=X1(this.state,this.props.data,this.props.layout,s);if("axis"!==h&&c&&u){var f=XN(c).scale,p=XN(u).scale,m=f&&f.invert?f.invert(o.chartX):null,y=p&&p.invert?p.invert(o.chartY):null;return z1(z1({},o),{},{xValue:m,yValue:y},d)}return d?z1(z1({},o),d):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,i=e/n,o=t/n;if("horizontal"===r||"vertical"===r){var a=this.state.offset;return i>=a.left&&i<=a.left+a.width&&o>=a.top&&o<=a.top+a.height?{x:i,y:o}:null}var s=this.state,l=s.angleAxisMap,c=s.radiusAxisMap;if(l&&c){var u=XN(l);return EG({x:i,y:o},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=vP(e,iU),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),z1(z1({},aP(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){h1.on(d1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){h1.removeListener(d1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,i=0,o=r.length;i<o;i++){var a=r[i];if(a.item===e||a.props.key===e.key||t===fP(a.item.type)&&n===a.childIndex)return a}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,r=t.top,i=t.height,o=t.width;return V.createElement("defs",null,V.createElement("clipPath",{id:e},V.createElement("rect",{x:n,y:r,height:i,width:o})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=C1(t,2),r=n[0],i=n[1];return z1(z1({},e),{},B1({},r,i.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=C1(t,2),r=n[0],i=n[1];return z1(z1({},e),{},B1({},r,i.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var i=0,o=n.length;i<o;i++){var a=n[i],s=a.props,l=a.item,c=void 0!==l.type.defaultProps?z1(z1({},l.type.defaultProps),l.props):l.props,u=fP(l.type);if("Bar"===u){var h=(s.data||[]).find(function(t){return eX(e,t)});if(h)return{graphicalItem:a,payload:h}}else if("RadialBar"===u){var d=(s.data||[]).find(function(t){return EG(e,t)});if(d)return{graphicalItem:a,payload:d}}else if(HX(a,r)||WX(a,r)||GX(a,r)){var f=QX({graphicalItem:a,activeTooltipItem:r,itemData:c.data}),p=void 0===c.activeIndex?f:c.activeIndex;return{graphicalItem:z1(z1({},a),{},{childIndex:p}),payload:GX(a,r)?c.data[f]:a.props.data[f]}}}return null}},{key:"render",value:function(){var e=this;if(!bP(this))return null;var t,n,r=this.props,i=r.children,o=r.className,a=r.width,s=r.height,l=r.style,c=r.compact,u=r.title,h=r.desc,d=N1(r,O1),f=wP(d,!1);if(c)return V.createElement(qJ,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement(jP,j1({},f,{width:a,height:s,title:u,desc:h}),this.renderClipPath(),kP(i,this.renderMap)));this.props.accessibilityLayer&&(f.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,f.role=null!==(n=this.props.role)&&void 0!==n?n:"application",f.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},f.onFocus=function(){e.accessibilityManager.focus()});var p=this.parseEventsOfWrapper();return V.createElement(qJ,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement("div",j1({className:$T("recharts-wrapper",o),style:z1({position:"relative",cursor:"default",width:a,height:s},l)},p,{ref:function(t){e.container=t}}),V.createElement(jP,j1({},f,{width:a,height:s,title:u,desc:h,style:q1}),this.renderClipPath(),kP(i,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],r&&P1(n.prototype,r),o&&P1(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}();B1(f,"displayName",t),B1(f,"defaultProps",z1({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),B1(f,"getDerivedStateFromProps",function(e,t){var n=e.dataKey,r=e.data,i=e.children,o=e.width,a=e.height,s=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,h=t.dataEndIndex;if(void 0===t.updateId){var f=Z1(e);return z1(z1(z1({},f),{},{updateId:0},d(z1(z1({props:e},f),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(n!==t.prevDataKey||r!==t.prevData||o!==t.prevWidth||a!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!eP(c,t.prevMargin)){var p=Z1(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},y=z1(z1({},X1(t,r,s)),{},{updateId:t.updateId+1}),g=z1(z1(z1({},p),m),y);return z1(z1(z1({},g),d(z1({props:e},g),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(!SP(i,t.prevChildren)){var v,b,x,w,S=vP(i,kQ),E=S&&null!==(v=null===(b=S.props)||void 0===b?void 0:b.startIndex)&&void 0!==v?v:u,k=S&&null!==(x=null===(w=S.props)||void 0===w?void 0:w.endIndex)&&void 0!==x?x:h,_=E!==u||k!==h,O=!fN(r)&&!_?t.updateId:t.updateId+1;return z1(z1({updateId:O},d(z1(z1({props:e},t),{},{updateId:O,dataStartIndex:E,dataEndIndex:k}),t)),{},{prevChildren:i,dataStartIndex:E,dataEndIndex:k})}return null}),B1(f,"renderActiveDot",function(e,t,n){var r;return r=B.isValidElement(e)?B.cloneElement(e,t):wj(e)?e(t):V.createElement(iX,t),V.createElement(AP,{className:"recharts-active-dot",key:n},r)});var p=B.forwardRef(function(e,t){return V.createElement(f,j1({},e,{ref:t}))});return p.displayName=f.displayName,p},i2=r2({chartName:"LineChart",GraphicalChild:F0,axisComponents:[{axisType:"xAxis",AxisComp:Y0},{axisType:"yAxis",AxisComp:a1}],formatAxisMap:SJ}),o2=r2({chartName:"BarChart",GraphicalChild:mJ,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Y0},{axisType:"yAxis",AxisComp:a1}],formatAxisMap:SJ});function a2(){var e,t,n;const{user:r,savePortfolio:i}=iT(),[o,a]=B.useState({initialInvestment:1e4,monthlyContribution:500,annualDividendYield:4.5,dividendGrowthRate:3,yearsToProject:25,stockAppreciationRate:6,dividendFrequency:4,contributionFrequency:12}),s=B.useMemo(()=>{const e=[],{initialInvestment:t,monthlyContribution:n,annualDividendYield:r,dividendGrowthRate:i,yearsToProject:a,stockAppreciationRate:s,dividendFrequency:l,contributionFrequency:c}=o;let u=100,h=t/u,d=t,f=0,p=u*(r/100);const m=12*n/c;e.push({year:0,portfolioValue:Math.round(h*u),totalContributions:Math.round(d),totalDividends:0,monthlyIncome:Math.round(h*p/12),dividendYield:r.toFixed(2),sharePrice:Math.round(100*u)/100,sharesOwned:Math.round(100*h)/100});for(let o=1;o<=a;o++){let t=p;const n=Math.max(l,c),r=Math.pow(1+s/100,1/n)-1;for(let e=1;e<=n;e++){if((e%(n/c)===1||c===n)&&m>0){d+=m;h+=m/u}if(e%(n/l)===1||l===n){const e=h*(t/l);f+=e;h+=e/u}u*=1+r}p*=1+i/100;const a=h*u,y=p/u*100,g=h*p/12;e.push({year:o,portfolioValue:Math.round(a),totalContributions:Math.round(d),totalDividends:Math.round(f),monthlyIncome:Math.round(g),dividendYield:y.toFixed(2),sharePrice:Math.round(100*u)/100,sharesOwned:Math.round(100*h)/100})}return e},[o]),l=B.useMemo(()=>{const e=s[s.length-1],t=o.initialInvestment,n=(e.portfolioValue-e.totalContributions)/e.totalContributions*100,r=Math.pow(e.portfolioValue/e.totalContributions,1/o.yearsToProject)-1,i=12*e.monthlyIncome/t*100;let a="Moderate",l="";return o.annualDividendYield>6?(a="High",l="High dividend yields may indicate higher risk. Consider diversifying with lower-yield, higher-growth stocks."):o.annualDividendYield<3?(a="Low",l="Conservative approach with growth potential. Consider increasing dividend allocation for more income."):l="Balanced approach with good growth and income potential. Well-suited for long-term TFSA growth.",{riskLevel:a,recommendation:l,totalReturnPercent:n.toFixed(2),averageAnnualReturn:(100*r).toFixed(2),yieldOnCost:i.toFixed(2),annualDividendIncome:12*e.monthlyIncome,totalDividendPayments:e.totalDividends,endingBalance:e.portfolioValue,tfsaEfficiency:o.yearsToProject>=20?"Excellent":"Good"}},[s,o]),c=(e,t)=>{a(n=>({...n,[e]:Number(t)}))};return Q.jsx("div",{className:"pt-16 min-h-screen",children:Q.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[Q.jsxs("div",{className:"text-center mb-12",children:[Q.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Canadian TFSA DRIP Calculator"}),Q.jsxs("p",{className:"text-xl text-slate-300 max-w-3xl mx-auto",children:["Calculate your dividend reinvestment growth potential with your"," ",Q.jsx("span",{className:"text-primary-400 font-semibold",children:"$7,000 2025 TFSA contribution room"}),". See how DRIP strategies build tax-free retirement income over time."]})]}),Q.jsx("div",{className:"bg-gradient-to-r from-primary-600/20 to-blue-600/20 border border-primary-500/30 rounded-xl p-6 mb-8",children:Q.jsxs("div",{className:"text-center",children:[Q.jsx("h2",{className:"text-xl font-bold text-primary-300 mb-2",children:"2025 TFSA Contribution Limits"}),Q.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[Q.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4",children:[Q.jsx("div",{className:"text-2xl font-bold text-primary-400",children:"$7,000"}),Q.jsx("div",{className:"text-sm text-slate-300",children:"2025 Contribution Limit"})]}),Q.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4",children:[Q.jsx("div",{className:"text-2xl font-bold text-blue-400",children:"$102,000"}),Q.jsx("div",{className:"text-sm text-slate-300",children:"Total Lifetime Room"})]}),Q.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4",children:[Q.jsx("div",{className:"text-2xl font-bold text-green-400",children:"0%"}),Q.jsx("div",{className:"text-sm text-slate-300",children:"Tax on Growth & Withdrawals"})]})]})]})}),Q.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[Q.jsx("div",{className:"lg:col-span-1",children:Q.jsxs("div",{className:"card sticky top-24",children:[Q.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[Q.jsx(fT,{className:"w-5 h-5 text-primary-400"}),Q.jsx("h2",{className:"text-lg font-semibold text-white",children:"Investment Parameters"})]}),Q.jsxs("div",{className:"space-y-6",children:[Q.jsxs("div",{children:[Q.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Initial Investment (CAD)"}),Q.jsx("input",{type:"number",value:o.initialInvestment,onChange:e=>c("initialInvestment",e.target.value),className:"input-field",min:"0"}),Q.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Start with your available TFSA room"})]}),Q.jsxs("div",{children:[Q.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Monthly Contribution (CAD)"}),Q.jsx("input",{type:"number",value:o.monthlyContribution,onChange:e=>c("monthlyContribution",e.target.value),className:"input-field",min:"0"}),Q.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"$583/month = $7,000 annually"})]}),Q.jsxs("div",{children:[Q.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Annual Dividend Yield (%)"}),Q.jsx("input",{type:"number",step:"0.1",value:o.annualDividendYield,onChange:e=>c("annualDividendYield",e.target.value),className:"input-field",min:"0",max:"20"}),Q.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Canadian banks: 3-5%, REITs: 4-7%"})]}),Q.jsxs("div",{children:[Q.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Dividend Growth Rate (%)"}),Q.jsx("input",{type:"number",step:"0.1",value:o.dividendGrowthRate,onChange:e=>c("dividendGrowthRate",e.target.value),className:"input-field",min:"0",max:"20"}),Q.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Historical Canadian average: 3-5%"})]}),Q.jsxs("div",{children:[Q.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Stock Appreciation Rate (%)"}),Q.jsx("input",{type:"number",step:"0.1",value:o.stockAppreciationRate,onChange:e=>c("stockAppreciationRate",e.target.value),className:"input-field",min:"0",max:"20"}),Q.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"TSX historical average: ~7%"})]}),Q.jsxs("div",{children:[Q.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Years to Project"}),Q.jsx("input",{type:"number",value:o.yearsToProject,onChange:e=>c("yearsToProject",e.target.value),className:"input-field",min:"1",max:"50"})]}),Q.jsxs("div",{children:[Q.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Dividend Frequency"}),Q.jsxs("select",{value:o.dividendFrequency,onChange:e=>c("dividendFrequency",e.target.value),className:"input-field",children:[Q.jsx("option",{value:1,children:"Annually"}),Q.jsx("option",{value:2,children:"Semi-annually"}),Q.jsx("option",{value:4,children:"Quarterly"}),Q.jsx("option",{value:12,children:"Monthly"})]}),Q.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Monthly payers compound faster"})]}),r&&Q.jsxs("button",{onClick:()=>{if(!r)return void _f.error("Please log in to save portfolios");const e={name:`DRIP Portfolio ${(new Date).toLocaleDateString()}`,type:"drip",inputs:o,projectionData:s,analysis:l};i(e)&&_f.success("Portfolio saved successfully!")},className:"w-full btn-primary flex items-center justify-center gap-2",children:[Q.jsx(CT,{className:"w-4 h-4"}),"Save Portfolio"]})]})]})}),Q.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[Q.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[{label:"Final Portfolio Value",value:`$${null==(e=s[s.length-1])?void 0:e.portfolioValue.toLocaleString()}`,icon:vT,color:"text-primary-400"},{label:"Monthly Income (Final)",value:`$${null==(t=s[s.length-1])?void 0:t.monthlyIncome.toLocaleString()}`,icon:IT,color:"text-blue-400"},{label:"Total Dividends",value:`$${null==(n=s[s.length-1])?void 0:n.totalDividends.toLocaleString()}`,icon:TT,color:"text-purple-400"},{label:"Total Return",value:`${l.totalReturnPercent}%`,icon:fT,color:"text-orange-400"}].map((e,t)=>Q.jsxs("div",{className:"card",children:[Q.jsx("div",{className:"flex items-center gap-2 mb-2",children:Q.jsx(e.icon,{className:`w-5 h-5 ${e.color}`})}),Q.jsx("p",{className:"text-slate-400 text-sm",children:e.label}),Q.jsx("p",{className:"text-white text-xl font-bold",children:e.value})]},t))}),Q.jsxs("div",{className:"card",children:[Q.jsxs("h3",{className:"text-xl font-semibold text-white mb-6",children:["Your Portfolio After ",o.yearsToProject," Years"]}),Q.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[Q.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-4 text-center",children:[Q.jsx("h4",{className:"text-sm text-slate-400 mb-1",children:"YIELD ON COST"}),Q.jsxs("p",{className:"text-xl font-bold text-yellow-400",children:[l.yieldOnCost,"%"]})]}),Q.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-4 text-center",children:[Q.jsx("h4",{className:"text-sm text-slate-400 mb-1",children:"AVERAGE ANNUAL RETURN"}),Q.jsxs("p",{className:"text-xl font-bold text-green-400",children:[l.averageAnnualReturn,"%"]})]}),Q.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-4 text-center",children:[Q.jsx("h4",{className:"text-sm text-slate-400 mb-1",children:"ANNUAL DIVIDEND INCOME"}),Q.jsxs("p",{className:"text-xl font-bold text-purple-400",children:["$",l.annualDividendIncome.toLocaleString()]})]})]}),Q.jsx("div",{className:"p-4 bg-primary-500/10 rounded-lg",children:Q.jsxs("p",{className:"text-sm text-primary-300",children:[Q.jsx("strong",{children:"Yield on Cost"})," shows your annual dividend income as a percentage of your original investment. At ",l.yieldOnCost,"%, your dividends alone provide excellent income growth over ",o.yearsToProject," years."]})})]}),Q.jsxs("div",{className:"card",children:[Q.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[Q.jsx(hT,{className:"w-5 h-5 text-purple-400"}),Q.jsx("h3",{className:"text-lg font-semibold text-white",children:"AI Investment Analysis"}),Q.jsx("span",{className:"text-xs bg-slate-700 text-slate-300 px-2 py-1 rounded",children:"Educational"})]}),Q.jsxs("div",{className:"space-y-4",children:[Q.jsxs("div",{className:"flex items-center gap-2",children:[Q.jsx("span",{className:"text-sm text-purple-300",children:"Risk Level:"}),Q.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium "+("High"===l.riskLevel?"bg-red-500/20 text-red-300":"Low"===l.riskLevel?"bg-green-500/20 text-green-300":"bg-yellow-500/20 text-yellow-300"),children:l.riskLevel})]}),Q.jsxs("div",{className:"flex items-center gap-2",children:[Q.jsx("span",{className:"text-sm text-purple-300",children:"TFSA Efficiency:"}),Q.jsx("span",{className:"text-primary-300 font-semibold",children:l.tfsaEfficiency})]}),Q.jsx("p",{className:"text-sm text-slate-300 leading-relaxed bg-slate-700/30 p-3 rounded-lg",children:l.recommendation}),Q.jsx("div",{className:"text-xs text-slate-500 bg-slate-800/30 p-2 rounded",children:"Educational analysis • Not investment advice • Consult professionals"})]})]}),Q.jsxs("div",{className:"card",children:[Q.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Portfolio Growth Projection"}),Q.jsx("div",{className:"h-80",children:Q.jsx(PU,{width:"100%",height:"100%",children:Q.jsxs(i2,{data:s,children:[Q.jsx(w0,{strokeDasharray:"3 3",stroke:"#374151"}),Q.jsx(Y0,{dataKey:"year",stroke:"#9CA3AF",fontSize:12}),Q.jsx(a1,{stroke:"#9CA3AF",fontSize:12,tickFormatter:e=>`$${(e/1e3).toFixed(0)}k`}),Q.jsx(iU,{contentStyle:{backgroundColor:"#1E293B",border:"1px solid #334155",borderRadius:"8px",color:"#F8FAFC"},formatter:(e,t)=>[`$${e.toLocaleString()}`,t]}),Q.jsx(kL,{}),Q.jsx(F0,{type:"monotone",dataKey:"portfolioValue",stroke:"#10B981",strokeWidth:3,name:"Portfolio Value",dot:!1}),Q.jsx(F0,{type:"monotone",dataKey:"totalContributions",stroke:"#6B7280",strokeWidth:2,strokeDasharray:"5 5",name:"Total Contributions",dot:!1})]})})})]}),Q.jsxs("div",{className:"card",children:[Q.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Projected Monthly Dividend Income"}),Q.jsx("div",{className:"h-80",children:Q.jsx(PU,{width:"100%",height:"100%",children:Q.jsxs(o2,{data:s.filter((e,t)=>t%5==0),children:[Q.jsx(w0,{strokeDasharray:"3 3",stroke:"#374151"}),Q.jsx(Y0,{dataKey:"year",stroke:"#9CA3AF",fontSize:12}),Q.jsx(a1,{stroke:"#9CA3AF",fontSize:12,tickFormatter:e=>`$${e.toLocaleString()}`}),Q.jsx(iU,{contentStyle:{backgroundColor:"#1E293B",border:"1px solid #334155",borderRadius:"8px",color:"#F8FAFC"},formatter:e=>[`$${e.toLocaleString()}`,"Monthly Income"]}),Q.jsx(mJ,{dataKey:"monthlyIncome",fill:"#3B82F6"})]})})})]}),Q.jsxs("div",{className:"card",children:[Q.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Understanding DRIP in Your TFSA"}),Q.jsxs("div",{className:"space-y-4",children:[Q.jsxs("div",{className:"flex items-start gap-3",children:[Q.jsx(yT,{className:"w-5 h-5 text-green-400 mt-0.5"}),Q.jsxs("div",{children:[Q.jsx("h4",{className:"font-medium text-white",children:"Compound Growth Power"}),Q.jsx("p",{className:"text-sm text-slate-300",children:"DRIP automatically reinvests dividends to buy more shares, which generate more dividends. This creates exponential growth over time."})]})]}),Q.jsxs("div",{className:"flex items-start gap-3",children:[Q.jsx(yT,{className:"w-5 h-5 text-green-400 mt-0.5"}),Q.jsxs("div",{children:[Q.jsx("h4",{className:"font-medium text-white",children:"Tax-Free Growth"}),Q.jsx("p",{className:"text-sm text-slate-300",children:"In a TFSA, all dividend income and capital gains grow completely tax-free. You keep 100% of your returns."})]})]}),Q.jsxs("div",{className:"flex items-start gap-3",children:[Q.jsx(yT,{className:"w-5 h-5 text-green-400 mt-0.5"}),Q.jsxs("div",{children:[Q.jsx("h4",{className:"font-medium text-white",children:"Dollar-Cost Averaging"}),Q.jsx("p",{className:"text-sm text-slate-300",children:"Regular contributions smooth out market volatility by buying more shares when prices are low and fewer when prices are high."})]})]})]})]})]})]})]})})}function s2(){const e=[{title:"Contribution Limits",description:"2025 limit is $7,000. Total lifetime room is $102,000 if eligible since 2009.",icon:vT,color:"text-green-400"},{title:"Over-Contribution Penalties",description:"1% per month penalty on excess contributions. Check your available room first.",icon:cT,color:"text-red-400"},{title:"Withdrawal Rules",description:"Withdraw anytime tax-free. Room is restored January 1st following withdrawal year.",icon:pT,color:"text-blue-400"},{title:"Investment Income",description:"All investment growth, dividends, and capital gains are tax-free forever.",icon:IT,color:"text-purple-400"},{title:"Day Trading Restrictions",description:"Frequent trading may be considered business income. Keep it long-term focused.",icon:NT,color:"text-orange-400"},{title:"Foreign Withholding Tax",description:"US stocks subject to 15% withholding tax. Canadian stocks have no withholding.",icon:PT,color:"text-yellow-400"}];return Q.jsx("div",{className:"pt-16 min-h-screen",children:Q.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[Q.jsxs("div",{className:"text-center mb-12",children:[Q.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Complete TFSA Investment Guide 2025"}),Q.jsx("p",{className:"text-xl text-slate-300 max-w-3xl mx-auto",children:"Master Canadian Tax-Free Savings Account strategies to build sustainable retirement income. Learn proven investment approaches, DRIP techniques, and avoid costly mistakes."})]}),Q.jsxs("section",{className:"bg-gradient-to-r from-primary-600/20 to-blue-600/20 border border-primary-500/30 rounded-xl p-8 mb-12",children:[Q.jsx("h2",{className:"text-2xl font-bold text-white mb-6 text-center",children:"2025 TFSA Updates & Contribution Limits"}),Q.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[Q.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-6 text-center",children:[Q.jsx(vT,{className:"w-8 h-8 text-primary-400 mx-auto mb-3"}),Q.jsx("div",{className:"text-3xl font-bold text-primary-400 mb-2",children:"$7,000"}),Q.jsx("div",{className:"text-sm text-slate-300",children:"2025 Annual Contribution Limit"}),Q.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Same as 2024"})]}),Q.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-6 text-center",children:[Q.jsx(fT,{className:"w-8 h-8 text-blue-400 mx-auto mb-3"}),Q.jsx("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:"$102,000"}),Q.jsx("div",{className:"text-sm text-slate-300",children:"Total Lifetime Contribution Room"}),Q.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"If eligible since 2009"})]}),Q.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-6 text-center",children:[Q.jsx(IT,{className:"w-8 h-8 text-green-400 mx-auto mb-3"}),Q.jsx("div",{className:"text-3xl font-bold text-green-400 mb-2",children:"0%"}),Q.jsx("div",{className:"text-sm text-slate-300",children:"Tax on Growth & Withdrawals"}),Q.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Forever tax-free"})]})]}),Q.jsxs("div",{className:"text-center",children:[Q.jsx("p",{className:"text-slate-300 mb-4",children:"The TFSA contribution limit remains at $7,000 for 2025. Use your full contribution room to maximize tax-free growth potential."}),Q.jsxs(xd,{to:"/tfsa/drip-calculator",className:"btn-primary",children:["Calculate Your 2025 Strategy",Q.jsx(uT,{className:"w-4 h-4 ml-2"})]})]})]}),Q.jsxs("section",{className:"mb-12",children:[Q.jsx("h2",{className:"text-3xl font-bold text-white mb-8 text-center",children:"Essential TFSA Rules Every Canadian Must Know"}),Q.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((e,t)=>Q.jsxs("div",{className:"card",children:[Q.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[Q.jsx(e.icon,{className:`w-6 h-6 ${e.color}`}),Q.jsx("h3",{className:"text-lg font-semibold text-white",children:e.title})]}),Q.jsx("p",{className:"text-slate-300 text-sm leading-relaxed",children:e.description})]},t))}),Q.jsx("div",{className:"mt-8 p-6 bg-red-500/10 border border-red-500/30 rounded-xl",children:Q.jsxs("div",{className:"flex items-start gap-3",children:[Q.jsx(cT,{className:"w-6 h-6 text-red-400 mt-1 flex-shrink-0"}),Q.jsxs("div",{children:[Q.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Important CRA Warning"}),Q.jsx("p",{className:"text-slate-300 text-sm leading-relaxed",children:"The CRA closely monitors TFSA accounts for business income activities. Frequent trading, day trading, or operating an investment business within your TFSA can result in all gains being taxed as business income. Keep your TFSA focused on long-term investing and DRIP strategies to maintain tax-free status."})]})]})})]}),Q.jsxs("section",{className:"mb-12",children:[Q.jsx("h2",{className:"text-3xl font-bold text-white mb-8 text-center",children:"Proven TFSA Investment Strategies for 2025"}),Q.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[{name:"Conservative Income Strategy",riskLevel:"Low",targetYield:"4-5%",allocation:{"Canadian Big Banks":40,"Utilities & Infrastructure":30,"Telecom & Consumer Staples":20,REITs:10},examples:["RY.TO","TD.TO","FTS.TO","ENB.TO","BCE.TO"],bestFor:"Investors 10+ years from retirement seeking steady income"},{name:"Growth-Focused Strategy",riskLevel:"Moderate",targetYield:"3-4%",allocation:{"Canadian Growth Dividend Stocks":30,"Technology & Innovation":25,"US Dividend Aristocrats (ETFs)":25,"Emerging Dividend Growers":20},examples:["SHOP.TO","CSU.TO","VTI","SCHD","VYM"],bestFor:"Investors 20+ years from retirement seeking growth"},{name:"Monthly Income Strategy",riskLevel:"Moderate",targetYield:"5-7%",allocation:{"Monthly Dividend Stocks":50,REITs:30,"High-Yield ETFs":20},examples:["EIF.TO","CSH.UN","CAR.UN","HR.UN","KEY.TO"],bestFor:"Investors wanting frequent dividend payments for DRIP"}].map((e,t)=>Q.jsxs("div",{className:"card",children:[Q.jsxs("div",{className:"mb-6",children:[Q.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:e.name}),Q.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[Q.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium "+("Low"===e.riskLevel?"bg-green-500/20 text-green-400":"Moderate"===e.riskLevel?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"),children:[e.riskLevel," Risk"]}),Q.jsxs("span",{className:"text-sm text-slate-400",children:["Target: ",e.targetYield]})]}),Q.jsx("p",{className:"text-sm text-slate-300 italic",children:e.bestFor})]}),Q.jsxs("div",{className:"mb-6",children:[Q.jsx("h4",{className:"font-semibold text-white mb-3",children:"Portfolio Allocation:"}),Q.jsx("div",{className:"space-y-2",children:Object.entries(e.allocation).map(([e,t])=>Q.jsxs("div",{className:"flex justify-between items-center",children:[Q.jsx("span",{className:"text-sm text-slate-300",children:e}),Q.jsxs("span",{className:"text-sm font-medium text-white",children:[t,"%"]})]},e))})]}),Q.jsxs("div",{className:"mb-6",children:[Q.jsx("h4",{className:"font-semibold text-white mb-3",children:"Example Holdings:"}),Q.jsx("div",{className:"flex flex-wrap gap-2",children:e.examples.map((e,t)=>Q.jsx("span",{className:"px-2 py-1 bg-slate-700/50 rounded text-xs text-slate-300",children:e},t))})]}),Q.jsx(xd,{to:"/tfsa/drip-calculator",className:"w-full btn-secondary text-center",children:"Model This Strategy"})]},t))})]}),Q.jsxs("section",{className:"mb-12",children:[Q.jsx("h2",{className:"text-3xl font-bold text-white mb-8 text-center",children:"Top Canadian Dividend Stocks for TFSA"}),Q.jsx("p",{className:"text-center text-slate-300 mb-8 max-w-3xl mx-auto",children:"These established Canadian companies offer reliable dividends with growth potential, perfect for DRIP strategies in your TFSA. No foreign withholding taxes apply."}),Q.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{symbol:"RY.TO",name:"Royal Bank of Canada",sector:"Financial",yield:"3.5-3.9%",growth:"Strong track record",description:"Canada's largest bank with consistent dividend growth"},{symbol:"ENB.TO",name:"Enbridge Inc.",sector:"Energy Infrastructure",yield:"6.1%",growth:"28 years of increases",description:"North America's largest pipeline company"},{symbol:"FTS.TO",name:"Fortis Inc.",sector:"Utilities",yield:"3.8%",growth:"49 years consecutive",description:"Utility with longest dividend growth streak in Canada"},{symbol:"T.TO",name:"Telus Corporation",sector:"Telecommunications",yield:"4.8%",growth:"18+ years of increases",description:"Leading Canadian telecom with strong dividend policy"},{symbol:"EIF.TO",name:"Exchange Income Corp",sector:"Aviation/Manufacturing",yield:"4.6%",growth:"Monthly payments",description:"Monthly dividend payer ideal for DRIP strategies"},{symbol:"CSH.UN",name:"Chartwell Retirement",sector:"Real Estate",yield:"3.4%",growth:"Growing with aging population",description:"Senior housing REIT with monthly distributions"}].map((e,t)=>Q.jsxs("div",{className:"card",children:[Q.jsxs("div",{className:"flex justify-between items-start mb-3",children:[Q.jsxs("div",{children:[Q.jsx("h3",{className:"text-lg font-semibold text-white",children:e.symbol}),Q.jsx("p",{className:"text-sm text-slate-400",children:e.name})]}),Q.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 rounded text-xs",children:e.sector})]}),Q.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[Q.jsxs("div",{children:[Q.jsx("div",{className:"text-xs text-slate-400",children:"Current Yield"}),Q.jsx("div",{className:"text-lg font-semibold text-green-400",children:e.yield})]}),Q.jsxs("div",{children:[Q.jsx("div",{className:"text-xs text-slate-400",children:"Dividend Growth"}),Q.jsx("div",{className:"text-sm font-medium text-blue-400",children:e.growth})]})]}),Q.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:e.description})]},t))}),Q.jsxs("div",{className:"mt-8 text-center",children:[Q.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"* Yields and data are approximate and subject to market changes. Always research current financials before investing."}),Q.jsx(xd,{to:"/tfsa/drip-calculator",className:"btn-primary",children:"Calculate Returns for These Stocks"})]})]}),Q.jsxs("section",{className:"mb-12",children:[Q.jsx("h2",{className:"text-3xl font-bold text-white mb-8 text-center",children:"Your 2025 TFSA Action Plan"}),Q.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[Q.jsxs("div",{className:"text-center",children:[Q.jsx("div",{className:"w-16 h-16 bg-primary-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:Q.jsx("span",{className:"text-primary-400 font-bold text-xl",children:"1"})}),Q.jsx("h3",{className:"font-semibold text-white mb-2",children:"Check Your Room"}),Q.jsx("p",{className:"text-slate-300 text-sm",children:"Log into CRA MyAccount to verify your available TFSA contribution room. Don't exceed your limit to avoid penalties."})]}),Q.jsxs("div",{className:"text-center",children:[Q.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:Q.jsx("span",{className:"text-blue-400 font-bold text-xl",children:"2"})}),Q.jsx("h3",{className:"font-semibold text-white mb-2",children:"Choose Your Strategy"}),Q.jsx("p",{className:"text-slate-300 text-sm",children:"Pick an investment approach based on your risk tolerance and timeline. Conservative, growth-focused, or monthly income strategies."})]}),Q.jsxs("div",{className:"text-center",children:[Q.jsx("div",{className:"w-16 h-16 bg-purple-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:Q.jsx("span",{className:"text-purple-400 font-bold text-xl",children:"3"})}),Q.jsx("h3",{className:"font-semibold text-white mb-2",children:"Setup DRIP"}),Q.jsx("p",{className:"text-slate-300 text-sm",children:"Enable dividend reinvestment with your broker. Focus on Canadian dividend aristocrats with strong growth records."})]}),Q.jsxs("div",{className:"text-center",children:[Q.jsx("div",{className:"w-16 h-16 bg-orange-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:Q.jsx("span",{className:"text-orange-400 font-bold text-xl",children:"4"})}),Q.jsx("h3",{className:"font-semibold text-white mb-2",children:"Track & Optimize"}),Q.jsx("p",{className:"text-slate-300 text-sm",children:"Monitor your progress monthly. Rebalance annually and add your $7,000 contribution each January for maximum growth."})]})]})]}),Q.jsxs("section",{className:"bg-gradient-to-r from-primary-600/20 to-blue-600/20 border border-primary-500/30 rounded-xl p-8 text-center",children:[Q.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Ready to Build Your TFSA Income Strategy?"}),Q.jsx("p",{className:"text-slate-300 mb-6 max-w-2xl mx-auto",children:"Use our advanced DRIP calculator to model different investment scenarios and see how your $7,000 2025 contribution can grow into substantial retirement income."}),Q.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[Q.jsxs(xd,{to:"/tfsa/drip-calculator",className:"btn-primary",children:["Start Calculating Your Strategy",Q.jsx(fT,{className:"w-5 h-5 ml-2"})]}),Q.jsx(xd,{to:"/register",className:"btn-secondary",children:"Create Account to Save Progress"})]})]})]})})}function l2(){const[e,t]=B.useState(5e3),[n,r]=B.useState({housing:1500,transportation:400,food:600,utilities:200,phone:80,entertainment:300,other:500}),i=Object.values(n).reduce((e,t)=>e+t,0),o=e-i,a=(o/e*100).toFixed(1),s=[{category:"Housing",icon:wT,color:"text-blue-400",tips:["Consider house hacking - rent out basement/rooms","Refinance mortgage if rates have dropped","Property tax appeals can reduce annual costs","Bundle home/auto insurance for discounts"],potentialSavings:"$200-500/month"},{category:"Transportation",icon:mT,color:"text-green-400",tips:["Use public transit or carpool when possible","Consider car-sharing services vs ownership","Shop around for auto insurance annually","Walk/bike for trips under 2km"],potentialSavings:"$150-400/month"},{category:"Food & Dining",icon:RT,color:"text-orange-400",tips:["Meal prep on weekends to avoid takeout","Use grocery store apps for cashback","Buy generic brands for staples","Cook at home 5+ nights per week"],potentialSavings:"$200-400/month"},{category:"Subscriptions & Bills",icon:OT,color:"text-purple-400",tips:["Cancel unused streaming services","Negotiate phone/internet bills annually","Use energy-efficient appliances","Switch to no-fee banking"],potentialSavings:"$50-200/month"}],l=(e,t)=>{r(n=>({...n,[e]:Number(t)}))};return Q.jsx("div",{className:"pt-16 min-h-screen",children:Q.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[Q.jsxs("div",{className:"text-center mb-12",children:[Q.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Smart Money Saving Strategies for Canadians"}),Q.jsx("p",{className:"text-xl text-slate-300 max-w-3xl mx-auto",children:"Discover proven techniques to reduce expenses, optimize your budget, and find more money to invest in your TFSA. Every dollar saved is a dollar that can grow tax-free."})]}),Q.jsx("section",{className:"mb-12",children:Q.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[Q.jsxs("div",{className:"card",children:[Q.jsxs("h2",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[Q.jsx(fT,{className:"w-5 h-5 text-primary-400"}),"Monthly Budget Calculator"]}),Q.jsxs("div",{className:"space-y-4",children:[Q.jsxs("div",{children:[Q.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Monthly After-Tax Income (CAD)"}),Q.jsx("input",{type:"number",value:e,onChange:e=>t(Number(e.target.value)),className:"input-field",min:"0"})]}),Q.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Q.jsxs("div",{children:[Q.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Housing/Rent"}),Q.jsx("input",{type:"number",value:n.housing,onChange:e=>l("housing",e.target.value),className:"input-field",min:"0"})]}),Q.jsxs("div",{children:[Q.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Transportation"}),Q.jsx("input",{type:"number",value:n.transportation,onChange:e=>l("transportation",e.target.value),className:"input-field",min:"0"})]})]}),Q.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Q.jsxs("div",{children:[Q.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Food & Groceries"}),Q.jsx("input",{type:"number",value:n.food,onChange:e=>l("food",e.target.value),className:"input-field",min:"0"})]}),Q.jsxs("div",{children:[Q.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Utilities"}),Q.jsx("input",{type:"number",value:n.utilities,onChange:e=>l("utilities",e.target.value),className:"input-field",min:"0"})]})]}),Q.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Q.jsxs("div",{children:[Q.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Phone/Internet"}),Q.jsx("input",{type:"number",value:n.phone,onChange:e=>l("phone",e.target.value),className:"input-field",min:"0"})]}),Q.jsxs("div",{children:[Q.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Entertainment"}),Q.jsx("input",{type:"number",value:n.entertainment,onChange:e=>l("entertainment",e.target.value),className:"input-field",min:"0"})]})]}),Q.jsxs("div",{children:[Q.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Other Expenses"}),Q.jsx("input",{type:"number",value:n.other,onChange:e=>l("other",e.target.value),className:"input-field",min:"0"})]})]})]}),Q.jsxs("div",{className:"space-y-6",children:[Q.jsxs("div",{className:"card",children:[Q.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Budget Summary"}),Q.jsxs("div",{className:"space-y-3",children:[Q.jsxs("div",{className:"flex justify-between items-center",children:[Q.jsx("span",{className:"text-slate-300",children:"Monthly Income"}),Q.jsxs("span",{className:"text-white font-semibold",children:["$",e.toLocaleString()]})]}),Q.jsxs("div",{className:"flex justify-between items-center",children:[Q.jsx("span",{className:"text-slate-300",children:"Total Expenses"}),Q.jsxs("span",{className:"text-red-400 font-semibold",children:["$",i.toLocaleString()]})]}),Q.jsx("div",{className:"border-t border-slate-600 pt-2",children:Q.jsxs("div",{className:"flex justify-between items-center",children:[Q.jsx("span",{className:"text-slate-300",children:"Available for Savings/Investing"}),Q.jsxs("span",{className:"font-semibold "+(o>=0?"text-green-400":"text-red-400"),children:["$",o.toLocaleString()]})]})})]}),Q.jsxs("div",{className:"mt-4 p-3 bg-slate-700/30 rounded-lg",children:[Q.jsxs("div",{className:"flex justify-between items-center mb-2",children:[Q.jsx("span",{className:"text-sm text-slate-400",children:"Savings Rate"}),Q.jsxs("span",{className:"text-lg font-bold "+(Number(a)>=20?"text-green-400":Number(a)>=10?"text-yellow-400":"text-red-400"),children:[a,"%"]})]}),Q.jsx("div",{className:"text-xs text-slate-500",children:"Target: 20%+ for strong financial health"})]})]}),Q.jsxs("div",{className:"card",children:[Q.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"TFSA Investment Potential"}),Q.jsx("p",{className:"text-slate-300 text-sm mb-4",children:"If you invest your available savings in TFSA dividend stocks:"}),Q.jsxs("div",{className:"space-y-3",children:[Q.jsxs("div",{className:"bg-primary-500/10 border border-primary-500/30 rounded-lg p-3",children:[Q.jsx("div",{className:"text-sm text-slate-400",children:"Monthly Investment Capacity"}),Q.jsxs("div",{className:"text-xl font-bold text-primary-400",children:["$",Math.max(0,o).toLocaleString()]})]}),o>0&&Q.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:[Q.jsx("div",{className:"text-sm text-slate-400",children:"Potential Annual TFSA Growth (4.5% dividend)"}),Q.jsxs("div",{className:"text-lg font-semibold text-blue-400",children:["$",Math.round(12*o*.045).toLocaleString()," in dividends"]})]})]})]})]})]})}),Q.jsxs("section",{className:"mb-12",children:[Q.jsx("h2",{className:"text-3xl font-bold text-white mb-8 text-center",children:"Proven Money-Saving Strategies by Category"}),Q.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:s.map((e,t)=>Q.jsxs("div",{className:"card",children:[Q.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[Q.jsx(e.icon,{className:`w-6 h-6 ${e.color}`}),Q.jsx("h3",{className:"text-xl font-semibold text-white",children:e.category}),Q.jsx("span",{className:"ml-auto text-sm bg-green-500/20 text-green-400 px-2 py-1 rounded",children:e.potentialSavings})]}),Q.jsx("ul",{className:"space-y-2",children:e.tips.map((e,t)=>Q.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-300",children:[Q.jsx("div",{className:"w-1.5 h-1.5 bg-primary-400 rounded-full mt-2 flex-shrink-0"}),e]},t))})]},t))})]}),Q.jsxs("section",{className:"mb-12",children:[Q.jsx("h2",{className:"text-3xl font-bold text-white mb-8 text-center",children:"Canadian Cost of Living Comparison"}),Q.jsx("p",{className:"text-center text-slate-300 mb-8 max-w-3xl mx-auto",children:"Compare average monthly living costs across major Canadian cities. Consider relocating to lower-cost areas to increase your savings rate and TFSA contributions."}),Q.jsx("div",{className:"overflow-x-auto",children:Q.jsxs("table",{className:"w-full bg-slate-800/50 rounded-xl overflow-hidden",children:[Q.jsx("thead",{className:"bg-slate-700/50",children:Q.jsxs("tr",{children:[Q.jsx("th",{className:"px-6 py-4 text-left text-white font-semibold",children:"City"}),Q.jsx("th",{className:"px-6 py-4 text-center text-white font-semibold",children:"Housing"}),Q.jsx("th",{className:"px-6 py-4 text-center text-white font-semibold",children:"Food"}),Q.jsx("th",{className:"px-6 py-4 text-center text-white font-semibold",children:"Transport"}),Q.jsx("th",{className:"px-6 py-4 text-center text-white font-semibold",children:"Total"}),Q.jsx("th",{className:"px-6 py-4 text-center text-white font-semibold",children:"Savings Potential*"})]})}),Q.jsx("tbody",{children:[{city:"Toronto",housing:2200,food:800,transport:150,total:3150},{city:"Vancouver",housing:2500,food:750,transport:140,total:3390},{city:"Montreal",housing:1200,food:650,transport:90,total:1940},{city:"Calgary",housing:1400,food:700,transport:120,total:2220},{city:"Ottawa",housing:1500,food:700,transport:110,total:2310},{city:"Edmonton",housing:1100,food:650,transport:100,total:1850}].map((e,t)=>Q.jsxs("tr",{className:"border-t border-slate-600",children:[Q.jsx("td",{className:"px-6 py-4 text-white font-medium",children:e.city}),Q.jsxs("td",{className:"px-6 py-4 text-center text-slate-300",children:["$",e.housing]}),Q.jsxs("td",{className:"px-6 py-4 text-center text-slate-300",children:["$",e.food]}),Q.jsxs("td",{className:"px-6 py-4 text-center text-slate-300",children:["$",e.transport]}),Q.jsxs("td",{className:"px-6 py-4 text-center font-semibold text-white",children:["$",e.total]}),Q.jsx("td",{className:"px-6 py-4 text-center",children:Q.jsxs("span",{className:"font-semibold "+(e.total<2500?"text-green-400":e.total<3e3?"text-yellow-400":"text-red-400"),children:["$",5e3-e.total>0?5e3-e.total:0]})})]},t))})]})}),Q.jsx("p",{className:"text-xs text-slate-500 mt-4 text-center",children:"* Savings potential based on $5,000 monthly after-tax income. Actual costs vary by lifestyle and specific location."})]}),Q.jsx("section",{className:"mb-12",children:Q.jsxs("div",{className:"card",children:[Q.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[Q.jsx(lT,{className:"w-6 h-6 text-yellow-400"}),"Emergency Fund Before Investing"]}),Q.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[Q.jsxs("div",{children:[Q.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Build Your Safety Net First"}),Q.jsx("p",{className:"text-slate-300 mb-4 leading-relaxed",children:"Before maximizing TFSA contributions, ensure you have 3-6 months of expenses in a high-interest savings account. This prevents you from having to withdraw TFSA investments during emergencies."}),Q.jsxs("div",{className:"space-y-3",children:[Q.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-700/30 rounded-lg",children:[Q.jsx("span",{className:"text-slate-300",children:"3 Months Emergency Fund"}),Q.jsxs("span",{className:"text-yellow-400 font-semibold",children:["$",(3*i).toLocaleString()]})]}),Q.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-700/30 rounded-lg",children:[Q.jsx("span",{className:"text-slate-300",children:"6 Months Emergency Fund"}),Q.jsxs("span",{className:"text-green-400 font-semibold",children:["$",(6*i).toLocaleString()]})]})]})]}),Q.jsxs("div",{children:[Q.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"High-Interest Savings Options"}),Q.jsxs("div",{className:"space-y-3",children:[Q.jsxs("div",{className:"p-3 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:[Q.jsx("div",{className:"font-medium text-white",children:"High-Interest Savings Accounts"}),Q.jsx("div",{className:"text-sm text-slate-300",children:"2.5-4.5% APY, instant access"})]}),Q.jsxs("div",{className:"p-3 bg-green-500/10 border border-green-500/30 rounded-lg",children:[Q.jsx("div",{className:"font-medium text-white",children:"GICs (1-year)"}),Q.jsx("div",{className:"text-sm text-slate-300",children:"4-5.5% APY, locked for term"})]}),Q.jsxs("div",{className:"p-3 bg-purple-500/10 border border-purple-500/30 rounded-lg",children:[Q.jsx("div",{className:"font-medium text-white",children:"Money Market Funds"}),Q.jsx("div",{className:"text-sm text-slate-300",children:"3-4.5% APY, some liquidity"})]})]})]})]})]})}),Q.jsxs("section",{className:"mb-12",children:[Q.jsx("h2",{className:"text-3xl font-bold text-white mb-8 text-center",children:"Quick Wins: Start Saving This Week"}),Q.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{icon:gT,title:"Cancel Unused Subscriptions",savings:"$50-200/month",description:"Review all recurring charges. Cancel streaming services, gym memberships, and apps you don't use.",difficulty:"Easy"},{icon:OT,title:"Negotiate Bills",savings:"$30-100/month",description:"Call phone, internet, and insurance providers. Ask for better rates or threaten to switch.",difficulty:"Medium"},{icon:vT,title:"Switch to No-Fee Banking",savings:"$15-30/month",description:"Many banks offer no-fee accounts. Move to one and stop paying monthly banking fees.",difficulty:"Easy"},{icon:FT,title:"Reduce Energy Costs",savings:"$20-80/month",description:"Use programmable thermostat, LED bulbs, and unplug electronics when not in use.",difficulty:"Easy"},{icon:mT,title:"Optimize Transportation",savings:"$100-300/month",description:"Use public transit, carpool, or bike more often. Consider selling a second vehicle.",difficulty:"Medium"},{icon:jT,title:"Automate Savings",savings:"Behavioral boost",description:"Set up automatic transfers to savings the day after payday. Pay yourself first.",difficulty:"Easy"}].map((e,t)=>Q.jsxs("div",{className:"card",children:[Q.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[Q.jsx(e.icon,{className:"w-6 h-6 text-primary-400"}),Q.jsx("span",{className:"text-xs px-2 py-1 rounded "+("Easy"===e.difficulty?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"),children:e.difficulty})]}),Q.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:e.title}),Q.jsx("div",{className:"text-primary-400 font-semibold mb-3",children:e.savings}),Q.jsx("p",{className:"text-slate-300 text-sm leading-relaxed",children:e.description})]},t))})]}),Q.jsxs("section",{className:"bg-gradient-to-r from-primary-600/20 to-blue-600/20 border border-primary-500/30 rounded-xl p-8 text-center",children:[Q.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Turn Your Savings Into Investment Growth"}),Q.jsx("p",{className:"text-slate-300 mb-6 max-w-2xl mx-auto",children:"Every dollar you save can be invested in your TFSA for tax-free growth. Use our DRIP calculator to see how much your optimized budget could grow over time."}),Q.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[Q.jsxs("a",{href:"/tfsa/drip-calculator",className:"btn-primary",children:["Calculate Investment Potential",Q.jsx(AT,{className:"w-5 h-5 ml-2"})]}),Q.jsx("a",{href:"/register",className:"btn-secondary",children:"Track Your Progress"})]})]})]})})}const c2=()=>{const[e,t]=B.useState(""),[n,r]=B.useState(""),[i,o]=B.useState(""),[a,s]=B.useState(!1),{login:l}=iT(),c=Zh();return Q.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:Q.jsxs("div",{className:"max-w-md w-full space-y-8",children:[Q.jsx("div",{children:Q.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"})}),Q.jsxs("form",{className:"mt-8 space-y-6",onSubmit:async t=>{t.preventDefault(),o(""),s(!0);try{await l(e,n),c("/dashboard")}catch(r){o("Failed to login: "+r.message)}s(!1)},children:[i&&Q.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:i}),Q.jsxs("div",{className:"space-y-4",children:[Q.jsxs("div",{children:[Q.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),Q.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e,onChange:e=>t(e.target.value),className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Email address"})]}),Q.jsxs("div",{children:[Q.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),Q.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:n,onChange:e=>r(e.target.value),className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Password"})]})]}),Q.jsx("div",{children:Q.jsx("button",{type:"submit",disabled:a,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:a?"Signing in...":"Sign in"})}),Q.jsx("div",{className:"text-center",children:Q.jsx(xd,{to:"/register",className:"text-indigo-600 hover:text-indigo-500",children:"Don't have an account? Sign up"})})]})]})})},u2=()=>{const[e,t]=B.useState(""),[n,r]=B.useState(""),[i,o]=B.useState(""),[a,s]=B.useState(""),[l,c]=B.useState(""),[u,h]=B.useState(""),[d,f]=B.useState(!1),{signup:p}=iT(),m=Zh();return Q.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:Q.jsxs("div",{className:"max-w-md w-full space-y-8",children:[Q.jsx("div",{children:Q.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"})}),Q.jsxs("form",{className:"mt-8 space-y-6",onSubmit:async t=>{if(t.preventDefault(),h(""),n!==i)return h("Passwords do not match");if(n.length<6)return h("Password must be at least 6 characters");f(!0);try{await p(e,n,a,l),m("/dashboard")}catch(r){h("Failed to create account: "+r.message)}f(!1)},children:[u&&Q.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:u}),Q.jsxs("div",{className:"space-y-4",children:[Q.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Q.jsxs("div",{children:[Q.jsx("label",{htmlFor:"firstName",className:"sr-only",children:"First Name"}),Q.jsx("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:a,onChange:e=>s(e.target.value),className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"First Name"})]}),Q.jsxs("div",{children:[Q.jsx("label",{htmlFor:"lastName",className:"sr-only",children:"Last Name"}),Q.jsx("input",{id:"lastName",name:"lastName",type:"text",required:!0,value:l,onChange:e=>c(e.target.value),className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Last Name"})]})]}),Q.jsxs("div",{children:[Q.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),Q.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e,onChange:e=>t(e.target.value),className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Email address"})]}),Q.jsxs("div",{children:[Q.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),Q.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:n,onChange:e=>r(e.target.value),className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Password (min 6 characters)"})]}),Q.jsxs("div",{children:[Q.jsx("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Confirm Password"}),Q.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:i,onChange:e=>o(e.target.value),className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Confirm Password"})]})]}),Q.jsx("div",{children:Q.jsx("button",{type:"submit",disabled:d,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:d?"Creating account...":"Create Account"})}),Q.jsx("div",{className:"text-center",children:Q.jsx(xd,{to:"/login",className:"text-indigo-600 hover:text-indigo-500",children:"Already have an account? Sign in"})})]})]})})},h2=()=>{var e,t;const{currentUser:n}=iT();return Q.jsxs("div",{className:"min-h-screen gradient-bg",children:[Q.jsx(UT,{}),Q.jsx("main",{className:"min-h-screen",children:Q.jsxs(dd,{children:[Q.jsx(ud,{path:"/",element:Q.jsx(BT,{})}),Q.jsx(ud,{path:"/login",element:Q.jsx(c2,{})}),Q.jsx(ud,{path:"/register",element:Q.jsx(u2,{})}),Q.jsx(ud,{path:"/tfsa/drip-calculator",element:Q.jsx(a2,{})}),Q.jsx(ud,{path:"/tfsa/guide",element:Q.jsx(s2,{})}),Q.jsx(ud,{path:"/saving-money",element:Q.jsx(l2,{})}),Q.jsx(ud,{path:"/dashboard",element:Q.jsx("div",{className:"pt-16 min-h-screen",children:Q.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:Q.jsxs("div",{className:"mb-8",children:[Q.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"🎉 Firebase Dashboard Works!"}),Q.jsxs("h2",{className:"text-2xl font-bold text-white mb-4",children:["Welcome back, ",(null==n?void 0:n.displayName)||(null==(e=null==n?void 0:n.email)?void 0:e.split("@")[0])||"User","!"]}),Q.jsxs("div",{className:"bg-green-500/20 border border-green-500 rounded-lg p-6 mb-6",children:[Q.jsx("h3",{className:"text-green-400 font-semibold mb-2",children:"✅ Firebase Integration Complete!"}),Q.jsx("p",{className:"text-white",children:"Your authentication is working perfectly."})]}),Q.jsxs("div",{className:"bg-slate-800 rounded-lg p-6",children:[Q.jsx("h3",{className:"text-white font-semibold mb-4",children:"Your Account Details:"}),Q.jsxs("div",{className:"space-y-2 text-slate-300",children:[Q.jsxs("p",{children:[Q.jsx("strong",{children:"Email:"})," ",null==n?void 0:n.email]}),Q.jsxs("p",{children:[Q.jsx("strong",{children:"Display Name:"})," ",(null==n?void 0:n.displayName)||"Not set"]}),Q.jsxs("p",{children:[Q.jsx("strong",{children:"User ID:"})," ",null==n?void 0:n.uid]}),Q.jsxs("p",{children:[Q.jsx("strong",{children:"Account Created:"})," ",new Date(null==(t=null==n?void 0:n.metadata)?void 0:t.creationTime).toLocaleDateString()]})]})]}),Q.jsxs("div",{className:"mt-6 space-x-4",children:[Q.jsx("a",{href:"/tfsa/drip-calculator",className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg",children:"Create Portfolio"}),Q.jsx("a",{href:"/tfsa/guide",className:"bg-slate-600 hover:bg-slate-700 text-white px-6 py-2 rounded-lg",children:"Investment Guide"})]})]})})})})]})}),Q.jsx(zT,{})]})};function d2(){return Q.jsx(oT,{children:Q.jsx(h2,{})})}J.createRoot(document.getElementById("root")).render(Q.jsx(V.StrictMode,{children:Q.jsx(gd,{children:Q.jsxs(oT,{children:[Q.jsx(d2,{}),Q.jsx(kf,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#1e293b",color:"#f8fafc",border:"1px solid #334155"}}})]})})}));
